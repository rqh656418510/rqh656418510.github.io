<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Clay çš„æŠ€æœ¯åšå®¢</title>
  
  <subtitle>ç”¨è¿›åºŸé€€ | è‰ºä¸å‹èº«</subtitle>
  <link href="https://www.techgrow.cn/atom.xml" rel="self"/>
  
  <link href="https://www.techgrow.cn/"/>
  <updated>2022-09-02T15:12:41.000Z</updated>
  <id>https://www.techgrow.cn/</id>
  
  <author>
    <name>Clay</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>MyBatis-Plus å…¥é—¨æ•™ç¨‹ä¹‹äºŒ</title>
    <link href="https://www.techgrow.cn/posts/3fd3ab84.html"/>
    <id>https://www.techgrow.cn/posts/3fd3ab84.html</id>
    <published>2022-09-02T15:12:41.000Z</published>
    <updated>2022-09-02T15:12:41.000Z</updated>
    
    <content type="html"><![CDATA[<div id="readmore-container"><!-- toc --><h2 id="MyBatis-Plus-å¸¸ç”¨æ³¨è§£"><a href="#MyBatis-Plus-å¸¸ç”¨æ³¨è§£" class="headerlink" title="MyBatis-Plus å¸¸ç”¨æ³¨è§£"></a>MyBatis-Plus å¸¸ç”¨æ³¨è§£</h2><div class="admonition note"><p class="admonition-title">æç¤º</p><p>MyBatis-Plus 3.x æ³¨è§£ç±»åŒ…çš„æºç ï¼šğŸ‘‰ <a href="https://github.com/baomidou/mybatis-plus/tree/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation">mybatis-plus-annotation</a></p></div><h3 id="TableName"><a href="#TableName" class="headerlink" title="@TableName"></a>@TableName</h3><ul><li>æè¿°ï¼šè¡¨åæ³¨è§£ï¼Œæ ‡è¯†å®ä½“ç±»å¯¹åº”çš„è¡¨</li><li>ä½¿ç”¨ä½ç½®ï¼šå®ä½“ç±» </li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableName("sys_user")</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><span id="more"></span><table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>å¿…é¡»æŒ‡å®š</th><th>é»˜è®¤å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td> value</td><td>String</td><td> å¦</td><td><code>""</code></td><td>è¡¨å</td></tr><tr><td> schema</td><td>String</td><td> å¦</td><td><code>""</code></td><td>Schema</td></tr><tr><td>keepGlobalPrefix</td><td>boolean</td><td> å¦</td><td><code>false</code></td><td>æ˜¯å¦ä¿æŒä½¿ç”¨å…¨å±€çš„ <code>tablePrefix</code> çš„å€¼ï¼ˆå½“å…¨å±€ <code>tablePrefix</code> ç”Ÿæ•ˆæ—¶ï¼‰</td></tr><tr><td>resultMap</td><td>String</td><td> å¦</td><td><code>""</code></td><td>SQL æ˜ å°„æ–‡ä»¶ä¸­ <code>resultMap</code> çš„ <code>id</code>ï¼ˆç”¨äºæ»¡è¶³ç‰¹å®šç±»å‹çš„å®ä½“ç±»å¯¹è±¡ç»‘å®šï¼‰</td></tr><tr><td>autoResultMap</td><td>boolean</td><td> å¦</td><td><code>false</code></td><td>æ˜¯å¦è‡ªåŠ¨æ„å»º <code>resultMap</code> å¹¶ä½¿ç”¨ï¼ˆå¦‚æœè®¾ç½® <code>resultMap</code> åˆ™ä¸ä¼šè¿›è¡Œ <code>resultMap</code> çš„è‡ªåŠ¨æ„å»ºä¸æ³¨å…¥ï¼‰</td></tr><tr><td>excludeProperty</td><td>String[]</td><td> å¦</td><td><code>{}</code></td><td>éœ€è¦æ’é™¤çš„å±æ€§åï¼ˆ<code>@since 3.3.1 version</code>ï¼‰</td></tr></tbody></table><div class="admonition warning"><p class="admonition-title">å…³äº autoResultMap çš„è¯´æ˜</p></div><p>MyBatis-Plus ä¼šè‡ªåŠ¨æ„å»ºä¸€ä¸ª <code>resultMap</code> å¹¶æ³¨å…¥åˆ° MyBatis é‡Œï¼ˆä¸€èˆ¬ç”¨ä¸ä¸Šï¼‰ï¼Œè¯·æ³¨æ„ä»¥ä¸‹å†…å®¹ï¼š</p><ul><li>å› ä¸º MyBatis-Plus çš„åº•å±‚æ˜¯ MyBatisï¼Œæ‰€ä»¥ MyBatis-Plus åªæ˜¯å¸®å¼€å‘è€…æ³¨å…¥äº†å¸¸ç”¨ CRUD åˆ° MyBatis é‡Œï¼Œæ³¨å…¥ä¹‹å‰æ˜¯åŠ¨æ€çš„ï¼ˆæ ¹æ®å¼€å‘è€…çš„ Entity å­—æ®µä»¥åŠæ³¨è§£å˜åŒ–è€Œå˜åŒ–ï¼‰ï¼Œä½†æ˜¯æ³¨å…¥ä¹‹åæ˜¯é™æ€çš„ï¼ˆç­‰åŒäº XML é…ç½®ä¸­çš„å†…å®¹ï¼‰</li><li>å¯¹äº <code>typeHandler</code> å±æ€§ï¼ŒMyBatis åªæ”¯æŒå†™åœ¨ä¸¤ä¸ªåœ°æ–¹<ul><li>ç¬¬ä¸€ä¸ªåœ°æ–¹ï¼šå®šä¹‰åœ¨ <code>resultMap</code> é‡Œï¼Œä½œç”¨äºæŸ¥è¯¢ç»“æœçš„å°è£…</li><li>ç¬¬äºŒä¸ªåœ°æ–¹ï¼šå®šä¹‰åœ¨ <code>insert</code> å’Œ <code>update</code> è¯­å¥çš„ <code>#{property}</code> ä¸­çš„ <code>property</code> åé¢ï¼ˆä¾‹ï¼š<code>#{property, typehandler=xxx.xxx.xxx}</code>ï¼‰ï¼Œå¹¶ä¸”åªä½œç”¨äºå½“å‰ <code>è®¾ç½®å€¼</code></li><li>é™¤äº†ä»¥ä¸Šä¸¤ç§ç›´æ¥æŒ‡å®š <code>typeHandler</code> çš„å½¢å¼ï¼ŒMyBatis è¿˜æ”¯æŒåœ¨å…¨å±€é…ç½®æ–‡ä»¶ä¸­è‡ªå®šä¹‰ <code>typeHandler</code> åŒ…çš„é…ç½®ï¼ŒåŸç†æ˜¯æ ¹æ®å¼€å‘è€…çš„ <code>property</code> ç±»å‹å»æ‰¾å…¶å¯¹åº”çš„ <code>typeHandler</code> å¹¶ä½¿ç”¨ã€‚</li></ul></li></ul><h3 id="TableId"><a href="#TableId" class="headerlink" title="@TableId"></a>@TableId</h3><ul><li>æè¿°ï¼šä¸»é”®æ³¨è§£</li><li>ä½¿ç”¨ä½ç½®ï¼šå®ä½“ç±»ä¸»é”®å±æ€§ </li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableName("sys_user")</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableId</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>å¿…é¡»æŒ‡å®š</th><th>é»˜è®¤å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td> value</td><td>String</td><td> å¦</td><td><code>""</code></td><td>ä¸»é”®å­—æ®µå</td></tr><tr><td> type</td><td>Enum</td><td> å¦</td><td><code>IdType.NONE</code></td><td>æŒ‡å®šä¸»é”®ç±»å‹</td></tr></tbody></table><h4 id="IdType"><a href="#IdType" class="headerlink" title="IdType"></a>IdType</h4><ul><li>æè¿°ï¼šä¸»é”®ç±»å‹</li></ul><table><thead><tr><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td> AUTO</td><td> æ•°æ®åº“ ID è‡ªå¢</td></tr><tr><td> NONE</td><td> æ— çŠ¶æ€ï¼Œè¯¥ç±»å‹ä¸ºæœªè®¾ç½®ä¸»é”®ç±»å‹ï¼ˆæ³¨è§£é‡Œç­‰äºè·Ÿéšå…¨å±€ï¼Œå…¨å±€é‡Œçº¦ç­‰äº INPUTï¼‰</td></tr><tr><td>INPUT</td><td>insert å‰è‡ªè¡Œ set ä¸»é”®å€¼</td></tr><tr><td> ASSIGN_ID</td><td> åˆ†é… IDï¼ˆä¸»é”®ç±»å‹ä¸º Numberï¼ˆLong å’Œ Integerï¼‰æˆ– Stringï¼‰ï¼ˆ<code>@since 3.3.0 version</code>ï¼‰ï¼Œä½¿ç”¨æ¥å£ <code>IdentifierGenerator</code> çš„æ–¹æ³• <code>nextId</code>ï¼ˆé»˜è®¤å®ç°ç±»ä¸º <code>DefaultIdentifierGenerator</code> é›ªèŠ±ç®—æ³•ï¼‰</td></tr><tr><td>ASSIGN_UUID</td><td> åˆ†é… UUIDï¼Œä¸»é”®ç±»å‹ä¸º Stringï¼ˆ<code>@since 3.3.0 version</code>ï¼‰ï¼Œä½¿ç”¨æ¥å£ <code>IdentifierGenerator</code> çš„æ–¹æ³• <code>nextUUID</code></td></tr><tr><td><del>ID_WORKER</del></td><td> åˆ†å¸ƒå¼å…¨å±€å”¯ä¸€ ID é•¿æ•´å‹ç±»å‹ï¼ˆplease use <code>ASSIGN_ID</code>ï¼‰</td></tr><tr><td><del>UUID</del></td><td>32 ä½ UUID å­—ç¬¦ä¸²ï¼ˆplease use <code>ASSIGN_UUID</code>ï¼‰</td></tr><tr><td><del>ID_WORKER_STR</del></td><td> åˆ†å¸ƒå¼å…¨å±€å”¯ä¸€ ID å­—ç¬¦ä¸²ç±»å‹ï¼ˆplease use <code>ASSIGN_ID</code>ï¼‰</td></tr></tbody></table><h3 id="TableField"><a href="#TableField" class="headerlink" title="@TableField"></a>@TableField</h3><ul><li>æè¿°ï¼šå­—æ®µæ³¨è§£ï¼ˆéä¸»é”®ï¼‰</li><li>ä½¿ç”¨ä½ç½®ï¼šå®ä½“ç±»éä¸»é”®å±æ€§ </li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableName("sys_user")</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableId</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="meta">@TableField("nickname")</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>å¿…é¡»æŒ‡å®š</th><th>é»˜è®¤å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td> value</td><td>String</td><td> å¦</td><td><code>""</code></td><td>æ•°æ®åº“å­—æ®µå</td></tr><tr><td> exist</td><td>boolean</td><td> å¦</td><td><code>true</code></td><td>æ˜¯å¦ä¸ºæ•°æ®åº“è¡¨å­—æ®µ</td></tr><tr><td> condition</td><td>String</td><td> å¦</td><td><code>""</code></td><td>å­—æ®µ <code>where</code> å®ä½“æŸ¥è¯¢æ¯”è¾ƒæ¡ä»¶ï¼Œæœ‰å€¼è®¾ç½®åˆ™æŒ‰è®¾ç½®çš„å€¼ä¸ºå‡†ï¼Œæ²¡æœ‰åˆ™ä¸ºé»˜è®¤å…¨å±€çš„ <code>%s=#{%s}</code></td></tr><tr><td>update</td><td>String</td><td> å¦</td><td><code>""</code></td><td>å­—æ®µ <code>update set</code> éƒ¨åˆ†æ³¨å…¥ï¼Œä¾‹å¦‚ï¼šå½“åœ¨ <code>version</code> å­—æ®µä¸Šæ³¨è§£ <code>update="%s+1"</code>ï¼Œè¡¨ç¤ºæ›´æ–°æ—¶ä¼š <code>set version=version+1</code> ï¼ˆè¯¥å±æ€§ä¼˜å…ˆçº§é«˜äº <code>el</code> å±æ€§ï¼‰</td></tr><tr><td>insertStrategy</td><td>Enum</td><td> å¦</td><td><code>FieldStrategy.DEFAULT</code></td><td>ä¸¾ä¾‹ï¼šNOT_NULL <br> <code>insert into table_a(&lt;if test="columnProperty != null"&gt;column&lt;/if&gt;) values (&lt;if test="columnProperty != null"&gt;#{columnProperty}&lt;/if&gt;)</code></td></tr><tr><td>updateStrategy</td><td>Enum</td><td> å¦</td><td><code>FieldStrategy.DEFAULT</code></td><td>ä¸¾ä¾‹ï¼šIGNORED <br> <code>update table_a set column=#{columnProperty}</code></td></tr><tr><td>whereStrategy</td><td>Enum</td><td> å¦</td><td><code>FieldStrategy.DEFAULT</code></td><td>ä¸¾ä¾‹ï¼šNOT_EMPTY <br> <code>where &lt;if test="columnProperty != null and columnProperty!=''"&gt;column=#{columnProperty}&lt;/if&gt;</code></td></tr><tr><td>fill</td><td>Enum</td><td> å¦</td><td><code>FieldFill.DEFAULT</code></td><td>å­—æ®µè‡ªåŠ¨å¡«å……ç­–ç•¥</td></tr><tr><td> select</td><td>boolean</td><td> å¦</td><td><code>true</code></td><td>æ˜¯å¦è¿›è¡Œ <code>select</code> æŸ¥è¯¢</td></tr><tr><td> keepGlobalFormat</td><td>boolean</td><td> å¦</td><td><code>false</code></td><td>æ˜¯å¦ä¿æŒä½¿ç”¨å…¨å±€çš„ <code>format</code> è¿›è¡Œå¤„ç†</td></tr><tr><td> jdbcType</td><td>JdbcType</td><td> å¦</td><td><code>JdbcType.UNDEFINED</code></td><td>JDBC ç±»å‹ (è¯¥é»˜è®¤å€¼ä¸ä»£è¡¨ä¼šæŒ‰ç…§è¯¥å€¼ç”Ÿæ•ˆ)</td></tr><tr><td>typeHandler</td><td>Class&lt;? extends TypeHandler&gt;</td><td> å¦</td><td><code>UnknownTypeHandler.class</code></td><td>ç±»å‹å¤„ç†å™¨ (è¯¥é»˜è®¤å€¼ä¸ä»£è¡¨ä¼šæŒ‰ç…§è¯¥å€¼ç”Ÿæ•ˆ)</td></tr><tr><td>numericScale</td><td>String</td><td> å¦</td><td><code>""</code></td><td>æŒ‡å®šå°æ•°ç‚¹åä¿ç•™çš„ä½æ•°</td></tr></tbody></table><div class="admonition warning"><p class="admonition-title">å…³äº jdbcType å’Œ typeHandler ä»¥åŠ numericScale çš„è¯´æ˜</p></div><ul><li><code>numericScale</code> åªç”Ÿæ•ˆäº <code>update</code> çš„ SQL è¯­å¥</li><li><code>jdbcType</code> å’Œ <code>typeHandler</code> å¦‚æœä¸é…åˆ <code>@TableName(autoResultMap = true)</code> ä¸€èµ·ä½¿ç”¨ï¼Œä¹Ÿåªç”Ÿæ•ˆäº <code>update</code> çš„ SQL è¯­å¥</li><li>å¯¹äº <code>typeHandler</code>ï¼Œå¦‚æœä½ çš„å­—æ®µç±»å‹å’Œ set è¿›å»çš„ç±»å‹ä¸º <code>equals</code> å…³ç³»ï¼Œåˆ™åªéœ€è¦è®©ä½ çš„ <code>typeHandler</code> è®© Mybatis åŠ è½½åˆ°å³å¯ï¼Œä¸éœ€è¦ä½¿ç”¨æ³¨è§£</li></ul><h4 id="FieldStrategy"><a href="#FieldStrategy" class="headerlink" title="FieldStrategy"></a>FieldStrategy</h4><p>å­—æ®µç­–ç•¥ <code>FieldStrategy</code> çš„ä½œç”¨ä¸»è¦æ˜¯åœ¨è¿›è¡Œæ–°å¢ã€æ›´æ–°æ—¶ï¼Œæ ¹æ®é…ç½®çš„ç­–ç•¥åˆ¤æ–­æ˜¯å¦å¯¹å®ä½“å¯¹è±¡çš„å€¼è¿›è¡Œç©ºå€¼åˆ¤æ–­ï¼Œå¦‚æœç­–ç•¥ä¸ºå­—æ®µä¸èƒ½ä¸ºç©ºï¼Œåˆ™ä¸ä¼šå¯¹ä¸ºç©ºçš„å­—æ®µè¿›è¡Œèµ‹å€¼æˆ–æ›´æ–°ã€‚åŒæ ·çš„ï¼Œåœ¨è¿›è¡Œ <code>where</code> æ¡ä»¶æŸ¥è¯¢æ—¶ï¼Œæ ¹æ® <code>whereStrategy</code> ç­–ç•¥åˆ¤æ–­æ˜¯å¦å¯¹å­—æ®µè¿›è¡Œç©ºå€¼åˆ¤æ–­ï¼Œå¦‚æœç­–ç•¥ä¸ºå­—æ®µä¸èƒ½ä¸ºç©ºï¼Œåˆ™ä¸ºç©ºçš„å­—æ®µä¸ä¼šä½œä¸ºæŸ¥è¯¢æ¡ä»¶ç»„è£…åˆ° <code>where</code> æ¡ä»¶ä¸­ã€‚</p><table><thead><tr><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td> IGNORED</td><td> å¿½ç•¥åˆ¤æ–­</td></tr><tr><td> NOT_NULL</td><td> é NULL åˆ¤æ–­</td></tr><tr><td> NOT_EMPTY</td><td> éç©ºåˆ¤æ–­ (åªå¯¹å­—ç¬¦ä¸²ç±»å‹å­—æ®µï¼Œå…¶ä»–ç±»å‹å­—æ®µä¾ç„¶ä¸ºé NULL åˆ¤æ–­)</td></tr><tr><td>DEFAULT</td><td> è¿½éšå…¨å±€é…ç½®</td></tr><tr><td> NEVER</td><td> ä¸åŠ å…¥ SQL</td></tr></tbody></table><h4 id="FieldFill"><a href="#FieldFill" class="headerlink" title="FieldFill"></a>FieldFill</h4><ul><li>æè¿°ï¼šå­—æ®µè‡ªåŠ¨å¡«å……ç­–ç•¥</li></ul><table><thead><tr><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td> DEFAULT</td><td> é»˜è®¤ä¸å¤„ç†</td></tr><tr><td> INSERT</td><td> æ’å…¥æ—¶å¡«å……å­—æ®µ</td></tr><tr><td> UPDATE</td><td> æ›´æ–°æ—¶å¡«å……å­—æ®µ</td></tr><tr><td> INSERT_UPDATE</td><td> æ’å…¥å’Œæ›´æ–°æ—¶å¡«å……å­—æ®µ</td></tr></tbody></table></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {try {var plugin = new ReadmorePlugin();plugin.init({"id": "readmore-container","blogId": "96641-5333172926158-056","name": "å…¨æ ˆæŠ€æœ¯é©¿ç«™","qrcode": "https://www.techgrow.cn/img/wx_mp_qr.png","keyword": "Tech","lockToc": "yes","type": "hexo","random": "0.9","interval": "30","expires": "365","height": "auto"});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦ä»‹ç» MyBatis-Plus çš„å…¥é—¨æ•™ç¨‹å†…å®¹ï¼ŒåŒ…æ‹¬å¸¸ç”¨æ³¨è§£ç­‰å†…å®¹ã€‚</summary>
    
    
    
    <category term="hide" scheme="https://www.techgrow.cn/categories/hide/"/>
    
    
    <category term="Java" scheme="https://www.techgrow.cn/tags/Java/"/>
    
    <category term="æ•°æ®åº“" scheme="https://www.techgrow.cn/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>MyBatis-Plus å…¥é—¨æ•™ç¨‹ä¹‹ä¸€</title>
    <link href="https://www.techgrow.cn/posts/ed9df8e6.html"/>
    <id>https://www.techgrow.cn/posts/ed9df8e6.html</id>
    <published>2022-09-01T15:12:41.000Z</published>
    <updated>2022-09-01T15:12:41.000Z</updated>
    
    <content type="html"><![CDATA[<div id="readmore-container"><!-- toc --><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><ul><li><a href="https://github.com/baomidou/mybatis-plus">MyBatis-Plus GitHub ä»“åº“</a></li><li><a href="https://github.com/baomidou/mybatis-plus-samples">MyBatis-Plus å®˜æ–¹ Demo ä»£ç </a></li><li><a href="https://baomidou.gitee.io/mybatis-plus-doc">MyBatis-Plus 2.x å®˜æ–¹ä¸­æ–‡æ–‡æ¡£</a></li><li><a href="https://baomidou.com/">MyBatis-Plus 3.x å®˜æ–¹ä¸­æ–‡æ–‡æ¡£</a></li></ul><h2 id="MyBatis-Plus-ä»‹ç»"><a href="#MyBatis-Plus-ä»‹ç»" class="headerlink" title="MyBatis-Plus ä»‹ç»"></a>MyBatis-Plus ä»‹ç»</h2><p>MyBatis-Plus æ˜¯ä¸€æ¬¾éå¸¸å¼ºå¤§çš„ MyBatis å¢å¼ºå·¥å…·åŒ…ï¼Œåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸ºç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚åœ¨ä¸ç”¨ç¼–å†™ä»»ä½• SQL è¯­å¥çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥æå…¶æ–¹ä¾¿åœ°å®ç°å•ä¸€ã€æ‰¹é‡ã€åˆ†é¡µç­‰æ“ä½œã€‚</p><span id="more"></span><h3 id="MyBatis-Plus-ç‰¹æ€§"><a href="#MyBatis-Plus-ç‰¹æ€§" class="headerlink" title="MyBatis-Plus ç‰¹æ€§"></a>MyBatis-Plus ç‰¹æ€§</h3><p>ç‰¹è‰²åŠŸèƒ½ï¼š</p><ul><li><code>æ— ä¾µå…¥</code>ï¼šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œå¼•å…¥å®ƒä¸ä¼šå¯¹ç°æœ‰å·¥ç¨‹äº§ç”Ÿå½±å“ï¼Œå¦‚ä¸èˆ¬é¡ºæ»‘</li><li><code>æŸè€—å°</code>ï¼šå¯åŠ¨å³ä¼šè‡ªåŠ¨æ³¨å…¥åŸºæœ¬ CURDï¼Œæ€§èƒ½åŸºæœ¬æ— æŸè€—ï¼Œç›´æ¥é¢å‘å¯¹è±¡æ“ä½œ</li><li><code>å¼ºå¤§çš„ CRUD æ“ä½œ</code>ï¼šå†…ç½®é€šç”¨ Mapperã€é€šç”¨ Serviceï¼Œä»…ä»…é€šè¿‡å°‘é‡é…ç½®å³å¯å®ç°å•è¡¨å¤§éƒ¨åˆ† CRUD æ“ä½œï¼Œæ›´æœ‰å¼ºå¤§çš„æ¡ä»¶æ„é€ å™¨ï¼Œæ»¡è¶³å„ç±»ä½¿ç”¨éœ€æ±‚</li><li><code>æ”¯æŒ Lambda å½¢å¼è°ƒç”¨</code>ï¼šé€šè¿‡ Lambda è¡¨è¾¾å¼ï¼Œæ–¹ä¾¿çš„ç¼–å†™å„ç±»æŸ¥è¯¢æ¡ä»¶ï¼Œæ— éœ€å†æ‹…å¿ƒå­—æ®µå†™é”™</li><li><code>æ”¯æŒä¸»é”®è‡ªåŠ¨ç”Ÿæˆ</code>ï¼šæ”¯æŒå¤šè¾¾ 4 ç§ä¸»é”®ç­–ç•¥ï¼ˆå†…ç½®åˆ†å¸ƒå¼å”¯ä¸€ ID ç”Ÿæˆå™¨ - Sequenceï¼‰ï¼Œå¯è‡ªç”±é…ç½®ï¼Œå®Œç¾è§£å†³ä¸»é”®é—®é¢˜</li><li><code>æ”¯æŒ ActiveRecord æ¨¡å¼</code>ï¼šæ”¯æŒ ActiveRecord å½¢å¼è°ƒç”¨ï¼Œå®ä½“ç±»åªéœ€ç»§æ‰¿ Model ç±»å³å¯è¿›è¡Œå¼ºå¤§çš„ CRUD æ“ä½œ</li><li><code>æ”¯æŒè‡ªå®šä¹‰å…¨å±€é€šç”¨æ“ä½œ</code>ï¼šæ”¯æŒå…¨å±€é€šç”¨æ–¹æ³•æ³¨å…¥ï¼ˆ Write once, use anywhere ï¼‰</li><li><code>å†…ç½®ä»£ç ç”Ÿæˆå™¨</code>ï¼šé‡‡ç”¨ä»£ç æˆ–è€… Maven æ’ä»¶å¯å¿«é€Ÿç”Ÿæˆ Mapper ã€ Model ã€ Service ã€ Controller å±‚ä»£ç ï¼Œæ”¯æŒæ¨¡æ¿å¼•æ“ï¼Œæ›´æœ‰è¶…å¤šè‡ªå®šä¹‰é…ç½®ç­‰æ‚¨æ¥ä½¿ç”¨</li><li><code>å†…ç½®åˆ†é¡µæ’ä»¶</code>ï¼šåŸºäº MyBatis ç‰©ç†åˆ†é¡µï¼Œå¼€å‘è€…æ— éœ€å…³å¿ƒå…·ä½“æ“ä½œï¼Œé…ç½®å¥½æ’ä»¶ä¹‹åï¼Œå†™åˆ†é¡µç­‰åŒäºæ™®é€š List æŸ¥è¯¢</li><li><code>åˆ†é¡µæ’ä»¶æ”¯æŒå¤šç§æ•°æ®åº“</code>ï¼šæ”¯æŒ MySQLã€MariaDBã€Oracleã€DB2ã€H2ã€HSQLã€SQLiteã€Postgreã€SQLServer ç­‰å¤šç§æ•°æ®åº“</li><li><code>å†…ç½®æ€§èƒ½åˆ†ææ’ä»¶</code>ï¼šå¯è¾“å‡º SQL è¯­å¥ä»¥åŠå…¶æ‰§è¡Œæ—¶é—´ï¼Œå»ºè®®å¼€å‘æµ‹è¯•æ—¶å¯ç”¨è¯¥åŠŸèƒ½ï¼Œèƒ½å¿«é€Ÿæªå‡ºæ…¢æŸ¥è¯¢</li><li><code>å†…ç½®å…¨å±€æ‹¦æˆªæ’ä»¶</code>ï¼šæä¾›å…¨è¡¨ Delete ã€Update æ“ä½œæ™ºèƒ½åˆ†æé˜»æ–­ï¼Œä¹Ÿå¯è‡ªå®šä¹‰æ‹¦æˆªè§„åˆ™ï¼Œé¢„é˜²è¯¯æ“ä½œ</li></ul><p>æ”¯æŒæ•°æ®åº“ï¼š</p><ul><li>MySQLï¼ŒOracleï¼ŒDB2ï¼ŒH2ï¼ŒHSQLï¼ŒSQLiteï¼ŒPostgreSQLï¼ŒSQLServerï¼ŒPhoenixï¼ŒGaussï¼ŒClickHouseï¼ŒSybaseï¼ŒOceanBaseï¼ŒFirebirdï¼ŒCubridï¼ŒGoldilocksï¼Œcsiidb</li><li> è¾¾æ¢¦æ•°æ®åº“ï¼Œè™šè°·æ•°æ®åº“ï¼Œäººå¤§é‡‘ä»“æ•°æ®åº“ï¼Œå—å¤§é€šç”¨ (ååº“) æ•°æ®åº“ï¼Œå—å¤§é€šç”¨æ•°æ®åº“ï¼Œç¥é€šæ•°æ®åº“ï¼Œç€šé«˜æ•°æ®åº“</li></ul><h3 id="MyBatis-Plus-æ¶æ„"><a href="#MyBatis-Plus-æ¶æ„" class="headerlink" title="MyBatis-Plus æ¶æ„"></a>MyBatis-Plus æ¶æ„</h3><p><img data-src="../../../asset/2022/09/mybatis-plus-1.png"></p><h3 id="MyBatis-Plus-ç”Ÿæ€"><a href="#MyBatis-Plus-ç”Ÿæ€" class="headerlink" title="MyBatis-Plus ç”Ÿæ€"></a>MyBatis-Plus ç”Ÿæ€</h3><ul><li><a href="https://github.com/baomidou/MybatisX">MybatisX</a> - ä¸€æ¬¾å…¨å…è´¹ä¸”å¼ºå¤§çš„ IDEA æ’ä»¶ï¼Œæ”¯æŒè·³è½¬ã€è‡ªåŠ¨è¡¥å…¨ç”Ÿæˆ SQLã€ä»£ç ç”Ÿæˆã€‚</li><li><a href="https://gitee.com/baomidou/mybatis-mate-examples">Mybatis-Mate</a> - MyBatis-Plus çš„ä¼ä¸šçº§æ¨¡å—ï¼Œæ”¯æŒåˆ†åº“åˆ†è¡¨ã€æ•°æ®å®¡è®¡ã€å­—æ®µåŠ å¯†ã€æ•°æ®ç»‘å®šã€æ•°æ®æƒé™ã€è¡¨ç»“æ„è‡ªåŠ¨ç”Ÿæˆ SQL ç»´æŠ¤ç­‰é«˜çº§ç‰¹æ€§ã€‚</li><li><a href="https://gitee.com/baomidou/dynamic-datasource-spring-boot-starter">Dynamic-Datasource</a> - åŸºäº SpringBoot çš„å¤šæ•°æ®æºç»„ä»¶ï¼ŒåŠŸèƒ½å¼ºæ‚ï¼Œæ”¯æŒ Seata åˆ†å¸ƒå¼äº‹åŠ¡ã€‚</li><li><a href="https://gitee.com/baomidou/shaun">Shaun</a> - åŸºäº Pac4J-JWT çš„ WEB å®‰å…¨ç»„ä»¶ï¼Œå¿«é€Ÿé›†æˆã€‚</li><li><a href="https://gitee.com/baomidou/lock4j">Lock4j</a> - åŸºäº SpringBoot ä¸”åŒæ—¶æ”¯æŒ RedisTemplateã€Redissionã€Zookeeper çš„åˆ†å¸ƒå¼é”ç»„ä»¶ã€‚</li><li><a href="https://gitee.com/baomidou/kaptcha-spring-boot-starter">Kaptcha</a> - åŸºäº SpringBoot å’Œ Google Kaptcha çš„ç®€å•éªŒè¯ç ç»„ä»¶ã€‚</li></ul><h2 id="Spring-å¿«é€Ÿå¯åŠ¨æ¡ˆä¾‹"><a href="#Spring-å¿«é€Ÿå¯åŠ¨æ¡ˆä¾‹" class="headerlink" title="Spring å¿«é€Ÿå¯åŠ¨æ¡ˆä¾‹"></a>Spring å¿«é€Ÿå¯åŠ¨æ¡ˆä¾‹</h2><p>æœ¬èŠ‚æ‰€éœ€çš„æ¡ˆä¾‹ä»£ç ï¼Œå¯ä»¥ç›´æ¥ä» <a href="https://github.com/rqh656418510/mybatis-code/tree/main/mybatis-plus-study">GitHub</a> ä¸‹è½½å¯¹åº”ç« èŠ‚ <code>mybatis-plus-lesson-01</code>ã€‚</p><h3 id="è½¯ä»¶ç‰ˆæœ¬è¯´æ˜"><a href="#è½¯ä»¶ç‰ˆæœ¬è¯´æ˜" class="headerlink" title="è½¯ä»¶ç‰ˆæœ¬è¯´æ˜"></a>è½¯ä»¶ç‰ˆæœ¬è¯´æ˜</h3><table><thead><tr><th>åç§°</th><th>ç‰ˆæœ¬</th></tr></thead><tbody><tr><td> Log4j</td><td>2.18.0</td></tr><tr><td>Druid</td><td>1.2.11</td></tr><tr><td>Spring</td><td>5.3.2</td></tr><tr><td>MyBatis-Plus</td><td>3.5.2</td></tr></tbody></table><h3 id="åˆå§‹åŒ–æ•°æ®åº“"><a href="#åˆå§‹åŒ–æ•°æ®åº“" class="headerlink" title="åˆå§‹åŒ–æ•°æ®åº“"></a>åˆå§‹åŒ–æ•°æ®åº“</h3><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE `mybatis_plus_lesson` <span class="keyword">DEFAULT</span> <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `t_employee` (</span><br><span class="line">  `id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `last_name` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `gender` <span class="type">char</span>(<span class="number">1</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `email` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `age` <span class="type">int</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t_employee(id, last_name, gender, email, age) <span class="keyword">values</span>(<span class="number">1</span>, <span class="string">'Jim'</span>,<span class="string">'1'</span>, <span class="string">'jim@gmail.com'</span>, <span class="number">26</span>), (<span class="number">2</span>, <span class="string">'Peter'</span>,<span class="string">'1'</span>, <span class="string">'peter@gmail.com'</span>, <span class="number">29</span>);</span><br></pre></td></tr></tbody></table></figure><h3 id="å¼•å…¥-Maven-ä¾èµ–"><a href="#å¼•å…¥-Maven-ä¾èµ–" class="headerlink" title="å¼•å…¥ Maven ä¾èµ–"></a>å¼•å…¥ Maven ä¾èµ–</h3><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œä¸éœ€è¦å•ç‹¬å¼•å…¥ MyBatis ä¸ MyBatis-Spring çš„ä¾èµ–ï¼Œå¦åˆ™ä¼šå¼•èµ·ç‰ˆæœ¬å†²çªï¼Œè¿™æ˜¯å› ä¸º MyBatis-Plus ä¼šè‡ªåŠ¨ç»´æŠ¤å®ƒä»¬çš„ç‰ˆæœ¬ã€‚</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">log4j.version</span>&gt;</span>2.18.0<span class="tag">&lt;/<span class="name">log4j.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">druid.version</span>&gt;</span>1.2.11<span class="tag">&lt;/<span class="name">druid.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mybatis-plus.version</span>&gt;</span>3.5.2<span class="tag">&lt;/<span class="name">mybatis-plus.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mysql-connector.version</span>&gt;</span>8.0.23<span class="tag">&lt;/<span class="name">mysql-connector.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>5.3.2<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>${junit.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>${druid.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>${mysql-connector.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>${mybatis-plus.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>${spring.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-orm<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>${spring.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>${spring.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>${log4j.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>${log4j.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="åˆ›å»ºé¡¹ç›®é…ç½®æ–‡ä»¶"><a href="#åˆ›å»ºé¡¹ç›®é…ç½®æ–‡ä»¶" class="headerlink" title="åˆ›å»ºé¡¹ç›®é…ç½®æ–‡ä»¶"></a>åˆ›å»ºé¡¹ç›®é…ç½®æ–‡ä»¶</h3><h4 id="æ•°æ®åº“é…ç½®æ–‡ä»¶"><a href="#æ•°æ®åº“é…ç½®æ–‡ä»¶" class="headerlink" title="æ•°æ®åº“é…ç½®æ–‡ä»¶"></a>æ•°æ®åº“é…ç½®æ–‡ä»¶</h4><p>åœ¨ <code>/src/main/resources</code> ç›®å½•ä¸‹åˆ›å»º <code>db.properties</code> é…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­çš„é…ç½®å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight properties"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">jdbc.user</span>=<span class="string">root</span></span><br><span class="line"><span class="meta">jdbc.password</span>=<span class="string">123456</span></span><br><span class="line"><span class="meta">jdbc.url</span>=<span class="string">jdbc:mysql://127.0.0.1:3306/mybatis_plus_lesson?characterEncoding=utf8&amp;autoReconnect=true&amp;useSSL=false&amp;useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC</span></span><br><span class="line"></span><br><span class="line"><span class="meta">jdbc.miniPoolSize</span>=<span class="string">10</span></span><br><span class="line"><span class="meta">jdbc.maxPoolSize</span>=<span class="string">30</span></span><br><span class="line"><span class="meta">jdbc.initialPoolSize</span>=<span class="string">1</span></span><br><span class="line"><span class="meta">jdbc.maxWait</span>=<span class="string">60000</span></span><br><span class="line"><span class="meta">jdbc.timeBetweenEvictionRunsMillis</span>=<span class="string">60000</span></span><br><span class="line"><span class="meta">jdbc.minEvictableIdleTimeMillis</span>=<span class="string">300000</span></span><br><span class="line"><span class="meta">jdbc.preferredTestQuery</span>=<span class="string">select 1</span></span><br></pre></td></tr></tbody></table></figure><h4 id="Log4j2-é…ç½®æ–‡ä»¶"><a href="#Log4j2-é…ç½®æ–‡ä»¶" class="headerlink" title="Log4j2 é…ç½®æ–‡ä»¶"></a>Log4j2 é…ç½®æ–‡ä»¶</h4><p>åœ¨ <code>/src/main/resources</code> ç›®å½•ä¸‹åˆ›å»º <code>log4j2.xml</code> é…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­çš„é…ç½®å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Configuration</span> <span class="attr">status</span>=<span class="string">"WARN"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">Appenders</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Console</span> <span class="attr">name</span>=<span class="string">"Console"</span> <span class="attr">target</span>=<span class="string">"SYSTEM_OUT"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">"%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Console</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Appenders</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">Loggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Root</span> <span class="attr">level</span>=<span class="string">"debug"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">AppenderRef</span> <span class="attr">ref</span>=<span class="string">"Console"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Root</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Loggers</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">Configuration</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="MyBatis-é…ç½®æ–‡ä»¶"><a href="#MyBatis-é…ç½®æ–‡ä»¶" class="headerlink" title="MyBatis é…ç½®æ–‡ä»¶"></a>MyBatis é…ç½®æ–‡ä»¶</h4><p>åœ¨ <code>/src/main/resources</code> ç›®å½•ä¸‹åˆ›å»º <code>mybatis-config.xml</code> é…ç½®æ–‡ä»¶ï¼Œç”¨äºå­˜æ”¾ MyBatis çš„å…¨å±€æ ¸å¿ƒé…ç½®ä¿¡æ¯ï¼Œå…¶ä¸­çš„é…ç½®å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta"> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></span><br><span class="line"><span class="meta"> <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="Spring-é…ç½®æ–‡ä»¶"><a href="#Spring-é…ç½®æ–‡ä»¶" class="headerlink" title="Spring é…ç½®æ–‡ä»¶"></a>Spring é…ç½®æ–‡ä»¶</h4><p>åœ¨ <code>/src/main/resources</code> ç›®å½•ä¸‹åˆ›å»º <code>application.xml</code> é…ç½®æ–‡ä»¶ï¼ŒSpring æ•´åˆ MyBatis + MyBatis-Plus çš„æ ¸å¿ƒé…ç½®ä¿¡æ¯å°±å†™åœ¨é‡Œé¢ï¼ˆä¹Ÿå°±æ˜¯å®šä¹‰ <code>SqlSessionFactoryBean</code> çš„ Beanï¼‰ï¼Œå…¶ä¸­çš„é…ç½®å†…å®¹å¦‚ä¸‹ï¼š</p><h5 id="MyBatis-Plus-2-x-ç‰ˆæœ¬é…ç½®"><a href="#MyBatis-Plus-2-x-ç‰ˆæœ¬é…ç½®" class="headerlink" title="MyBatis-Plus 2.x ç‰ˆæœ¬é…ç½®"></a>MyBatis-Plus 2.x ç‰ˆæœ¬é…ç½®</h5><div class="admonition note"><p class="admonition-title">æç¤º</p><p>MyBatis-Plus 2.x çš„ Spring è¯¦ç»†é…ç½®å‚æ•°å¯çœ‹ <a href="https://baomidou.gitee.io/mybatis-plus-doc/#/api?id=spring-mvc-%E9%85%8D%E7%BD%AE%E5%8F%82%E8%80%83">è¿™é‡Œ</a>ã€‚</p></div><p>å½“ä½¿ç”¨çš„ MyBatis-Plus ä¸º <code>2.x</code> ç‰ˆæœ¬æ—¶ï¼ˆå¦‚ <code>2.3.3</code> ç‰ˆæœ¬ï¼‰ï¼Œå…·ä½“çš„é…ç½®å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span> <span class="attr">xmlns:mybatis-spring</span>=<span class="string">"http://mybatis.org/schema/mybatis-spring"</span> <span class="attr">xmlns:tx</span>=<span class="string">"http://www.springframework.org/schema/tx"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">http://mybatis.org/schema/mybatis-spring http://mybatis.org/schema/mybatis-spring-1.2.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¼•å…¥æ•°æ®åº“é…ç½®æ–‡ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">"classpath:db.properties"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ•°æ®æº --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"com.alibaba.druid.pool.DruidDataSource"</span> <span class="attr">init-method</span>=<span class="string">"init"</span> <span class="attr">destroy-method</span>=<span class="string">"close"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"${jdbc.url}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"${jdbc.user}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"${jdbc.password}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxActive"</span> <span class="attr">value</span>=<span class="string">"${jdbc.maxPoolSize}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"initialSize"</span> <span class="attr">value</span>=<span class="string">"${jdbc.initialPoolSize}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxWait"</span> <span class="attr">value</span>=<span class="string">"${jdbc.maxWait}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"minIdle"</span> <span class="attr">value</span>=<span class="string">"${jdbc.miniPoolSize}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"timeBetweenEvictionRunsMillis"</span> <span class="attr">value</span>=<span class="string">"${jdbc.timeBetweenEvictionRunsMillis}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"minEvictableIdleTimeMillis"</span> <span class="attr">value</span>=<span class="string">"${jdbc.minEvictableIdleTimeMillis}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"validationQuery"</span> <span class="attr">value</span>=<span class="string">"${jdbc.preferredTestQuery}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"testWhileIdle"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"filters"</span> <span class="attr">value</span>=<span class="string">"stat"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- äº‹åŠ¡ç®¡ç† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSourceTransactionManager"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¼€å¯åŸºäºæ³¨è§£çš„äº‹åŠ¡ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:annotation-driven</span> <span class="attr">transaction-manager</span>=<span class="string">"dataSourceTransactionManager"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å®šä¹‰ SqlSessionFactory --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"com.baomidou.mybatisplus.spring.MybatisSqlSessionFactoryBean"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ•°æ®æº --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ç±»å‹åˆ«å --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"typeAliasesPackage"</span> <span class="attr">value</span>=<span class="string">"com.clay.mybatis.bean"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æŒ‡å®š SQL æ˜ å°„æ–‡ä»¶çš„ä½ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mapperLocations"</span> <span class="attr">value</span>=<span class="string">"classpath*:mapper/**/*.xml"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®š MyBatis å…¨å±€é…ç½®æ–‡ä»¶çš„ä½ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"configLocation"</span> <span class="attr">value</span>=<span class="string">"classpath:mybatis-config.xml"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ³¨å…¥ Mybatis-Plus çš„å…¨å±€é…ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"globalConfig"</span> <span class="attr">ref</span>=<span class="string">"globalConfig"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å®šä¹‰ Mybatis-Plus çš„å…¨å±€é…ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"globalConfig"</span> <span class="attr">class</span>=<span class="string">"com.baomidou.mybatisplus.entity.GlobalConfiguration"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ•°æ®åº“è¡¨å­—æ®µåä¸ JavaBean å±æ€§åçš„é©¼å³°å‘½åæ˜ å°„ï¼Œåœ¨ 2.3 ç‰ˆæœ¬ä»¥åï¼Œé»˜è®¤å€¼æ˜¯ true --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dbColumnUnderline"</span> <span class="attr">value</span>=<span class="string">"true"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å…¨å±€çš„ä¸»é”®ç­–ç•¥ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"idType"</span> <span class="attr">value</span>=<span class="string">"0"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å…¨å±€çš„è¡¨å‰ç¼€ç­–ç•¥é…ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"tablePrefix"</span> <span class="attr">value</span>=<span class="string">"t_"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ‰«æ Mapper æ¥å£ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.mapper.MapperScannerConfigurer"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"basePackage"</span> <span class="attr">value</span>=<span class="string">"com.clay.mybatis.dao"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><div class="admonition note"><p class="admonition-title">æç¤º</p><p>è‹¥ä¸å¸Œæœ›åœ¨é¡¹ç›®ä¸­å•ç‹¬åˆ›å»º MyBatis çš„å…¨å±€é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>MybatisConfiguration</code> å®šä¹‰ MyBatis çš„åŸç”Ÿé…ç½®å†…å®¹ï¼Œè¿™æ ·å°±ä¸å†éœ€è¦åˆ›å»ºå¹¶æŒ‡å®š MyBatis çš„å…¨å±€é…ç½®æ–‡ä»¶äº†ï¼Œé…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š</p></div><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"com.baomidou.mybatisplus.spring.MybatisSqlSessionFactoryBean"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"configuration"</span> <span class="attr">ref</span>=<span class="string">"mybatisConfig"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"globalConfig"</span> <span class="attr">ref</span>=<span class="string">"globalConfig"</span>/&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"mybatisConfig"</span> <span class="attr">class</span>=<span class="string">"com.baomidou.mybatisplus.MybatisConfiguration"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¼€å¯è‡ªåŠ¨é©¼å³°å‘½åè§„åˆ™æ˜ å°„ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mapUnderscoreToCamelCase"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"globalConfig"</span> <span class="attr">class</span>=<span class="string">"com.baomidou.mybatisplus.entity.GlobalConfiguration"</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h5 id="MyBatis-Plus-3-x-ç‰ˆæœ¬é…ç½®"><a href="#MyBatis-Plus-3-x-ç‰ˆæœ¬é…ç½®" class="headerlink" title="MyBatis-Plus 3.x ç‰ˆæœ¬é…ç½®"></a>MyBatis-Plus 3.x ç‰ˆæœ¬é…ç½®</h5><div class="admonition note"><p class="admonition-title">æç¤º</p><p>MyBatis-Plus 3.x çš„ Spring è¯¦ç»†é…ç½®å‚æ•°å¯çœ‹ <a href="https://baomidou.com/pages/56bac0/">è¿™é‡Œ</a>ã€‚</p></div><p>å½“ä½¿ç”¨çš„ MyBatis-Plus ä¸º <code>3.x</code> ç‰ˆæœ¬æ—¶ï¼ˆå¦‚ <code>3.5.2</code> ç‰ˆæœ¬ï¼‰ï¼Œå…·ä½“çš„é…ç½®å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span> <span class="attr">xmlns:mybatis-spring</span>=<span class="string">"http://mybatis.org/schema/mybatis-spring"</span> <span class="attr">xmlns:tx</span>=<span class="string">"http://www.springframework.org/schema/tx"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">http://mybatis.org/schema/mybatis-spring http://mybatis.org/schema/mybatis-spring-1.2.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¼•å…¥æ•°æ®åº“é…ç½®æ–‡ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">"classpath:db.properties"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ•°æ®æº --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"com.alibaba.druid.pool.DruidDataSource"</span> <span class="attr">init-method</span>=<span class="string">"init"</span> <span class="attr">destroy-method</span>=<span class="string">"close"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"${jdbc.url}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"${jdbc.user}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"${jdbc.password}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxActive"</span> <span class="attr">value</span>=<span class="string">"${jdbc.maxPoolSize}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"initialSize"</span> <span class="attr">value</span>=<span class="string">"${jdbc.initialPoolSize}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxWait"</span> <span class="attr">value</span>=<span class="string">"${jdbc.maxWait}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"minIdle"</span> <span class="attr">value</span>=<span class="string">"${jdbc.miniPoolSize}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"timeBetweenEvictionRunsMillis"</span> <span class="attr">value</span>=<span class="string">"${jdbc.timeBetweenEvictionRunsMillis}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"minEvictableIdleTimeMillis"</span> <span class="attr">value</span>=<span class="string">"${jdbc.minEvictableIdleTimeMillis}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"validationQuery"</span> <span class="attr">value</span>=<span class="string">"${jdbc.preferredTestQuery}"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"testWhileIdle"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"filters"</span> <span class="attr">value</span>=<span class="string">"stat"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- äº‹åŠ¡ç®¡ç† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSourceTransactionManager"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¼€å¯åŸºäºæ³¨è§£çš„äº‹åŠ¡ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:annotation-driven</span> <span class="attr">transaction-manager</span>=<span class="string">"dataSourceTransactionManager"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å®šä¹‰ SqlSessionFactory --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ•°æ®æº --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ç±»å‹åˆ«å --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"typeAliasesPackage"</span> <span class="attr">value</span>=<span class="string">"com.clay.mybatis.bean"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æŒ‡å®š SQL æ˜ å°„æ–‡ä»¶çš„ä½ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mapperLocations"</span> <span class="attr">value</span>=<span class="string">"classpath*:mapper/**/*.xml"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®š MyBatis å…¨å±€é…ç½®æ–‡ä»¶çš„ä½ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"configLocation"</span> <span class="attr">value</span>=<span class="string">"classpath:mybatis-config.xml"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ³¨å…¥ Mybatis-Plus çš„å…¨å±€é…ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"globalConfig"</span> <span class="attr">ref</span>=<span class="string">"globalConfig"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å®šä¹‰ Mybatis-Plus çš„å…¨å±€é…ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"globalConfig"</span> <span class="attr">class</span>=<span class="string">"com.baomidou.mybatisplus.core.config.GlobalConfig"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dbConfig"</span> <span class="attr">ref</span>=<span class="string">"dbConfig"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å®šä¹‰ Mybatis-Plus çš„æ•°æ®åº“é…ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dbConfig"</span> <span class="attr">class</span>=<span class="string">"com.baomidou.mybatisplus.core.config.GlobalConfig.DbConfig"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å…¨å±€çš„ä¸»é”®ç­–ç•¥ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"idType"</span> <span class="attr">value</span>=<span class="string">"AUTO"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å…¨å±€çš„è¡¨å‰ç¼€ç­–ç•¥é…ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"tablePrefix"</span> <span class="attr">value</span>=<span class="string">"t_"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ‰«æ Mapper æ¥å£ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.mapper.MapperScannerConfigurer"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"basePackage"</span> <span class="attr">value</span>=<span class="string">"com.clay.mybatis.dao"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><div class="admonition note"><p class="admonition-title">æç¤º</p><p>è‹¥ä¸å¸Œæœ›åœ¨é¡¹ç›®ä¸­å•ç‹¬åˆ›å»º MyBatis çš„å…¨å±€é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>MybatisConfiguration</code> å®šä¹‰ MyBatis çš„åŸç”Ÿé…ç½®å†…å®¹ï¼Œè¿™æ ·å°±ä¸å†éœ€è¦åˆ›å»ºå¹¶æŒ‡å®š MyBatis çš„å…¨å±€é…ç½®æ–‡ä»¶äº†ï¼Œé…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š</p></div><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"configuration"</span> <span class="attr">ref</span>=<span class="string">"configuration"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"globalConfig"</span> <span class="attr">ref</span>=<span class="string">"globalConfig"</span>/&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"configuration"</span> <span class="attr">class</span>=<span class="string">"com.baomidou.mybatisplus.core.MybatisConfiguration"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¼€å¯äºŒçº§ç¼“å­˜ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"cacheEnabled"</span> <span class="attr">value</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¼€å¯è‡ªåŠ¨é©¼å³°å‘½åè§„åˆ™æ˜ å°„ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mapUnderscoreToCamelCase"</span> <span class="attr">value</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"globalConfig"</span> <span class="attr">class</span>=<span class="string">"com.baomidou.mybatisplus.core.config.GlobalConfig"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dbConfig"</span> <span class="attr">ref</span>=<span class="string">"dbConfig"</span>/&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dbConfig"</span> <span class="attr">class</span>=<span class="string">"com.baomidou.mybatisplus.core.config.GlobalConfig.DbConfig"</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="é€šç”¨-CRUD-ä»£ç "><a href="#é€šç”¨-CRUD-ä»£ç " class="headerlink" title="é€šç”¨ CRUD ä»£ç "></a>é€šç”¨ CRUD ä»£ç </h3><p>åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œä½¿ç”¨ MyBatis ä¸ MyBatis-Plus ç¼–å†™ CRUD ä»£ç çš„åŒºåˆ«ï¼š</p><ul><li><p>åŸºäº Mybatis çš„æ–¹å¼</p><ul><li>éœ€è¦ç¼–å†™ Mapper æ¥å£ï¼Œå¹¶æ‰‹åŠ¨ç¼–å†™ CRUD æ–¹æ³•</li><li>æä¾› SQL æ˜ å°„æ–‡ä»¶ï¼Œå¹¶æ‰‹åŠ¨ç¼–å†™æ¯ä¸ª CRUD æ–¹æ³•å¯¹åº”çš„ SQL è¯­å¥</li></ul></li><li><p>åŸºäº MyBatis-Plus çš„æ–¹å¼</p><ul><li>ç®€å•çš„ CRUD ä¸šåŠ¡åªéœ€è¦åˆ›å»º Mapper æ¥å£ï¼Œå¹¶ç»§æ‰¿ <code>BaseMapper</code> æ¥å£ï¼Œè¿™å°±æ˜¯ä½¿ç”¨ MyBatis-Plus æ‰€éœ€è¦çš„æ“ä½œï¼Œç”šè‡³å¯ä»¥ä¸åˆ›å»º SQL æ˜ å°„æ–‡ä»¶</li></ul></li></ul><h4 id="JavaBean-ç±»"><a href="#JavaBean-ç±»" class="headerlink" title="JavaBean ç±»"></a>JavaBean ç±»</h4><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>{</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> Long id;</span><br><span class="line"><span class="keyword">private</span> String lastName;</span><br><span class="line"><span class="keyword">private</span> String gender;</span><br><span class="line"><span class="keyword">private</span> String email;</span><br><span class="line"><span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="Mapper-æ¥å£"><a href="#Mapper-æ¥å£" class="headerlink" title="Mapper æ¥å£"></a>Mapper æ¥å£</h4><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">EmployeeMapper</span> <span class="keyword">extends</span> <span class="title">BaseMapper</span>&lt;<span class="title">Employee</span>&gt; </span>{</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Employee <span class="title">getById</span><span class="params">(Long id)</span></span>;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="SQL-æ˜ å°„æ–‡ä»¶"><a href="#SQL-æ˜ å°„æ–‡ä»¶" class="headerlink" title="SQL æ˜ å°„æ–‡ä»¶"></a>SQL æ˜ å°„æ–‡ä»¶</h4><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">  <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span></span></span><br><span class="line"><span class="meta">  <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"com.clay.mybatis.dao.EmployeeMapper"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getById"</span> <span class="attr">parameterType</span>=<span class="string">"Long"</span> <span class="attr">resultType</span>=<span class="string">"Employee"</span>&gt;</span></span><br><span class="line">select id, last_name as lastName, gender, email, age</span><br><span class="line">from t_employee</span><br><span class="line">where id = #{id} </span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="Junit-å•å…ƒæµ‹è¯•ç±»"><a href="#Junit-å•å…ƒæµ‹è¯•ç±»" class="headerlink" title="Junit å•å…ƒæµ‹è¯•ç±»"></a>Junit å•å…ƒæµ‹è¯•ç±»</h4><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBatisPlusTest</span> </span>{</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ClassPathXmlApplicationContext iocContext = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"application.xml"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> EmployeeMapper empMapper = iocContext.getBean(<span class="string">"employeeMapper"</span>, EmployeeMapper.class);</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">select</span><span class="params">()</span> </span>{</span><br><span class="line">Employee employee = empMapper.selectById(<span class="number">1L</span>);</span><br><span class="line">Assert.notNull(employee, <span class="string">"entity not be null"</span>);</span><br><span class="line">System.out.println(employee);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">()</span> </span>{</span><br><span class="line">Employee employee = <span class="keyword">new</span> Employee(<span class="string">"David"</span>, <span class="string">"1"</span>, <span class="string">"david@gmail.com"</span>, <span class="number">23</span>);</span><br><span class="line">Integer insertResult = empMapper.insert(employee);</span><br><span class="line">Assert.isTrue(insertResult &gt; <span class="number">0</span>, <span class="string">""</span>);</span><br><span class="line">System.out.println(<span class="string">"insert result: "</span> + insertResult);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getById</span><span class="params">()</span> </span>{</span><br><span class="line">Employee employee = empMapper.getById(<span class="number">1L</span>);</span><br><span class="line">Assert.notNull(employee, <span class="string">"entity not be null"</span>);</span><br><span class="line">System.out.println(employee);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æ‰§è¡Œä¸Šè¿°çš„å•å…ƒæµ‹è¯•ä»£ç åï¼Œè‹¥æ§åˆ¶å°è¾“å‡ºä¸‹é¢ç±»ä¼¼çš„æ—¥å¿—ä¿¡æ¯ï¼Œåˆ™è¯´æ˜ Spring ä¸ MyBatis-Plus æ­£å¸¸å·¥ä½œã€‚</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">20:45:59.875 [main] DEBUG com.clay.mybatis.dao.EmployeeMapper.insert - ==&gt;  Preparing: INSERT INTO t_employee ( last_name, gender, email, age ) VALUES ( ?, ?, ?, ? )</span><br><span class="line">20:45:59.910 [main] DEBUG com.clay.mybatis.dao.EmployeeMapper.insert - ==&gt; Parameters: David(String), 1(String), david@gmail.com(String), 23(Integer)</span><br><span class="line">20:45:59.913 [main] DEBUG com.clay.mybatis.dao.EmployeeMapper.insert - &lt;==    Updates: 1</span><br><span class="line">insert result: 1</span><br><span class="line"></span><br><span class="line">20:45:59.925 [main] DEBUG com.clay.mybatis.dao.EmployeeMapper.selectById - ==&gt;  Preparing: SELECT id,last_name,gender,email,age FROM t_employee WHERE id=?</span><br><span class="line">20:45:59.926 [main] DEBUG com.clay.mybatis.dao.EmployeeMapper.selectById - ==&gt; Parameters: 1(Long)</span><br><span class="line">20:45:59.942 [main] DEBUG com.clay.mybatis.dao.EmployeeMapper.selectById - &lt;==      Total: 1</span><br><span class="line">Employee [id=1, lastName=Jim, gender=1, email=jim@gmail.com, age=26]</span><br><span class="line"></span><br><span class="line">20:45:59.943 [main] DEBUG com.clay.mybatis.dao.EmployeeMapper.getById - ==&gt;  Preparing: select id, last_name as lastName, gender, email, age from t_employee where id = ?</span><br><span class="line">20:45:59.944 [main] DEBUG com.clay.mybatis.dao.EmployeeMapper.getById - ==&gt; Parameters: 1(Long)</span><br><span class="line">20:45:59.945 [main] DEBUG com.clay.mybatis.dao.EmployeeMapper.getById - &lt;==      Total: 1</span><br><span class="line">Employee [id=1, lastName=Jim, gender=1, email=jim@gmail.com, age=26]</span><br></pre></td></tr></tbody></table></figure><h2 id="SpringBoot-å¿«é€Ÿå¯åŠ¨æ¡ˆä¾‹"><a href="#SpringBoot-å¿«é€Ÿå¯åŠ¨æ¡ˆä¾‹" class="headerlink" title="SpringBoot å¿«é€Ÿå¯åŠ¨æ¡ˆä¾‹"></a>SpringBoot å¿«é€Ÿå¯åŠ¨æ¡ˆä¾‹</h2><p>æœ¬èŠ‚æ‰€éœ€çš„æ¡ˆä¾‹ä»£ç ï¼Œå¯ä»¥ç›´æ¥ä» <a href="https://github.com/rqh656418510/mybatis-code/tree/main/mybatis-plus-study">GitHub</a> ä¸‹è½½å¯¹åº”ç« èŠ‚ <code>mybatis-plus-lesson-02</code>ã€‚</p><h3 id="è½¯ä»¶ç‰ˆæœ¬è¯´æ˜-1"><a href="#è½¯ä»¶ç‰ˆæœ¬è¯´æ˜-1" class="headerlink" title="è½¯ä»¶ç‰ˆæœ¬è¯´æ˜"></a>è½¯ä»¶ç‰ˆæœ¬è¯´æ˜</h3><table><thead><tr><th>åç§°</th><th>ç‰ˆæœ¬</th></tr></thead><tbody><tr><td> Druid</td><td>1.2.11</td></tr><tr><td>SpringBoot</td><td>2.7.3</td></tr><tr><td>MyBatis-Plus</td><td>3.5.2</td></tr></tbody></table><h3 id="åˆå§‹åŒ–æ•°æ®åº“-1"><a href="#åˆå§‹åŒ–æ•°æ®åº“-1" class="headerlink" title="åˆå§‹åŒ–æ•°æ®åº“"></a>åˆå§‹åŒ–æ•°æ®åº“</h3><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE `mybatis_plus_lesson` <span class="keyword">DEFAULT</span> <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `t_employee` (</span><br><span class="line">  `id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `last_name` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `gender` <span class="type">char</span>(<span class="number">1</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `email` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `age` <span class="type">int</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t_employee(id, last_name, gender, email, age) <span class="keyword">values</span>(<span class="number">1</span>, <span class="string">'Jim'</span>,<span class="string">'1'</span>, <span class="string">'jim@gmail.com'</span>, <span class="number">26</span>), (<span class="number">2</span>, <span class="string">'Peter'</span>,<span class="string">'1'</span>, <span class="string">'peter@gmail.com'</span>, <span class="number">29</span>);</span><br></pre></td></tr></tbody></table></figure><h3 id="å¼•å…¥-Maven-ä¾èµ–-1"><a href="#å¼•å…¥-Maven-ä¾èµ–-1" class="headerlink" title="å¼•å…¥ Maven ä¾èµ–"></a>å¼•å…¥ Maven ä¾èµ–</h3><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œä¸éœ€è¦å•ç‹¬å¼•å…¥ MyBatis ä¸ MyBatis-Spring çš„ä¾èµ–ï¼Œå¦åˆ™ä¼šå¼•èµ·ç‰ˆæœ¬å†²çªï¼Œè¿™æ˜¯å› ä¸º MyBatis-Plus ä¼šè‡ªåŠ¨ç»´æŠ¤å®ƒä»¬çš„ç‰ˆæœ¬ã€‚</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">druid.version</span>&gt;</span>1.2.11<span class="tag">&lt;/<span class="name">druid.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mybatis-plus.version</span>&gt;</span>3.5.2<span class="tag">&lt;/<span class="name">mybatis-plus.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">relativePath</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>${druid.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>${mybatis-plus.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="SpringBoot-é…ç½®æ–‡ä»¶"><a href="#SpringBoot-é…ç½®æ–‡ä»¶" class="headerlink" title="SpringBoot é…ç½®æ–‡ä»¶"></a>SpringBoot é…ç½®æ–‡ä»¶</h3><h5 id="MyBatis-Plus-2-x-ç‰ˆæœ¬é…ç½®-1"><a href="#MyBatis-Plus-2-x-ç‰ˆæœ¬é…ç½®-1" class="headerlink" title="MyBatis-Plus 2.x ç‰ˆæœ¬é…ç½®"></a>MyBatis-Plus 2.x ç‰ˆæœ¬é…ç½®</h5><div class="admonition note"><p class="admonition-title">æç¤º</p><p>MyBatis-Plus 2.x çš„ SpringBoot è¯¦ç»†é…ç½®å‚æ•°å¯çœ‹ <a href="https://baomidou.gitee.io/mybatis-plus-doc/#/spring-boot">è¿™é‡Œ</a>ã€‚</p></div><p>å½“ä½¿ç”¨çš„ MyBatis-Plus ä¸º <code>2.x</code> ç‰ˆæœ¬æ—¶ï¼ˆå¦‚ <code>2.3.3</code> ç‰ˆæœ¬ï¼‰ï¼Œå…·ä½“çš„é…ç½®å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight yml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">   <span class="comment"># Druid æ•°æ®æºé…ç½®</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">    <span class="attr">druid:</span></span><br><span class="line">      <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">jdbc:mysql://127.0.0.1:3306/mybatis_plus_lesson?characterEncoding=utf8&amp;autoReconnect=true&amp;useSSL=false&amp;useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">      <span class="attr">initial-size:</span> <span class="number">10</span></span><br><span class="line">      <span class="attr">max-active:</span> <span class="number">100</span></span><br><span class="line">      <span class="attr">min-idle:</span> <span class="number">10</span></span><br><span class="line">      <span class="attr">max-wait:</span> <span class="number">60000</span></span><br><span class="line">      <span class="attr">pool-prepared-statements:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">max-pool-prepared-statement-per-connection-size:</span> <span class="number">20</span></span><br><span class="line">      <span class="attr">time-between-eviction-runs-millis:</span> <span class="number">60000</span></span><br><span class="line">      <span class="attr">min-evictable-idle-time-millis:</span> <span class="number">300000</span></span><br><span class="line">      <span class="attr">validation-query:</span> <span class="string">SELECT</span> <span class="number">1</span></span><br><span class="line">      <span class="attr">test-while-idle:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">test-on-borrow:</span> <span class="literal">false</span></span><br><span class="line">      <span class="attr">test-on-return:</span> <span class="literal">false</span></span><br><span class="line">      <span class="attr">stat-view-servlet:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">false</span></span><br><span class="line">        <span class="attr">url-pattern:</span> <span class="string">/druid/*</span></span><br><span class="line">        <span class="attr">login-username:</span> <span class="string">admin</span></span><br><span class="line">        <span class="attr">login-password:</span> <span class="number">123456</span></span><br><span class="line">      <span class="attr">filter:</span></span><br><span class="line">        <span class="attr">stat:</span></span><br><span class="line">          <span class="attr">log-slow-sql:</span> <span class="literal">true</span></span><br><span class="line">          <span class="attr">slow-sql-millis:</span> <span class="number">1000</span></span><br><span class="line">          <span class="attr">merge-sql:</span> <span class="literal">false</span></span><br><span class="line">        <span class="attr">wall:</span></span><br><span class="line">          <span class="attr">config:</span></span><br><span class="line">            <span class="attr">multi-statement-allow:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># MyBatis-Plus é…ç½®</span></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath*:/mapper/**/*.xml</span></span><br><span class="line">  <span class="attr">typeAliasesPackage:</span> <span class="string">com.clay.mybatis.bean</span></span><br><span class="line">  <span class="comment"># MyBatis-Plus å…¨å±€é…ç½®</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">id-type:</span> <span class="number">0</span></span><br><span class="line">    <span class="attr">field-strategy:</span> <span class="number">2</span></span><br><span class="line">    <span class="attr">db-column-underline:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">table-prefix:</span> <span class="string">t_</span></span><br><span class="line">  <span class="comment"># MyBatis åŸç”Ÿé…ç½®</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">jdbc-type-for-null:</span> <span class="string">'null'</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line"></span><br><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="attr">com.clay.mybatis.dao:</span> <span class="string">debug</span></span><br></pre></td></tr></tbody></table></figure><h5 id="MyBatis-Plus-3-x-ç‰ˆæœ¬é…ç½®-1"><a href="#MyBatis-Plus-3-x-ç‰ˆæœ¬é…ç½®-1" class="headerlink" title="MyBatis-Plus 3.x ç‰ˆæœ¬é…ç½®"></a>MyBatis-Plus 3.x ç‰ˆæœ¬é…ç½®</h5><div class="admonition note"><p class="admonition-title">æç¤º</p><p>MyBatis-Plus 3.x çš„ SpringBoot è¯¦ç»†é…ç½®å‚æ•°å¯çœ‹ <a href="https://baomidou.com/pages/56bac0/">è¿™é‡Œ</a>ã€‚</p></div><p>å½“ä½¿ç”¨çš„ MyBatis-Plus ä¸º <code>3.x</code> ç‰ˆæœ¬æ—¶ï¼ˆå¦‚ <code>3.5.2</code> ç‰ˆæœ¬ï¼‰ï¼Œå…·ä½“çš„é…ç½®å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight yml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">   <span class="comment"># Druid æ•°æ®æºé…ç½®</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">    <span class="attr">druid:</span></span><br><span class="line">      <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">jdbc:mysql://127.0.0.1:3306/mybatis_plus_lesson?characterEncoding=utf8&amp;autoReconnect=true&amp;useSSL=false&amp;useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">      <span class="attr">initial-size:</span> <span class="number">10</span></span><br><span class="line">      <span class="attr">max-active:</span> <span class="number">100</span></span><br><span class="line">      <span class="attr">min-idle:</span> <span class="number">10</span></span><br><span class="line">      <span class="attr">max-wait:</span> <span class="number">60000</span></span><br><span class="line">      <span class="attr">pool-prepared-statements:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">max-pool-prepared-statement-per-connection-size:</span> <span class="number">20</span></span><br><span class="line">      <span class="attr">time-between-eviction-runs-millis:</span> <span class="number">60000</span></span><br><span class="line">      <span class="attr">min-evictable-idle-time-millis:</span> <span class="number">300000</span></span><br><span class="line">      <span class="attr">validation-query:</span> <span class="string">SELECT</span> <span class="number">1</span></span><br><span class="line">      <span class="attr">test-while-idle:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">test-on-borrow:</span> <span class="literal">false</span></span><br><span class="line">      <span class="attr">test-on-return:</span> <span class="literal">false</span></span><br><span class="line">      <span class="attr">stat-view-servlet:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">false</span></span><br><span class="line">        <span class="attr">url-pattern:</span> <span class="string">/druid/*</span></span><br><span class="line">        <span class="attr">login-username:</span> <span class="string">admin</span></span><br><span class="line">        <span class="attr">login-password:</span> <span class="number">123456</span></span><br><span class="line">      <span class="attr">filter:</span></span><br><span class="line">        <span class="attr">stat:</span></span><br><span class="line">          <span class="attr">log-slow-sql:</span> <span class="literal">true</span></span><br><span class="line">          <span class="attr">slow-sql-millis:</span> <span class="number">1000</span></span><br><span class="line">          <span class="attr">merge-sql:</span> <span class="literal">false</span></span><br><span class="line">        <span class="attr">wall:</span></span><br><span class="line">          <span class="attr">config:</span></span><br><span class="line">            <span class="attr">multi-statement-allow:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># MyBatis-Plus é…ç½®</span></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath*:/mapper/**/*.xml</span></span><br><span class="line">  <span class="attr">typeAliasesPackage:</span> <span class="string">com.clay.mybatis.bean</span></span><br><span class="line">  <span class="comment"># MyBatis-Plus å…¨å±€é…ç½®</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">banner:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">db-config:</span></span><br><span class="line">      <span class="attr">id-type:</span> <span class="string">AUTO</span></span><br><span class="line">      <span class="attr">tablePrefix:</span> <span class="string">t_</span></span><br><span class="line">      <span class="attr">tableUnderline:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># MyBatis åŸç”Ÿé…ç½®</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">jdbc-type-for-null:</span> <span class="string">'null'</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line"></span><br><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="attr">com.clay.mybatis.dao:</span> <span class="string">debug</span></span><br></pre></td></tr></tbody></table></figure><h3 id="é€šç”¨-CRUD-ä»£ç -1"><a href="#é€šç”¨-CRUD-ä»£ç -1" class="headerlink" title="é€šç”¨ CRUD ä»£ç "></a>é€šç”¨ CRUD ä»£ç </h3><p>åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œä½¿ç”¨ MyBatis ä¸ MyBatis-Plus ç¼–å†™ CRUD ä»£ç çš„åŒºåˆ«ï¼š</p><ul><li><p>åŸºäº Mybatis çš„æ–¹å¼</p><ul><li>éœ€è¦ç¼–å†™ Mapper æ¥å£ï¼Œå¹¶æ‰‹åŠ¨ç¼–å†™ CRUD æ–¹æ³•</li><li>æä¾› SQL æ˜ å°„æ–‡ä»¶ï¼Œå¹¶æ‰‹åŠ¨ç¼–å†™æ¯ä¸ª CRUD æ–¹æ³•å¯¹åº”çš„ SQL è¯­å¥</li></ul></li><li><p>åŸºäº MyBatis-Plus çš„æ–¹å¼</p><ul><li>ç®€å•çš„ CRUD ä¸šåŠ¡åªéœ€è¦åˆ›å»º Mapper æ¥å£ï¼Œå¹¶ç»§æ‰¿ <code>BaseMapper</code> æ¥å£ï¼Œè¿™å°±æ˜¯ä½¿ç”¨ MyBatis-Plus æ‰€éœ€è¦çš„æ“ä½œï¼Œç”šè‡³å¯ä»¥ä¸åˆ›å»º SQL æ˜ å°„æ–‡ä»¶</li></ul></li></ul><h4 id="JavaBean-ç±»-1"><a href="#JavaBean-ç±»-1" class="headerlink" title="JavaBean ç±»"></a>JavaBean ç±»</h4><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>{</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> Long id;</span><br><span class="line"><span class="keyword">private</span> String lastName;</span><br><span class="line"><span class="keyword">private</span> String gender;</span><br><span class="line"><span class="keyword">private</span> String email;</span><br><span class="line"><span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="Mapper-æ¥å£-1"><a href="#Mapper-æ¥å£-1" class="headerlink" title="Mapper æ¥å£"></a>Mapper æ¥å£</h4><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">EmployeeMapper</span> <span class="keyword">extends</span> <span class="title">BaseMapper</span>&lt;<span class="title">Employee</span>&gt; </span>{</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Employee <span class="title">getById</span><span class="params">(Long id)</span></span>;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="SQL-æ˜ å°„æ–‡ä»¶-1"><a href="#SQL-æ˜ å°„æ–‡ä»¶-1" class="headerlink" title="SQL æ˜ å°„æ–‡ä»¶"></a>SQL æ˜ å°„æ–‡ä»¶</h4><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">  <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span></span></span><br><span class="line"><span class="meta">  <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"com.clay.mybatis.dao.EmployeeMapper"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getById"</span> <span class="attr">parameterType</span>=<span class="string">"Long"</span> <span class="attr">resultType</span>=<span class="string">"Employee"</span>&gt;</span></span><br><span class="line">select id, last_name as lastName, gender, email, age</span><br><span class="line">from t_employee</span><br><span class="line">where id = #{id} </span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="SpringBoot-å¯åŠ¨ç±»"><a href="#SpringBoot-å¯åŠ¨ç±»" class="headerlink" title="SpringBoot å¯åŠ¨ç±»"></a>SpringBoot å¯åŠ¨ç±»</h4><p>é€šè¿‡ <code>@MapperScan</code> æ³¨è§£æ¥æ‰«æ Mapper æ¥å£ã€‚</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@MapperScan("com.clay.mybatis.dao")</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBatisPlusApplication</span> </span>{</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">SpringApplication.run(MyBatisPlusApplication.class, args);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="Junit-å•å…ƒæµ‹è¯•ç±»-1"><a href="#Junit-å•å…ƒæµ‹è¯•ç±»-1" class="headerlink" title="Junit å•å…ƒæµ‹è¯•ç±»"></a>Junit å•å…ƒæµ‹è¯•ç±»</h4><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBatisPlusTest</span> </span>{</span><br><span class="line"></span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> EmployeeMapper empMapper;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">select</span><span class="params">()</span> </span>{</span><br><span class="line">Employee employee = empMapper.selectById(<span class="number">1L</span>);</span><br><span class="line">Assert.notNull(employee, <span class="string">"entity not be null"</span>);</span><br><span class="line">System.out.println(employee);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">()</span> </span>{</span><br><span class="line">Employee employee = <span class="keyword">new</span> Employee(<span class="string">"David"</span>, <span class="string">"1"</span>, <span class="string">"david@gmail.com"</span>, <span class="number">23</span>);</span><br><span class="line">Integer insertResult = empMapper.insert(employee);</span><br><span class="line">Assert.isTrue(insertResult &gt; <span class="number">0</span>, <span class="string">""</span>);</span><br><span class="line">System.out.println(<span class="string">"insert result: "</span> + insertResult);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getById</span><span class="params">()</span> </span>{</span><br><span class="line">Employee employee = empMapper.getById(<span class="number">1L</span>);</span><br><span class="line">Assert.notNull(employee, <span class="string">"entity not be null"</span>);</span><br><span class="line">System.out.println(employee);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æ‰§è¡Œä¸Šè¿°çš„å•å…ƒæµ‹è¯•ä»£ç åï¼Œè‹¥æ§åˆ¶å°è¾“å‡ºä¸‹é¢ç±»ä¼¼çš„æ—¥å¿—ä¿¡æ¯ï¼Œåˆ™è¯´æ˜ SpringBoot ä¸ MyBatis-Plus æ­£å¸¸å·¥ä½œã€‚</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">==&gt;  Preparing: INSERT INTO t_employee ( last_name, gender, email, age ) VALUES ( ?, ?, ?, ? )</span><br><span class="line">==&gt; Parameters: David(String), 1(String), david@gmail.com(String), 23(Integer)</span><br><span class="line">&lt;==    Updates: 1</span><br><span class="line">insert result: 1</span><br><span class="line"></span><br><span class="line">==&gt;  Preparing: SELECT id,last_name,gender,email,age FROM t_employee WHERE id=?</span><br><span class="line">==&gt; Parameters: 1(Long)</span><br><span class="line">&lt;==    Columns: id, last_name, gender, email, age</span><br><span class="line">&lt;==        Row: 1, Jim, 1, jim@gmail.com, 26</span><br><span class="line">&lt;==      Total: 1</span><br><span class="line">Employee [id=1, lastName=Jim, gender=1, email=jim@gmail.com, age=26]</span><br><span class="line"></span><br><span class="line">==&gt;  Preparing: select id, last_name as lastName, gender, email, age from t_employee where id = ?</span><br><span class="line">==&gt; Parameters: 1(Long)</span><br><span class="line">&lt;==    Columns: id, lastName, gender, email, age</span><br><span class="line">&lt;==        Row: 1, Jim, 1, jim@gmail.com, 26</span><br><span class="line">&lt;==      Total: 1</span><br><span class="line">Employee [id=1, lastName=Jim, gender=1, email=jim@gmail.com, age=26]</span><br></pre></td></tr></tbody></table></figure></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {try {var plugin = new ReadmorePlugin();plugin.init({"id": "readmore-container","blogId": "96641-5333172926158-056","name": "å…¨æ ˆæŠ€æœ¯é©¿ç«™","qrcode": "https://www.techgrow.cn/img/wx_mp_qr.png","keyword": "Tech","lockToc": "yes","type": "hexo","random": "0.9","interval": "30","expires": "365","height": "auto"});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦ä»‹ç» MyBatis-Plus çš„å…¥é—¨æ•™ç¨‹å†…å®¹ï¼ŒåŒ…æ‹¬ MyBatis-Plus çš„ä»‹ç»ã€Spring ä¸ SpringBoot çš„å¿«é€Ÿå…¥é—¨æ¡ˆä¾‹ã€‚</summary>
    
    
    
    <category term="hide" scheme="https://www.techgrow.cn/categories/hide/"/>
    
    
    <category term="Java" scheme="https://www.techgrow.cn/tags/Java/"/>
    
    <category term="æ•°æ®åº“" scheme="https://www.techgrow.cn/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>MyBatis æºç åˆ†æ</title>
    <link href="https://www.techgrow.cn/posts/9a55ed5d.html"/>
    <id>https://www.techgrow.cn/posts/9a55ed5d.html</id>
    <published>2022-08-28T15:12:41.000Z</published>
    <updated>2022-08-28T15:12:41.000Z</updated>
    
    <content type="html"><![CDATA[<div id="readmore-container"><div class="row"><embed src="https://qiniu.techgrow.cn/uploads/pdf/2021/12/MyBatisæºç åˆ†æ.pdf" width="100%" height="1024px" isolation="isolate" type="application/pdf"></div></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {try {var plugin = new ReadmorePlugin();plugin.init({"id": "readmore-container","blogId": "96641-5333172926158-056","name": "å…¨æ ˆæŠ€æœ¯é©¿ç«™","qrcode": "https://www.techgrow.cn/img/wx_mp_qr.png","keyword": "Tech","lockToc": "yes","type": "hexo","random": "0.9","interval": "30","expires": "365","height": "auto"});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦ä»‹ç» MyBatis æºç åˆ†æçš„å†…å®¹ã€‚</summary>
    
    
    
    <category term="hide" scheme="https://www.techgrow.cn/categories/hide/"/>
    
    
    <category term="Java" scheme="https://www.techgrow.cn/tags/Java/"/>
    
    <category term="æ•°æ®åº“" scheme="https://www.techgrow.cn/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    <category term="åœ¨çº¿ç”µå­ä¹¦" scheme="https://www.techgrow.cn/tags/%E5%9C%A8%E7%BA%BF%E7%94%B5%E5%AD%90%E4%B9%A6/"/>
    
  </entry>
  
  <entry>
    <title>Kafka å…¥é—¨æ•™ç¨‹ä¹‹äºŒ</title>
    <link href="https://www.techgrow.cn/posts/60ddcede.html"/>
    <id>https://www.techgrow.cn/posts/60ddcede.html</id>
    <published>2022-08-17T14:13:45.000Z</published>
    <updated>2022-08-17T14:13:45.000Z</updated>
    
    <content type="html"><![CDATA[<div id="readmore-container"><!-- toc --><h2 id="Kafka-ç”Ÿäº§è€…"><a href="#Kafka-ç”Ÿäº§è€…" class="headerlink" title="Kafka ç”Ÿäº§è€…"></a>Kafka ç”Ÿäº§è€…</h2><h3 id="ç”Ÿäº§è€…æ¶ˆæ¯å‘é€æµç¨‹"><a href="#ç”Ÿäº§è€…æ¶ˆæ¯å‘é€æµç¨‹" class="headerlink" title="ç”Ÿäº§è€…æ¶ˆæ¯å‘é€æµç¨‹"></a>ç”Ÿäº§è€…æ¶ˆæ¯å‘é€æµç¨‹</h3><h4 id="ç”Ÿäº§è€…æ¶ˆæ¯å‘é€åŸç†"><a href="#ç”Ÿäº§è€…æ¶ˆæ¯å‘é€åŸç†" class="headerlink" title="ç”Ÿäº§è€…æ¶ˆæ¯å‘é€åŸç†"></a>ç”Ÿäº§è€…æ¶ˆæ¯å‘é€åŸç†</h4><p>Kafka çš„ Producer å‘é€æ¶ˆæ¯é‡‡ç”¨çš„æ˜¯å¼‚æ­¥å‘é€çš„æ–¹å¼ã€‚åœ¨æ¶ˆæ¯å‘é€çš„è¿‡ç¨‹ä¸­ï¼Œæ¶‰åŠåˆ°äº†ä¸¤ä¸ªçº¿ç¨‹ â€” <code>main</code> çº¿ç¨‹å’Œ <code>Sender</code> çº¿ç¨‹ã€‚åœ¨ <code>main</code> çº¿ç¨‹ä¸­ï¼Œä¼šåˆ›å»ºä¸€ä¸ªåŒç«¯é˜Ÿåˆ— <code>RecordAccumulator</code>ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œ<code>main</code> çº¿ç¨‹å°†æ¶ˆæ¯å‘é€ç»™ <code>RecordAccumulator</code> æ—¶ï¼Œ<code>Sender</code> çº¿ç¨‹ä¼šä¸æ–­ä» <code>RecordAccumulator</code> ä¸­æ‹‰å–æ¶ˆæ¯å¹¶å‘é€åˆ° Kafka Brokerã€‚</p><p><img data-src="../../../asset/2022/08/kafka-producer-1.png"></p><span id="more"></span><h4 id="ç”Ÿäº§è€…é‡è¦å‚æ•°åˆ—è¡¨"><a href="#ç”Ÿäº§è€…é‡è¦å‚æ•°åˆ—è¡¨" class="headerlink" title="ç”Ÿäº§è€…é‡è¦å‚æ•°åˆ—è¡¨"></a>ç”Ÿäº§è€…é‡è¦å‚æ•°åˆ—è¡¨</h4><p><img data-src="../../../asset/2022/08/kafka-producer-2.png"></p><h3 id="ç”Ÿäº§è€…å¼‚æ­¥å‘é€-API"><a href="#ç”Ÿäº§è€…å¼‚æ­¥å‘é€-API" class="headerlink" title="ç”Ÿäº§è€…å¼‚æ­¥å‘é€ API"></a>ç”Ÿäº§è€…å¼‚æ­¥å‘é€ API</h3><h4 id="æ™®é€šçš„å¼‚æ­¥å‘é€"><a href="#æ™®é€šçš„å¼‚æ­¥å‘é€" class="headerlink" title="æ™®é€šçš„å¼‚æ­¥å‘é€"></a>æ™®é€šçš„å¼‚æ­¥å‘é€</h4><div class="admonition note"><p class="admonition-title">æç¤º</p><p>æœ¬èŠ‚æ‰€éœ€çš„æ¡ˆä¾‹ä»£ç ï¼Œå¯ä»¥ç›´æ¥ä» <a href="https://github.com/rqh656418510/spring-cloud-share/tree/main/kafka-study">GitHub</a> ä¸‹è½½å¯¹åº”ç« èŠ‚ <code>kafka-lesson-01</code>ã€‚</p></div><ul><li>Maven ä¾èµ– </li></ul><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.kafka<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>kafka-clients<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><ul><li>Java ä»£ç  </li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomerProducer</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">        <span class="comment">// æŒ‡å®šKafkaé›†ç¾¤çš„è¿æ¥ä¿¡æ¯</span></span><br><span class="line">        properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, <span class="string">"127.0.0.1:9092,127.0.0.1:9093"</span>);</span><br><span class="line">        <span class="comment">// æŒ‡å®šåºåˆ—åŒ–å™¨ï¼ˆå¿…éœ€ï¼‰</span></span><br><span class="line">        properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());</span><br><span class="line">        properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºç”Ÿäº§è€…å¯¹è±¡</span></span><br><span class="line">        KafkaProducer&lt;String, String&gt; producer = <span class="keyword">new</span> KafkaProducer&lt;&gt;(properties);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) {</span><br><span class="line">            <span class="comment">// å¼‚æ­¥å‘é€æ¶ˆæ¯</span></span><br><span class="line">            producer.send(<span class="keyword">new</span> ProducerRecord&lt;&gt;(<span class="string">"test"</span>, <span class="string">"hello kafka "</span> + i));</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// å…³é—­èµ„æº</span></span><br><span class="line">        producer.close();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>æµ‹è¯•ä»£ç </li></ul><p>ç¬¬ä¸€æ­¥ï¼šå¯åŠ¨ Kafka çš„æ§åˆ¶å°æ¶ˆè´¹è€…ï¼š</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ./kafka-console-consumer.sh --bootstrap-server 127.0.0.1:9092 --topic test</span></span><br></pre></td></tr></tbody></table></figure><p>ç¬¬äºŒæ­¥ï¼šåœ¨ IDE å·¥å…·ä¸­æ‰§è¡Œä»£ç ï¼Œè§‚å¯Ÿæ§åˆ¶å°æ¶ˆè´¹è€…ä¸­æ˜¯å¦æ¥æ”¶åˆ°æ¶ˆæ¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hello kafka 0</span><br><span class="line">hello kafka 1</span><br><span class="line">hello kafka 2</span><br><span class="line">hello kafka 3</span><br><span class="line">hello kafka 4</span><br></pre></td></tr></tbody></table></figure><h4 id="å¸¦å›è°ƒå‡½æ•°çš„å¼‚æ­¥å‘é€"><a href="#å¸¦å›è°ƒå‡½æ•°çš„å¼‚æ­¥å‘é€" class="headerlink" title="å¸¦å›è°ƒå‡½æ•°çš„å¼‚æ­¥å‘é€"></a>å¸¦å›è°ƒå‡½æ•°çš„å¼‚æ­¥å‘é€</h4><p>å›è°ƒæ–¹æ³•ä¼šåœ¨ Producer æ”¶åˆ° <code>ack</code> æ—¶è°ƒç”¨ï¼Œä¸”ä¸ºå¼‚æ­¥è°ƒç”¨ï¼›è¯¥æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å…ƒæ•°æ®ä¿¡æ¯ï¼ˆRecordMetadataï¼‰å’Œå¼‚å¸¸ä¿¡æ¯ï¼ˆExceptionï¼‰ã€‚å¦‚æœ <code>Exception</code> ä¸º <code>null</code>ï¼Œåˆ™è¯´æ˜æ¶ˆæ¯å‘é€æˆåŠŸï¼Œå¦‚æœ <code>Exception</code> ä¸ä¸º <code>null</code>ï¼Œåˆ™è¯´æ˜æ¶ˆæ¯å‘é€å¤±è´¥ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œ<strong>æ¶ˆæ¯å‘é€å¤±è´¥ä¼šè‡ªåŠ¨é‡è¯•å‘é€ï¼Œä¸éœ€è¦åœ¨å›è°ƒå‡½æ•°ä¸­æ‰‹åŠ¨é‡è¯•å‘é€ã€‚</strong></p><ul><li>Java ä»£ç  </li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomerProducer2</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">        <span class="comment">// æŒ‡å®šKafkaé›†ç¾¤çš„è¿æ¥ä¿¡æ¯</span></span><br><span class="line">        properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, <span class="string">"127.0.0.1:9092,127.0.0.1:9093"</span>);</span><br><span class="line">        <span class="comment">// æŒ‡å®šåºåˆ—åŒ–å™¨ï¼ˆå¿…éœ€ï¼‰</span></span><br><span class="line">        properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());</span><br><span class="line">        properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºç”Ÿäº§è€…å¯¹è±¡</span></span><br><span class="line">        KafkaProducer&lt;String, String&gt; producer = <span class="keyword">new</span> KafkaProducer&lt;&gt;(properties);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) {</span><br><span class="line">            <span class="comment">// å¼‚æ­¥å‘é€æ¶ˆæ¯ï¼ˆå¸¦å›è°ƒå‡½æ•°ï¼‰</span></span><br><span class="line">            producer.send(<span class="keyword">new</span> ProducerRecord&lt;&gt;(<span class="string">"test"</span>, <span class="string">"hello kafka "</span> + i), <span class="keyword">new</span> Callback() {</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCompletion</span><span class="params">(RecordMetadata recordMetadata, Exception exception)</span> </span>{</span><br><span class="line">                    <span class="keyword">if</span> (exception == <span class="keyword">null</span>) {</span><br><span class="line">                        System.out.println(<span class="string">"topic: "</span> + recordMetadata.topic() + <span class="string">", partition: "</span> + recordMetadata.partition());</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            });</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// å…³é—­èµ„æº</span></span><br><span class="line">        producer.close();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>æµ‹è¯•ä»£ç </li></ul><p>é™¤äº†åœ¨ Kafka çš„æ§åˆ¶å°æ¶ˆè´¹è€…ä¸­æ¥æ”¶åˆ°æ¶ˆæ¯ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åœ¨ IDE çš„æ§åˆ¶å°çœ‹åˆ°å¦‚ä¸‹çš„è¾“å‡ºä¿¡æ¯ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">topic: test, partition: 0</span><br><span class="line">topic: test, partition: 0</span><br><span class="line">topic: test, partition: 0</span><br><span class="line">topic: test, partition: 0</span><br><span class="line">topic: test, partition: 0</span><br></pre></td></tr></tbody></table></figure><h3 id="ç”Ÿäº§è€…åŒæ­¥å‘é€-API"><a href="#ç”Ÿäº§è€…åŒæ­¥å‘é€-API" class="headerlink" title="ç”Ÿäº§è€…åŒæ­¥å‘é€ API"></a>ç”Ÿäº§è€…åŒæ­¥å‘é€ API</h3><div class="admonition note"><p class="admonition-title">æç¤º</p><p>æœ¬èŠ‚æ‰€éœ€çš„æ¡ˆä¾‹ä»£ç ï¼Œå¯ä»¥ç›´æ¥ä» <a href="https://github.com/rqh656418510/spring-cloud-share/tree/main/kafka-study">GitHub</a> ä¸‹è½½å¯¹åº”ç« èŠ‚ <code>kafka-lesson-02</code>ã€‚</p></div><h4 id="æ™®é€šçš„åŒæ­¥å‘é€"><a href="#æ™®é€šçš„åŒæ­¥å‘é€" class="headerlink" title="æ™®é€šçš„åŒæ­¥å‘é€"></a>æ™®é€šçš„åŒæ­¥å‘é€</h4><p>åŒæ­¥å‘é€çš„æ„æ€å°±æ˜¯ï¼Œå½“ä¸€æ¡æ¶ˆæ¯å‘é€ä¹‹åï¼Œä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´è‡³æ”¶åˆ° <code>ack</code> åº”ç­”ã€‚ç”±äº <code>send()</code> æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ª <code>Future</code> å¯¹è±¡ï¼Œæ ¹æ® <code>Futrue</code> å¯¹è±¡çš„ç‰¹ç‚¹ï¼Œåªéœ€è°ƒç”¨ <code>Future</code> å¯¹è±¡çš„ <code>get()</code> æ–¹æ³•å³å¯å®ç°åŒæ­¥å‘é€ã€‚</p><ul><li>Maven ä¾èµ– </li></ul><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.kafka<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>kafka-clients<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><ul><li>Java ä»£ç  </li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomerProducer</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">        <span class="comment">// æŒ‡å®šKafkaé›†ç¾¤çš„è¿æ¥ä¿¡æ¯</span></span><br><span class="line">        properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, <span class="string">"127.0.0.1:9092,127.0.0.1:9093"</span>);</span><br><span class="line">        <span class="comment">// æŒ‡å®šåºåˆ—åŒ–å™¨ï¼ˆå¿…éœ€ï¼‰</span></span><br><span class="line">        properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());</span><br><span class="line">        properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºç”Ÿäº§è€…å¯¹è±¡</span></span><br><span class="line">        KafkaProducer&lt;String, String&gt; producer = <span class="keyword">new</span> KafkaProducer&lt;&gt;(properties);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) {</span><br><span class="line">            <span class="comment">// åŒæ­¥å‘é€æ¶ˆæ¯</span></span><br><span class="line">            <span class="keyword">try</span> {</span><br><span class="line">                producer.send(<span class="keyword">new</span> ProducerRecord&lt;&gt;(<span class="string">"test"</span>, <span class="string">"hello kafka "</span> + i)).get();</span><br><span class="line">            } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// å…³é—­èµ„æº</span></span><br><span class="line">        producer.close();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>æµ‹è¯•ä»£ç </li></ul><p>ç¬¬ä¸€æ­¥ï¼šå¯åŠ¨ Kafka çš„æ§åˆ¶å°æ¶ˆè´¹è€…ï¼š</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ./kafka-console-consumer.sh --bootstrap-server 127.0.0.1:9092 --topic test</span></span><br></pre></td></tr></tbody></table></figure><p>ç¬¬äºŒæ­¥ï¼šåœ¨ IDE å·¥å…·ä¸­æ‰§è¡Œä»£ç ï¼Œè§‚å¯Ÿæ§åˆ¶å°æ¶ˆè´¹è€…ä¸­æ˜¯å¦æ¥æ”¶åˆ°æ¶ˆæ¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hello kafka 0</span><br><span class="line">hello kafka 1</span><br><span class="line">hello kafka 2</span><br><span class="line">hello kafka 3</span><br><span class="line">hello kafka 4</span><br></pre></td></tr></tbody></table></figure><h4 id="å¸¦å›è°ƒå‡½æ•°çš„åŒæ­¥å‘é€"><a href="#å¸¦å›è°ƒå‡½æ•°çš„åŒæ­¥å‘é€" class="headerlink" title="å¸¦å›è°ƒå‡½æ•°çš„åŒæ­¥å‘é€"></a>å¸¦å›è°ƒå‡½æ•°çš„åŒæ­¥å‘é€</h4><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomerProducer2</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">        <span class="comment">// æŒ‡å®šKafkaé›†ç¾¤çš„è¿æ¥ä¿¡æ¯</span></span><br><span class="line">        properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, <span class="string">"127.0.0.1:9092,127.0.0.1:9093"</span>);</span><br><span class="line">        <span class="comment">// æŒ‡å®šåºåˆ—åŒ–å™¨ï¼ˆå¿…éœ€ï¼‰</span></span><br><span class="line">        properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());</span><br><span class="line">        properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºç”Ÿäº§è€…å¯¹è±¡</span></span><br><span class="line">        KafkaProducer&lt;String, String&gt; producer = <span class="keyword">new</span> KafkaProducer&lt;&gt;(properties);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) {</span><br><span class="line">            <span class="comment">// åŒæ­¥å‘é€æ¶ˆæ¯ï¼ˆå¸¦å›è°ƒå‡½æ•°ï¼‰</span></span><br><span class="line">            <span class="keyword">try</span> {</span><br><span class="line">                producer.send(<span class="keyword">new</span> ProducerRecord&lt;&gt;(<span class="string">"test"</span>, <span class="string">"hello kafka "</span> + i), <span class="keyword">new</span> Callback() {</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCompletion</span><span class="params">(RecordMetadata recordMetadata, Exception exception)</span> </span>{</span><br><span class="line">                        <span class="keyword">if</span> (exception == <span class="keyword">null</span>) {</span><br><span class="line">                            System.out.println(<span class="string">"topic: "</span> + recordMetadata.topic() + <span class="string">", partition: "</span> + recordMetadata.partition());</span><br><span class="line">                        }</span><br><span class="line">                    }</span><br><span class="line">                }).get();</span><br><span class="line">            } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// å…³é—­èµ„æº</span></span><br><span class="line">        producer.close();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>æµ‹è¯•ä»£ç </li></ul><p>é™¤äº†åœ¨ Kafka çš„æ§åˆ¶å°æ¶ˆè´¹è€…ä¸­æ¥æ”¶åˆ°æ¶ˆæ¯ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åœ¨ IDE çš„æ§åˆ¶å°çœ‹åˆ°å¦‚ä¸‹çš„è¾“å‡ºä¿¡æ¯ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">topic: test, partition: 0</span><br><span class="line">topic: test, partition: 2</span><br><span class="line">topic: test, partition: 0</span><br><span class="line">topic: test, partition: 1</span><br><span class="line">topic: test, partition: 2</span><br></pre></td></tr></tbody></table></figure></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {try {var plugin = new ReadmorePlugin();plugin.init({"id": "readmore-container","blogId": "96641-5333172926158-056","name": "å…¨æ ˆæŠ€æœ¯é©¿ç«™","qrcode": "https://www.techgrow.cn/img/wx_mp_qr.png","keyword": "Tech","lockToc": "yes","type": "hexo","random": "0.9","interval": "30","expires": "365","height": "auto"});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦ä»‹ç» Kafka çš„ä½¿ç”¨æ•™ç¨‹ã€‚</summary>
    
    
    
    
    <category term="åˆ†å¸ƒå¼" scheme="https://www.techgrow.cn/tags/%E5%88%86%E5%B8%83%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Kafka å…¥é—¨æ•™ç¨‹ä¹‹ä¸€</title>
    <link href="https://www.techgrow.cn/posts/b6be8183.html"/>
    <id>https://www.techgrow.cn/posts/b6be8183.html</id>
    <published>2022-08-15T14:13:45.000Z</published>
    <updated>2022-08-15T14:13:45.000Z</updated>
    
    <content type="html"><![CDATA[<div id="readmore-container"><!-- toc --><h2 id="æ¶ˆæ¯é˜Ÿåˆ—"><a href="#æ¶ˆæ¯é˜Ÿåˆ—" class="headerlink" title="æ¶ˆæ¯é˜Ÿåˆ—"></a>æ¶ˆæ¯é˜Ÿåˆ—</h2><p>ç›®å‰ä¼ä¸šä¸­æ¯”è¾ƒå¸¸è§çš„æ¶ˆæ¯é˜Ÿåˆ—äº§å“ä¸»è¦æœ‰ Kafkaã€ActiveMQã€RabbitMQã€RocketMQ ç­‰ã€‚åœ¨å¤§æ•°æ®åœºæ™¯ä¸»è¦é‡‡ç”¨ Kafka ä½œä¸ºæ¶ˆæ¯é˜Ÿåˆ—ï¼Œè€Œåœ¨ JavaEE å¼€å‘ä¸­ä¸»è¦é‡‡ç”¨ ActiveMQã€RabbitMQã€RocketMQã€‚</p><h3 id="æ¶ˆæ¯é˜Ÿåˆ—çš„ä¼˜åŠ¿"><a href="#æ¶ˆæ¯é˜Ÿåˆ—çš„ä¼˜åŠ¿" class="headerlink" title="æ¶ˆæ¯é˜Ÿåˆ—çš„ä¼˜åŠ¿"></a>æ¶ˆæ¯é˜Ÿåˆ—çš„ä¼˜åŠ¿</h3><ul><li><code>è§£è€¦</code> - å…è®¸ç‹¬ç«‹çš„æ‰©å±•æˆ–ä¿®æ”¹ä¸¤è¾¹çš„å¤„ç†è¿‡ç¨‹ï¼Œåªè¦ç¡®ä¿å®ƒä»¬éµå®ˆåŒæ ·çš„æ¥å£çº¦æŸ</li></ul><p><img data-src="../../../asset/2022/08/kafka-1.png"></p><span id="more"></span><ul><li><code>ç¼“å†²</code> - æœ‰åŠ©äºæ§åˆ¶å’Œä¼˜åŒ–æ•°æ®æµç»è¿‡ç³»ç»Ÿçš„é€Ÿåº¦ï¼Œè§£å†³ç”Ÿäº§æ¶ˆæ¯å’Œæ¶ˆè´¹æ¶ˆæ¯çš„å¤„ç†é€Ÿåº¦ä¸ä¸€è‡´çš„æƒ…å†µ</li><li><code>æ¶ˆå³°</code> - åœ¨è®¿é—®é‡å‰§å¢çš„æƒ…å†µä¸‹ï¼Œåº”ç”¨ä»ç„¶éœ€è¦ç»§ç»­å‘æŒ¥ä½œç”¨ï¼Œä½†æ˜¯è¿™æ ·çš„çªå‘æµé‡å¹¶ä¸å¸¸è§ã€‚å¦‚æœä¸ºä»¥èƒ½å¤„ç†è¿™ç±»å³°å€¼è®¿é—®ä¸ºæ ‡å‡†æ¥æŠ•å…¥èµ„æºå¹¶éšæ—¶å¾…å‘½ï¼Œè¿™æ— ç–‘æ˜¯å·¨å¤§çš„æµªè´¹ã€‚ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—<br>èƒ½å¤Ÿä½¿å…³é”®ç»„ä»¶é¡¶ä½çªå‘çš„è®¿é—®å‹åŠ›ï¼Œè€Œä¸ä¼šå› ä¸ºçªå‘çš„è¶…è´Ÿè·çš„è¯·æ±‚è€Œå®Œå…¨å´©æºƒ</li></ul><p><img data-src="../../../asset/2022/08/kafka-2.png"></p><ul><li><code>å¼‚æ­¥é€šä¿¡</code> - å¾ˆå¤šæ—¶å€™ï¼Œç”¨æˆ·ä¸æƒ³ä¹Ÿä¸éœ€è¦ç«‹å³å¤„ç†æ¶ˆæ¯ã€‚æ¶ˆæ¯é˜Ÿåˆ—æä¾›äº†å¼‚æ­¥å¤„ç†æœºåˆ¶ï¼Œå…è®¸ç”¨æˆ·æŠŠä¸€ä¸ªæ¶ˆæ¯æ”¾å…¥é˜Ÿåˆ—ï¼Œä½†å¹¶ä¸ç«‹å³å¤„ç†å®ƒã€‚æƒ³å‘é˜Ÿåˆ—ä¸­æ”¾å…¥å¤šå°‘æ¶ˆæ¯å°±æ”¾å¤šå°‘ï¼Œç„¶ååœ¨éœ€è¦<br>çš„æ—¶å€™å†å»å¤„ç†å®ƒä»¬</li></ul><p><img data-src="../../../asset/2022/08/kafka-3.png"></p><ul><li><code>å¯æ¢å¤æ€§</code> - ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ç»„ä»¶å¤±æ•ˆæ—¶ï¼Œä¸ä¼šå½±å“åˆ°æ•´ä¸ªç³»ç»Ÿã€‚æ¶ˆæ¯é˜Ÿåˆ—é™ä½äº†è¿›ç¨‹é—´çš„è€¦åˆåº¦ï¼Œæ‰€ä»¥å³ä½¿ä¸€ä¸ªå¤„ç†æ¶ˆæ¯çš„è¿›ç¨‹æŒ‚æ‰ï¼ŒåŠ å…¥é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ä»ç„¶å¯ä»¥åœ¨ç³»ç»Ÿæ¢å¤åè¢«å¤„ç†</li></ul><h3 id="æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸¤ç§æ¨¡å¼"><a href="#æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸¤ç§æ¨¡å¼" class="headerlink" title="æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸¤ç§æ¨¡å¼"></a>æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸¤ç§æ¨¡å¼</h3><h4 id="ç‚¹å¯¹ç‚¹æ¨¡å¼"><a href="#ç‚¹å¯¹ç‚¹æ¨¡å¼" class="headerlink" title="ç‚¹å¯¹ç‚¹æ¨¡å¼"></a>ç‚¹å¯¹ç‚¹æ¨¡å¼</h4><p><code>ç‚¹å¯¹ç‚¹æ¨¡å¼</code> å°±æ˜¯ä¸€å¯¹ä¸€ï¼Œæ¶ˆè´¹è€…<strong>ä¸»åŠ¨æ‹‰å–</strong>æ•°æ®ï¼Œæ¶ˆæ¯æ”¶åˆ°åæ¶ˆæ¯ä¼šè¢«æ¸…é™¤ã€‚æ¶ˆæ¯ç”Ÿäº§è€…å°†æ¶ˆæ¯å‘é€åˆ° Queue ä¸­ï¼Œç„¶åæ¶ˆæ¯æ¶ˆè´¹è€…ä» Queue ä¸­å–å‡ºå¹¶æ¶ˆè´¹æ¶ˆæ¯ã€‚æ¶ˆæ¯è¢«æ¶ˆè´¹ä»¥åï¼ŒQueue ä¸­ä¸å†å­˜å‚¨å®ƒï¼Œæ‰€ä»¥æ¶ˆæ¯æ¶ˆè´¹è€…ä¸å¯èƒ½æ¶ˆè´¹åˆ°å·²ç»è¢«æ¶ˆè´¹çš„æ¶ˆæ¯ã€‚Queue æ”¯æŒå­˜åœ¨å¤šä¸ªæ¶ˆè´¹è€…ï¼Œä½†æ˜¯å¯¹ä¸€ä¸ªæ¶ˆæ¯è€Œè¨€ï¼Œåªä¼šæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…å¯ä»¥æ¶ˆè´¹ã€‚</p><p><img data-src="../../../asset/2022/08/kafka-4.png"></p><h4 id="å‘å¸ƒ-è®¢é˜…æ¨¡å¼"><a href="#å‘å¸ƒ-è®¢é˜…æ¨¡å¼" class="headerlink" title="å‘å¸ƒ/è®¢é˜…æ¨¡å¼"></a>å‘å¸ƒ / è®¢é˜…æ¨¡å¼</h4><p><code>å‘å¸ƒ/è®¢é˜…æ¨¡å¼</code> å°±æ˜¯ä¸€å¯¹å¤šï¼Œæ¶ˆæ¯äº§ç”Ÿå<strong>ä¸»åŠ¨æ¨é€</strong>ç»™è®¢é˜…è€…ï¼Œæ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯ä¹‹åä¸ä¼šæ¸…é™¤æ¶ˆæ¯ã€‚æ¶ˆæ¯ç”Ÿäº§è€…ï¼ˆå‘å¸ƒï¼‰å°†æ¶ˆæ¯å‘å¸ƒåˆ° <code>topic</code> ä¸»é¢˜ï¼ˆå¦‚æµè§ˆã€ç‚¹èµã€æ”¶è—ã€è¯„è®ºç­‰ï¼‰ä¸­ï¼ŒåŒæ—¶æœ‰å¤šä¸ªæ¶ˆæ¯æ¶ˆè´¹è€…ï¼ˆè®¢é˜…ï¼‰æ¶ˆè´¹è¯¥æ¶ˆæ¯ã€‚è¿™å’Œç‚¹å¯¹ç‚¹æ¨¡å¼ä¸åŒï¼Œæ¯ä¸ªæ¶ˆè´¹è€…äº’ç›¸ç‹¬ç«‹ï¼Œå‘å¸ƒåˆ° <code>topic</code> çš„æ¶ˆæ¯ä¼šè¢«æ‰€æœ‰è®¢é˜…è€…æ¶ˆè´¹ã€‚</p><p><img data-src="../../../asset/2022/08/kafka-5.png"></p><h2 id="Kafka-è¯¦ç»†ä»‹ç»"><a href="#Kafka-è¯¦ç»†ä»‹ç»" class="headerlink" title="Kafka è¯¦ç»†ä»‹ç»"></a>Kafka è¯¦ç»†ä»‹ç»</h2><p>åœ¨æµå¼è®¡ç®—ä¸­ï¼ŒKafka ä¸€èˆ¬ç”¨äºç¼“å­˜æ•°æ®ï¼ŒStorm é€šè¿‡æ¶ˆè´¹ Kafka çš„æ•°æ®æ¥è¿›è¡Œè®¡ç®—ã€‚</p><ul><li>Apache Kafka æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼Œç”± Scala è¯­è¨€ç¼–å†™ã€‚</li><li>Kafka æœ€åˆç”± LinkedIn å…¬å¸å¼€å‘ï¼Œå¹¶äº 2011 å¹´åˆå¼€æºã€‚2012 å¹´ 10 æœˆä» Apache Incubator æ¯•ä¸šï¼Œè¯¥é¡¹ç›®çš„ç›®æ ‡æ˜¯ä¸ºå¤„ç†å®æ—¶æ•°æ®æä¾›ä¸€ä¸ªç»Ÿä¸€ã€é«˜é€šé‡ã€ä½ç­‰å¾…çš„å¹³å°ã€‚</li><li>Kafka é›†ç¾¤ç”±å¤šä¸ª Kafka å®ä¾‹ï¼ˆ<code>broker</code>ï¼‰ç»„æˆï¼Œæ— è®ºæ˜¯ Kafka é›†ç¾¤ï¼Œè¿˜æ˜¯ Consumer éƒ½ä¾èµ–äº Zookeeper é›†ç¾¤ä¿å­˜ä¸€äº› <code>meta</code> ä¿¡æ¯ï¼Œä»¥æ­¤æ¥ä¿è¯ç³»ç»Ÿçš„é«˜å¯ç”¨æ€§ã€‚</li></ul><h3 id="Kafka-æ¦‚è¿°"><a href="#Kafka-æ¦‚è¿°" class="headerlink" title="Kafka æ¦‚è¿°"></a>Kafka æ¦‚è¿°</h3><ul><li>ä¼ ç»Ÿå®šä¹‰ï¼šKafka æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„åŸºäºå‘å¸ƒ / è®¢é˜…æ¨¡å¼çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼‰ï¼Œä¸»è¦åº”ç”¨äºå¤§æ•°æ®å®æ—¶å¤„ç†é¢†åŸŸã€‚</li><li>æœ€æ–°å®šä¹‰ï¼šKafka æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼äº‹ä»¶æµå¹³å°ï¼ˆEventStreaming Platformï¼‰ï¼Œè¢«æ•°åƒå®¶å…¬å¸ç”¨äºé«˜æ€§èƒ½æ•°æ®ç®¡é“ã€æµåˆ†æã€æ•°æ®é›†æˆå’Œå…³é”®ä»»åŠ¡åº”ç”¨ã€‚</li></ul><h3 id="Kafka-åŸºç¡€æ¶æ„"><a href="#Kafka-åŸºç¡€æ¶æ„" class="headerlink" title="Kafka åŸºç¡€æ¶æ„"></a>Kafka åŸºç¡€æ¶æ„</h3><p><img data-src="../../../asset/2022/08/kafka-6.png"></p><ul><li><code>Producer</code>ï¼šæ¶ˆæ¯ç”Ÿäº§è€…ï¼Œå°±æ˜¯å‘ Kafka Broker å‘æ¶ˆæ¯çš„å®¢æˆ·ç«¯ã€‚</li><li><code>Consumer</code>ï¼šæ¶ˆæ¯æ¶ˆè´¹è€…ï¼Œå°±æ˜¯å‘ Kafka Broker å–æ¶ˆæ¯çš„å®¢æˆ·ç«¯ã€‚</li><li><code>Consumer Group (CG)</code>ï¼šæ¶ˆè´¹è€…ç»„ï¼Œç”±å¤šä¸ª <code>consumer</code> ç»„æˆã€‚<strong>æ¶ˆè´¹è€…ç»„å†…æ¯ä¸ªæ¶ˆè´¹è€…è´Ÿè´£æ¶ˆè´¹ä¸åŒåˆ†åŒºçš„æ•°æ®ï¼Œä¸€ä¸ªåˆ†åŒºåªèƒ½ç”±ä¸€ä¸ªç»„å†…æ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œæ¶ˆè´¹è€…ç»„ä¹‹é—´äº’ä¸å½±å“ã€‚æ‰€æœ‰çš„æ¶ˆè´¹è€…éƒ½å±äºæŸä¸ªæ¶ˆè´¹è€…ç»„ï¼Œå³æ¶ˆè´¹è€…ç»„æ˜¯é€»è¾‘ä¸Šçš„ä¸€ä¸ªè®¢é˜…è€…ã€‚</strong></li><li><code>Broker</code>ï¼šä¸€å° Kafka æœåŠ¡å™¨å°±æ˜¯ä¸€ä¸ª <code>broker</code>ã€‚ä¸€ä¸ª Kafka é›†ç¾¤ç”±å¤šä¸ª <code>broker</code> ç»„æˆã€‚ä¸€ä¸ª <code>broker</code> å¯ä»¥å®¹çº³å¤šä¸ª <code>topic</code>ã€‚</li><li><code>Topic</code>ï¼šä¸»é¢˜ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªé˜Ÿåˆ—ï¼Œ<strong>ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…é¢å‘çš„éƒ½æ˜¯ä¸€ä¸ª <code>topic</code>ã€‚</strong></li><li><code>Partition</code>ï¼šåˆ†åŒºï¼Œä¸ºäº†å®ç°æ‰©å±•æ€§ï¼Œä¸€ä¸ªéå¸¸å¤§çš„ <code>topic</code> å¯ä»¥åˆ†å¸ƒåˆ°å¤šä¸ª <code>broker</code>ï¼ˆå³ Kafka æœåŠ¡å™¨ï¼‰ä¸Šï¼Œ<strong>ä¸€ä¸ª <code>topic</code> å¯ä»¥åˆ†ä¸ºå¤šä¸ª <code>partition</code>ï¼Œæ¯ä¸ª <code>partition</code> æ˜¯ä¸€ä¸ªæœ‰åºçš„é˜Ÿåˆ—ã€‚</strong></li><li><code>Replica</code>ï¼šå‰¯æœ¬ï¼Œä¸ºä¿è¯é›†ç¾¤ä¸­çš„æŸä¸ªèŠ‚ç‚¹å‘ç”Ÿæ•…éšœæ—¶ï¼Œè¯¥èŠ‚ç‚¹ä¸Šçš„ <code>partition</code> æ•°æ®ä¸ä¸¢å¤±ï¼Œä¸”è®© Kafka ä»ç„¶èƒ½å¤Ÿç»§ç»­å·¥ä½œï¼ŒKafka ä¸ºæ­¤æä¾›äº†å‰¯æœ¬æœºåˆ¶ã€‚ä¸€ä¸ª <code>topic</code> çš„æ¯ä¸ªåˆ†åŒºéƒ½æœ‰è‹¥å¹²ä¸ªå‰¯æœ¬ï¼ŒåŒ…æ‹¬ä¸€ä¸ª <code>leader</code> å’Œè‹¥å¹²ä¸ª <code>follower</code>ã€‚</li><li><code>Leader</code>ï¼šæ¯ä¸ªåˆ†åŒºå¤šä¸ªå‰¯æœ¬çš„ <code>ä¸»</code>ï¼Œç”Ÿäº§è€…å‘é€æ•°æ®çš„å¯¹è±¡ï¼Œä»¥åŠæ¶ˆè´¹è€…æ¶ˆè´¹æ•°æ®çš„å¯¹è±¡éƒ½æ˜¯ <code>leader</code>ã€‚</li><li><code>Follower</code>ï¼šæ¯ä¸ªåˆ†åŒºå¤šä¸ªå‰¯æœ¬çš„ <code>ä»</code>ï¼Œå®æ—¶ä» <code>leader</code> ä¸­åŒæ­¥æ•°æ®ï¼Œä¿æŒå’Œ <code>leader</code> æ•°æ®çš„åŒæ­¥ã€‚<code>leader</code> å‘ç”Ÿæ•…éšœæ—¶ï¼ŒæŸä¸ª <code>follower</code> ä¼šæˆä¸ºæ–°çš„ <code>leader</code>ã€‚</li></ul><h3 id="Kafka-ä¼ä¸šæ¡ˆä¾‹"><a href="#Kafka-ä¼ä¸šæ¡ˆä¾‹" class="headerlink" title="Kafka ä¼ä¸šæ¡ˆä¾‹"></a>Kafka ä¼ä¸šæ¡ˆä¾‹</h3><p><img data-src="../../../asset/2022/08/kafka-7.png"></p><h2 id="Kafka-é›†ç¾¤æ­å»º"><a href="#Kafka-é›†ç¾¤æ­å»º" class="headerlink" title="Kafka é›†ç¾¤æ­å»º"></a>Kafka é›†ç¾¤æ­å»º</h2><h3 id="å•æœºæ­å»º-Kafka-é›†ç¾¤"><a href="#å•æœºæ­å»º-Kafka-é›†ç¾¤" class="headerlink" title="å•æœºæ­å»º Kafka é›†ç¾¤"></a>å•æœºæ­å»º Kafka é›†ç¾¤</h3><ul><li><a href="/posts/124a5015.html">Linux å•æœºæ­å»º Kafka é›†ç¾¤</a></li></ul><h3 id="ç”Ÿäº§ç¯å¢ƒæ­å»º-Kafka-é›†ç¾¤"><a href="#ç”Ÿäº§ç¯å¢ƒæ­å»º-Kafka-é›†ç¾¤" class="headerlink" title="ç”Ÿäº§ç¯å¢ƒæ­å»º Kafka é›†ç¾¤"></a>ç”Ÿäº§ç¯å¢ƒæ­å»º Kafka é›†ç¾¤</h3><ul><li><a href="/posts/6dceb9c9.html">Linux ç”Ÿäº§ç¯å¢ƒæ­å»º Kafka é›†ç¾¤</a></li></ul><h2 id="Kafka-å¸¸ç”¨å‘½ä»¤"><a href="#Kafka-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="Kafka å¸¸ç”¨å‘½ä»¤"></a>Kafka å¸¸ç”¨å‘½ä»¤</h2><h3 id="Topic-å‘½ä»¤"><a href="#Topic-å‘½ä»¤" class="headerlink" title="Topic å‘½ä»¤"></a>Topic å‘½ä»¤</h3><h4 id="å‘½ä»¤å‚æ•°"><a href="#å‘½ä»¤å‚æ•°" class="headerlink" title="å‘½ä»¤å‚æ•°"></a>å‘½ä»¤å‚æ•°</h4><p><img data-src="../../../asset/2022/08/kafka-topic-params.png"></p><!-- more --><h4 id="ä½¿ç”¨æ¡ˆä¾‹"><a href="#ä½¿ç”¨æ¡ˆä¾‹" class="headerlink" title="ä½¿ç”¨æ¡ˆä¾‹"></a>ä½¿ç”¨æ¡ˆä¾‹</h4><ul><li>åˆ›å»ºä¸»é¢˜ï¼šåˆ›å»ºåç§°ä¸º <code>test</code>ã€åˆ†åŒºæ•°é‡ä¸º <code>1</code> å’Œ åˆ†åŒºå‰¯æœ¬æ•°é‡ä¸º <code>3</code> çš„ä¸»é¢˜ </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ./kafka-topics.sh --create --bootstrap-server 127.0.0.1:9092 --topic test --partitions 1 --replication-factor 3</span></span><br></pre></td></tr></tbody></table></figure><ul><li>æŸ¥çœ‹ä¸»é¢˜åˆ—è¡¨ </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ./kafka-topics.sh --list --bootstrap-server 127.0.0.1:9092</span></span><br></pre></td></tr></tbody></table></figure><ul><li>æŸ¥çœ‹ä¸»é¢˜è¯¦æƒ…ï¼šæŸ¥çœ‹ <code>test</code> ä¸»é¢˜çš„è¯¦ç»†ä¿¡æ¯ï¼ˆä¾‹å¦‚åˆ†åŒºæ•°é‡ã€åˆ†åŒºå‰¯æœ¬æ•°é‡ç­‰ï¼‰</li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ./kafka-topics.sh --describe --bootstrap-server 127.0.0.1:9092 --topic test</span></span><br></pre></td></tr></tbody></table></figure><ul><li>æ›´æ”¹ä¸»é¢˜çš„åˆ†åŒºæ•°é‡ï¼šæ›´æ”¹ <code>test</code> ä¸»é¢˜çš„åˆ†åŒºæ•°é‡ä¸º <code>3</code></li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ./kafka-topics.sh --alter --bootstrap-server 127.0.0.1:9092 --topic test --partitions 3</span></span><br></pre></td></tr></tbody></table></figure><div class="admonition warning"><p class="admonition-title">ç‰¹åˆ«æ³¨æ„</p><ol><li>Kafka ä¸æ”¯æŒæ›´æ”¹ä¸»é¢˜çš„åˆ†åŒºå‰¯æœ¬æ•°é‡</li><li>æ›´æ”¹ä¸»é¢˜çš„åˆ†åŒºæ•°é‡æ—¶ï¼Œåªèƒ½å¢åŠ ï¼Œä¸èƒ½å‡å°‘</li></ol></div><ul><li>åˆ é™¤ä¸»é¢˜ï¼šåˆ é™¤ <code>test</code> ä¸»é¢˜ </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ./kafka-topics.sh --delete --bootstrap-server 127.0.0.1:9092 --topic test</span></span><br></pre></td></tr></tbody></table></figure><h3 id="Consumer-å‘½ä»¤"><a href="#Consumer-å‘½ä»¤" class="headerlink" title="Consumer å‘½ä»¤"></a>Consumer å‘½ä»¤</h3><h4 id="å‘½ä»¤å‚æ•°-1"><a href="#å‘½ä»¤å‚æ•°-1" class="headerlink" title="å‘½ä»¤å‚æ•°"></a>å‘½ä»¤å‚æ•°</h4><p><img data-src="../../../asset/2022/08/kafka-consumer-params.png"></p><h4 id="ä½¿ç”¨æ¡ˆä¾‹-1"><a href="#ä½¿ç”¨æ¡ˆä¾‹-1" class="headerlink" title="ä½¿ç”¨æ¡ˆä¾‹"></a>ä½¿ç”¨æ¡ˆä¾‹</h4><ul><li>æ¶ˆè´¹ <code>test</code> ä¸»é¢˜ä¸­çš„æ•°æ®ï¼ˆå¢é‡æ¶ˆè´¹ï¼‰</li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ./kafka-console-consumer.sh --bootstrap-server 127.0.0.1:9092 --topic test</span></span><br></pre></td></tr></tbody></table></figure><ul><li>æ¶ˆè´¹ <code>test</code> ä¸»é¢˜ä¸­çš„æ‰€æœ‰æ•°æ®ï¼ˆåŒ…æ‹¬å†å²æ•°æ®ï¼‰</li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ./kafka-console-consumer.sh --bootstrap-server 127.0.0.1:9092 --topic test --from-beginning</span></span><br></pre></td></tr></tbody></table></figure><h3 id="Producer-å‘½ä»¤"><a href="#Producer-å‘½ä»¤" class="headerlink" title="Producer å‘½ä»¤"></a>Producer å‘½ä»¤</h3><h4 id="å‘½ä»¤å‚æ•°-2"><a href="#å‘½ä»¤å‚æ•°-2" class="headerlink" title="å‘½ä»¤å‚æ•°"></a>å‘½ä»¤å‚æ•°</h4><p><img data-src="../../../asset/2022/08/kafka-consumer-params.png"></p><h4 id="ä½¿ç”¨æ¡ˆä¾‹-2"><a href="#ä½¿ç”¨æ¡ˆä¾‹-2" class="headerlink" title="ä½¿ç”¨æ¡ˆä¾‹"></a>ä½¿ç”¨æ¡ˆä¾‹</h4><ul><li>ç”Ÿäº§æ¶ˆæ¯ï¼šå¾€ <code>test</code> ä¸»é¢˜å‘é€æ¶ˆæ¯ </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ./kafka-console-producer.sh --broker-list 127.0.0.1:9092 --topic test</span></span><br></pre></td></tr></tbody></table></figure></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {try {var plugin = new ReadmorePlugin();plugin.init({"id": "readmore-container","blogId": "96641-5333172926158-056","name": "å…¨æ ˆæŠ€æœ¯é©¿ç«™","qrcode": "https://www.techgrow.cn/img/wx_mp_qr.png","keyword": "Tech","lockToc": "yes","type": "hexo","random": "0.9","interval": "30","expires": "365","height": "auto"});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦ä»‹ç» Kafka çš„ä½¿ç”¨æ•™ç¨‹ï¼ŒåŒ…æ‹¬ Kafka çš„æ¦‚è¿°ã€é›†ç¾¤æ­å»ºã€å¸¸ç”¨å‘½ä»¤ç­‰å†…å®¹ã€‚</summary>
    
    
    
    
    <category term="åˆ†å¸ƒå¼" scheme="https://www.techgrow.cn/tags/%E5%88%86%E5%B8%83%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Linux ç”Ÿäº§ç¯å¢ƒæ­å»º Kafka é›†ç¾¤</title>
    <link href="https://www.techgrow.cn/posts/6dceb9c9.html"/>
    <id>https://www.techgrow.cn/posts/6dceb9c9.html</id>
    <published>2022-08-12T14:13:45.000Z</published>
    <updated>2022-08-12T14:13:45.000Z</updated>
    
    <content type="html"><![CDATA[<div id="readmore-container"><!-- toc --><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ¬æ–‡é€‚ç”¨äºåœ¨ Centos/Debian/Ubuntu ç­‰ Linux å‘è¡Œç‰ˆç³»ç»Ÿä¸Šï¼Œä½¿ç”¨å¤šå°ç‰©ç†æœºå™¨ï¼ˆè‡³å°‘ä¸‰å°ï¼‰æ­å»º Kafka é›†ç¾¤ã€‚</p><h2 id="Zookeeper-é›†ç¾¤æ­å»º"><a href="#Zookeeper-é›†ç¾¤æ­å»º" class="headerlink" title="Zookeeper é›†ç¾¤æ­å»º"></a>Zookeeper é›†ç¾¤æ­å»º</h2><p>æœ¬æ–‡çš„ Kafka é›†ç¾¤æ­å»ºä¾èµ–äº Zookeeperï¼Œå› æ­¤ç”Ÿäº§ç¯å¢ƒéœ€è¦å°† Zookeeper é›†ç¾¤æå‰æ­å»ºèµ·æ¥ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œä» Kafka <code>2.8.0</code> ç‰ˆæœ¬å¼€å§‹ï¼ŒKafka è‡ªèº«å®ç°äº† <code>Raft</code> åˆ†å¸ƒå¼ä¸€è‡´æ€§æœºåˆ¶ï¼Œè¿™æ„å‘³ç€ Kafka æ˜¯å¯ä»¥è„±ç¦» ZooKeeper ç‹¬ç«‹è¿è¡Œçš„ã€‚</p><h3 id="é›†ç¾¤è§„åˆ’"><a href="#é›†ç¾¤è§„åˆ’" class="headerlink" title="é›†ç¾¤è§„åˆ’"></a>é›†ç¾¤è§„åˆ’</h3><table><thead><tr><th>èŠ‚ç‚¹</th><th> IP åœ°å€</th><th>ç«¯å£</th><th>ç‰ˆæœ¬å·</th></tr></thead><tbody><tr><td> Zookeeper èŠ‚ç‚¹ 1</td><td>192.168.1.1</td><td>2181</td><td>3.4.10</td></tr><tr><td>Zookeeper èŠ‚ç‚¹ 2</td><td>192.168.1.2</td><td>2181</td><td>3.4.10</td></tr><tr><td>Zookeeper èŠ‚ç‚¹ 3</td><td>192.168.1.3</td><td>2181</td><td>3.4.10</td></tr></tbody></table><span id="more"></span><h3 id="é›†ç¾¤éƒ¨ç½²"><a href="#é›†ç¾¤éƒ¨ç½²" class="headerlink" title="é›†ç¾¤éƒ¨ç½²"></a>é›†ç¾¤éƒ¨ç½²</h3><p>ç”±äºç¯‡å¹…æœ‰é™ï¼ŒLinux ç”Ÿäº§ç¯å¢ƒæ­å»º Zookeeper é›†ç¾¤çš„å†…å®¹è¿™é‡Œä¸å†ç´¯è¿°ï¼Œè¯¦ç»†æ•™ç¨‹å¯çœ‹ <a href="/posts/8ed765da.html">è¿™é‡Œ</a>ã€‚</p><h2 id="Kafka-é›†ç¾¤æ­å»º"><a href="#Kafka-é›†ç¾¤æ­å»º" class="headerlink" title="Kafka é›†ç¾¤æ­å»º"></a>Kafka é›†ç¾¤æ­å»º</h2><h3 id="é›†ç¾¤è§„åˆ’-1"><a href="#é›†ç¾¤è§„åˆ’-1" class="headerlink" title="é›†ç¾¤è§„åˆ’"></a>é›†ç¾¤è§„åˆ’</h3><table><thead><tr><th>èŠ‚ç‚¹</th><th> IP åœ°å€</th><th>ç«¯å£</th><th>ç‰ˆæœ¬å·</th></tr></thead><tbody><tr><td> Kafka èŠ‚ç‚¹ 1</td><td>192.168.1.1</td><td>9092</td><td>2.13-3.2.1</td></tr><tr><td>Kafka èŠ‚ç‚¹ 2</td><td>192.168.1.2</td><td>9092</td><td>2.13-3.2.1</td></tr><tr><td>Kafka èŠ‚ç‚¹ 3</td><td>192.168.1.3</td><td>9092</td><td>2.13-3.2.1</td></tr></tbody></table><h3 id="é›†ç¾¤æ­å»º"><a href="#é›†ç¾¤æ­å»º" class="headerlink" title="é›†ç¾¤æ­å»º"></a>é›†ç¾¤æ­å»º</h3><ul><li>Kafka ä¸‹è½½</li></ul><blockquote><ol><li> Kafka çš„å®‰è£…åŒ…å¯ä»¥ä» <a href="https://kafka.apache.org/downloads.html">å®˜ç½‘</a> ä¸‹è½½ã€‚</li><li>ä»¥ä¸‹è½½å¾—åˆ°çš„å‹ç¼©æ–‡ä»¶ <code>kafka_2.13-3.2.1.tgz</code> ä¸ºä¾‹ï¼Œ<code>2.11</code> æ˜¯ Scala çš„ç‰ˆæœ¬å·ï¼Œ<code>3.2.1</code> æ˜¯ Kafka çš„ç‰ˆæœ¬å·ã€‚</li></ol></blockquote><ul><li>Kafka å®‰è£… </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºå®‰è£…ç›®å½•</span></span><br><span class="line"><span class="comment"># mkdir -p /usr/local/kafka-cluster</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥å®‰è£…ç›®å½•</span></span><br><span class="line"><span class="comment"># cd /usr/local/kafka-cluster</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‹è½½æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># wget https://downloads.apache.org/kafka/3.2.1/kafka_2.13-3.2.1.tgz</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£å‹æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># tar -xvf kafka_2.13-3.2.1.tgz</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å‘½åç›®å½•</span></span><br><span class="line"><span class="comment"># mv kafka_2.13-3.2.1 kafka-node1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># rm -rf kafka_2.13-3.2.1.tgz</span></span><br></pre></td></tr></tbody></table></figure><ul><li>Kafka åŸºç¡€é…ç½® </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥å®‰è£…ç›®å½•</span></span><br><span class="line"><span class="comment"># cd /usr/local/kafka-cluster/kafka-node1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ—¥å¿—ç›®å½•ï¼ˆæ•°æ®å­˜å‚¨ç›®å½•ï¼‰</span></span><br><span class="line"><span class="comment"># mkdir logs</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼ˆæŒ‡å®šä»¥ä¸‹å†…å®¹å³å¯ï¼‰</span></span><br><span class="line"><span class="comment"># vim config/server.properties</span></span><br></pre></td></tr></tbody></table></figure><p>æœ€å…³é”®çš„é…ç½®å†…å®¹æ˜¯ <code>broker.id</code>ã€<code>log.dirs</code>ã€<code>zookeeper.connect</code>ï¼Œå…¶ä¸­çš„ <code>zookeeper.connect</code> æ˜¯ Zookeeper è¿æ¥åœ°å€ï¼Œå»ºè®®ä½¿ç”¨ <code>/kafka</code> ä½œä¸ºåç¼€ï¼Œè¿™æ ·æ–¹ä¾¿æ—¥ååœ¨ Zookeeper é‡Œç»Ÿä¸€ç®¡ç† Kafka çš„æ•°æ®ã€‚</p><figure class="highlight properties"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># broker çš„å…¨å±€å”¯ä¸€ç¼–å·,ä¸èƒ½é‡å¤</span></span><br><span class="line"><span class="meta">broker.id</span>=<span class="string">1</span></span><br><span class="line"><span class="comment"># å¤„ç†ç½‘ç»œè¯·æ±‚çš„çº¿ç¨‹æ•°é‡</span></span><br><span class="line"><span class="meta">num.network.threads</span>=<span class="string">3</span></span><br><span class="line"><span class="comment"># ç”¨æ¥å¤„ç†ç£ç›˜ IO çš„ç°æˆæ•°é‡</span></span><br><span class="line"><span class="meta">num.io.threads</span>=<span class="string">8</span></span><br><span class="line"><span class="comment"># å‘é€å¥—æ¥å­—çš„ç¼“å†²åŒºå¤§å°</span></span><br><span class="line"><span class="meta">socket.send.buffer.bytes</span>=<span class="string">102400</span></span><br><span class="line"><span class="comment"># æ¥æ”¶å¥—æ¥å­—çš„ç¼“å†²åŒºå¤§å°</span></span><br><span class="line"><span class="meta">socket.receive.buffer.bytes</span>=<span class="string">102400</span></span><br><span class="line"><span class="comment"># è¯·æ±‚å¥—æ¥å­—çš„ç¼“å†²åŒºå¤§å°</span></span><br><span class="line"><span class="meta">socket.request.max.bytes</span>=<span class="string">104857600</span></span><br><span class="line"><span class="comment"># è¿è¡Œæ—¥å¿—å­˜æ”¾çš„è·¯å¾„</span></span><br><span class="line"><span class="meta">log.dirs</span>=<span class="string">/usr/local/kafka-cluster/kafka-node1/logs</span></span><br><span class="line"><span class="comment"># topic åœ¨å½“å‰ broker ä¸Šçš„åˆ†åŒºä¸ªæ•°</span></span><br><span class="line"><span class="meta">num.partitions</span>=<span class="string">1</span></span><br><span class="line"><span class="comment"># ç”¨æ¥æ¢å¤å’Œæ¸…ç† data ä¸‹æ•°æ®çš„çº¿ç¨‹æ•°é‡</span></span><br><span class="line"><span class="meta">num.recovery.threads.per.data.dir</span>=<span class="string">1</span></span><br><span class="line"><span class="comment"># æ¯ä¸ª topic åˆ›å»ºæ—¶çš„å‰¯æœ¬æ•°,é»˜è®¤æ—¶ 1 ä¸ªå‰¯æœ¬</span></span><br><span class="line"><span class="meta">offsets.topic.replication.factor</span>=<span class="string">1</span></span><br><span class="line"><span class="comment"># æ¯ä¸ª segment æ–‡ä»¶ä¿ç•™çš„æœ€é•¿æ—¶é—´,è¶…æ—¶å°†è¢«åˆ é™¤</span></span><br><span class="line"><span class="meta">log.retention.hours</span>=<span class="string">168</span></span><br><span class="line"><span class="comment"># æ¯ä¸ª segment æ–‡ä»¶çš„å¤§å°,é»˜è®¤æœ€å¤§ 1G</span></span><br><span class="line"><span class="meta">log.segment.bytes</span>=<span class="string">1073741824</span></span><br><span class="line"><span class="comment"># æ£€æŸ¥è¿‡æœŸæ•°æ®çš„æ—¶é—´,é»˜è®¤ 5 åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡æ˜¯å¦æ•°æ®è¿‡æœŸ</span></span><br><span class="line"><span class="meta">log.retention.check.interval.ms</span>=<span class="string">300000</span></span><br><span class="line"><span class="comment"># é…ç½®è¿æ¥ Zookeeper é›†ç¾¤åœ°å€</span></span><br><span class="line"><span class="meta">zookeeper.connect</span>=<span class="string">192.168.1.1:2181,192.168.1.2:2181,192.168.1.3:2181/kafka</span></span><br></pre></td></tr></tbody></table></figure><ul><li>Kafka åˆ›å»ºå¤šä¸ªèŠ‚ç‚¹</li></ul><p>å¤åˆ¶ä¸¤ä»½ä¸Šé¢å·²ç»é…ç½®å¥½çš„ Kafka å®‰è£…ç›®å½•åˆ°å…¶ä»–æœåŠ¡å™¨èŠ‚ç‚¹ä¸Šï¼Œä»¥æ­¤ä½œä¸ºé›†ç¾¤ä¸­å¦å¤–ä¸¤ä¸ªèŠ‚ç‚¹çš„å®‰è£…æ–‡ä»¶ï¼Œä¾‹å¦‚ <code>kafka-node2</code>ã€<code>kafka-node3</code>ã€‚å®‰è£…ç›®å½•å¤åˆ¶å®Œæˆåï¼Œè¿˜éœ€è¦æ›´æ”¹æ¯ä¸ªæ–°èŠ‚ç‚¹é‡Œçš„ <code>server.properties</code> é…ç½®æ–‡ä»¶çš„ <code>broker.id</code>ã€<code>log.dirs</code>ã€‚èŠ‚ç‚¹äºŒå’ŒèŠ‚ç‚¹ä¸‰çš„æœ€ç»ˆé…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># èŠ‚ç‚¹äºŒçš„é…ç½®</span><br><span class="line">broker.id=2</span><br><span class="line">log.dirs=/usr/local/kafka-cluster/kafka-node2/logs</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># èŠ‚ç‚¹ä¸‰çš„é…ç½®</span><br><span class="line">broker.id=3</span><br><span class="line">log.dirs=/usr/local/kafka-cluster/kafka-node3/logs</span><br></pre></td></tr></tbody></table></figure><h3 id="é›†ç¾¤ç®¡ç†"><a href="#é›†ç¾¤ç®¡ç†" class="headerlink" title="é›†ç¾¤ç®¡ç†"></a>é›†ç¾¤ç®¡ç†</h3><ul><li>é›†ç¾¤å¯åŠ¨</li></ul><div class="admonition warning"><p class="admonition-title">æ³¨æ„</p><p>å¯åŠ¨ Kafka é›†ç¾¤ä¹‹å‰ï¼Œå¿…é¡»ç¡®ä¿ Zookeeper é›†ç¾¤å·²ç»å¯åŠ¨æˆåŠŸï¼Œè¿™æ˜¯å› ä¸ºæœ¬æ–‡æ­å»ºçš„ Kafka é›†ç¾¤ä¾èµ–äº Zookeeper é›†ç¾¤ã€‚</p></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åå°å¯åŠ¨</span></span><br><span class="line"><span class="comment"># /usr/local/kafka-cluster/kafka-node1/bin/kafka-server-start.sh -daemon /usr/local/kafka-cluster/kafka-node1/config/server.properties</span></span><br><span class="line"><span class="comment"># /usr/local/kafka-cluster/kafka-node2/bin/kafka-server-start.sh -daemon /usr/local/kafka-cluster/kafka-node2/config/server.properties</span></span><br><span class="line"><span class="comment"># /usr/local/kafka-cluster/kafka-node3/bin/kafka-server-start.sh -daemon /usr/local/kafka-cluster/kafka-node3/config/server.properties</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–è€…å‰å°å¯åŠ¨ï¼ˆå¯ç›´æ¥æŸ¥çœ‹å¯åŠ¨æ—¶è¾“å‡ºçš„æ—¥å¿—ä¿¡æ¯ï¼‰</span></span><br><span class="line"><span class="comment"># /usr/local/kafka-cluster/kafka-node1/bin/kafka-server-start.sh /usr/local/kafka-cluster/kafka-node1/config/server.properties</span></span><br><span class="line"><span class="comment"># /usr/local/kafka-cluster/kafka-node2/bin/kafka-server-start.sh /usr/local/kafka-cluster/kafka-node2/config/server.properties</span></span><br><span class="line"><span class="comment"># /usr/local/kafka-cluster/kafka-node3/bin/kafka-server-start.sh /usr/local/kafka-cluster/kafka-node3/config/server.properties</span></span><br></pre></td></tr></tbody></table></figure><ul><li>æŸ¥çœ‹çŠ¶æ€</li></ul><p>é›†ç¾¤å¯åŠ¨åï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹é›†ç¾¤çš„è¿è¡ŒçŠ¶æ€ã€‚å¦‚æœå‘ç°é›†ç¾¤å¯åŠ¨å¤±è´¥ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å‰å°çš„æ–¹å¼å†æ¬¡å¯åŠ¨é›†ç¾¤ï¼Œç„¶åæ ¹æ®ç»ˆç«¯è¾“å‡ºçš„é”™è¯¯æ—¥å¿—ä¿¡æ¯æ¥å®šä½é—®é¢˜ã€‚</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µ</span></span><br><span class="line"><span class="comment"># netstat -nplt | grep 9092</span></span><br><span class="line"><span class="comment"># netstat -nplt | grep 9093</span></span><br><span class="line"><span class="comment"># netstat -nplt | grep 9094</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹Kafkaè¿›ç¨‹</span></span><br><span class="line"><span class="comment"># ps -aux | grep kafka</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹Javaè¿›ç¨‹</span></span><br><span class="line"><span class="comment"># jps -l</span></span><br></pre></td></tr></tbody></table></figure><ul><li>é›†ç¾¤å…³é—­</li></ul><div class="admonition warning"><p class="admonition-title">æ³¨æ„</p><p>å…³é—­ Kafka é›†ç¾¤æ—¶ï¼Œä¸€å®šè¦ç­‰ Kafka æ‰€æœ‰èŠ‚ç‚¹è¿›ç¨‹å…¨éƒ¨å…³é—­åå†å…³é—­ Zookeeper é›†ç¾¤ã€‚å› ä¸º Zookeeper é›†ç¾¤å½“ä¸­è®°å½•ç€ Kafka é›†ç¾¤çš„ç›¸å…³ä¿¡æ¯ï¼ŒZookeeper é›†ç¾¤ä¸€æ—¦å…ˆå…³é—­ï¼ŒKafka é›†ç¾¤å°±æ²¡æœ‰åŠæ³•å†è·å–å…³é—­è¿›ç¨‹çš„ä¿¡æ¯ï¼Œæ­¤æ—¶åªèƒ½æ‰‹åŠ¨å¼ºåˆ¶æ€æ­» Kafka è¿›ç¨‹ã€‚</p></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /usr/local/kafka-cluster/kafka-node1/bin/kafka-server-stop.sh stop</span></span><br><span class="line"><span class="comment"># /usr/local/kafka-cluster/kafka-node2/bin/kafka-server-stop.sh stop</span></span><br><span class="line"><span class="comment"># /usr/local/kafka-cluster/kafka-node3/bin/kafka-server-stop.sh stop</span></span><br></pre></td></tr></tbody></table></figure><ul><li>æ¸…ç©ºæ•°æ®</li></ul><p>è‹¥å¸Œæœ›æ¸…ç©º Kafka é›†ç¾¤çš„æ•°æ®ï¼Œåˆ™å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œã€‚<strong>æ¸…ç©ºæ•°æ®çš„æ“ä½œä¸å¯æ¢å¤ï¼Œç”Ÿäº§ç¯å¢ƒä¸‹æ…ç”¨ã€‚</strong></p><blockquote><p>ç¬¬ä¸€æ­¥ï¼šå…³é—­ Kafka é›†ç¾¤<br>ç¬¬äºŒæ­¥ï¼šè¿æ¥ Zookeeper é›†ç¾¤ï¼Œç„¶ååˆ é™¤ <code>/kafka</code> ç›®å½•<br>ç¬¬ä¸‰æ­¥ï¼šåˆ é™¤ Kafka å„ä¸ªé›†ç¾¤èŠ‚ç‚¹çš„å®‰è£…ç›®å½•ä¸‹çš„ <code>logs</code> ç›®å½•ï¼ˆæ–‡ä»¶å¤¹ï¼‰<br>ç¬¬å››æ­¥ï¼šé‡å¯ Kafka é›†ç¾¤</p></blockquote><h3 id="é›†ç¾¤æµ‹è¯•"><a href="#é›†ç¾¤æµ‹è¯•" class="headerlink" title="é›†ç¾¤æµ‹è¯•"></a>é›†ç¾¤æµ‹è¯•</h3><ul><li>è¿›å…¥ä»»æ„èŠ‚ç‚¹çš„å®‰è£…ç›®å½•ä¸‹çš„ <code>bin</code> ç›®å½• </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥å®‰è£…ç›®å½•</span></span><br><span class="line"><span class="comment"># cd /usr/local/kafka-cluster/kafka-node1/bin</span></span><br></pre></td></tr></tbody></table></figure><ul><li>åˆ›å»ºä¸»é¢˜ </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºä¸»é¢˜</span></span><br><span class="line"><span class="comment"># ./kafka-topics.sh --create --bootstrap-server 192.168.1.1:9092 --replication-factor 3 --partitions 1 --topic test</span></span><br></pre></td></tr></tbody></table></figure><ul><li>æŸ¥çœ‹ä¸»é¢˜åˆ—è¡¨ </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ä¸»é¢˜åˆ—è¡¨</span></span><br><span class="line"><span class="comment"># ./kafka-topics.sh --list --bootstrap-server 192.168.1.1:9092</span></span><br></pre></td></tr></tbody></table></figure><ul><li>æŸ¥çœ‹ä¸»é¢˜è¯¦ç»†ä¿¡æ¯ </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ä¸»é¢˜è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># ./kafka-topics.sh --bootstrap-server 192.168.1.1:9092 --topic test --describe</span></span><br></pre></td></tr></tbody></table></figure><ul><li>å¯åŠ¨æ§åˆ¶å°æ¶ˆè´¹è€… </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨æ¶ˆè´¹è€…</span></span><br><span class="line"><span class="comment"># ./kafka-console-consumer.sh --bootstrap-server 192.168.1.1:9092 --topic test --from-beginning</span></span><br></pre></td></tr></tbody></table></figure><ul><li>å¯åŠ¨æ§åˆ¶å°ç”Ÿäº§è€… </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨ç”Ÿäº§è€…</span></span><br><span class="line"><span class="comment"># ./kafka-console-producer.sh --broker-list 192.168.1.1:9092 --topic test</span></span><br></pre></td></tr></tbody></table></figure><p>ç”Ÿäº§è€…æ­£å¸¸å¯åŠ¨åï¼Œåœ¨ç”Ÿäº§è€…çš„æ§åˆ¶å°æ‰‹åŠ¨è¾“å…¥ <code>hello kafka</code>ï¼Œæ¶ˆè´¹è€…çš„æ§åˆ¶å°å°±å¯ä»¥æ¶ˆè´¹åˆ°ç”Ÿäº§è€…çš„æ¶ˆæ¯ï¼Œå¹¶è¾“å‡º <code>hello kafka</code>ï¼Œè¿™è¡¨ç¤ºæ¶ˆè´¹è€…æˆåŠŸæ¶ˆè´¹äº†ç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯ï¼</p><h2 id="Kafka-æ›´æ”¹ç«¯å£ï¼ˆå¯é€‰ï¼‰"><a href="#Kafka-æ›´æ”¹ç«¯å£ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="Kafka æ›´æ”¹ç«¯å£ï¼ˆå¯é€‰ï¼‰"></a>Kafka æ›´æ”¹ç«¯å£ï¼ˆå¯é€‰ï¼‰</h2><p>è‹¥å¸Œæœ›æ›´æ”¹ Kafka çš„é»˜è®¤ç«¯å£ï¼ˆ9092ï¼‰ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ›´æ”¹ Kafka å®‰è£…ç›®å½•ä¸‹ <code>config</code> å­ç›®å½•é‡Œçš„å„ä¸ªé…ç½®æ–‡ä»¶ã€‚ä¾‹å¦‚å¯ä»¥å°† Kafka çš„é»˜è®¤ç«¯å£æ›´æ”¹ä¸º <code>9090</code>ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim config/server.properties</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é»˜è®¤ç«¯å£å·</span></span><br><span class="line">listeners=PLAINTEXT://:9090</span><br></pre></td></tr></tbody></table></figure><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim config/connect-standalone.properties</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å•æœºç¯å¢ƒçš„ç«¯å£å·</span></span><br><span class="line">bootstrap.servers=localhost:9090</span><br></pre></td></tr></tbody></table></figure><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim config/connect-distributed.properties</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é›†ç¾¤ç¯å¢ƒçš„ç«¯å£å·</span></span><br><span class="line">bootstrap.servers=localhost:9090</span><br></pre></td></tr></tbody></table></figure><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim config/producer.properties</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘å¸ƒç«¯çš„ç«¯å£å·</span></span><br><span class="line">bootstrap.servers=localhost:9090</span><br></pre></td></tr></tbody></table></figure><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim config/consumer.properties</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¶ˆè´¹ç«¯çš„ç«¯å£å·</span></span><br><span class="line">bootstrap.servers=localhost:9090</span><br></pre></td></tr></tbody></table></figure><h2 id="å‚è€ƒåšå®¢"><a href="#å‚è€ƒåšå®¢" class="headerlink" title="å‚è€ƒåšå®¢"></a>å‚è€ƒåšå®¢</h2><ul><li><a href="https://blog.csdn.net/u011109589/article/details/124920047">Kafka é›†ç¾¤æ­å»ºè¶…è¯¦ç»†æ•™ç¨‹</a></li><li><a href="/posts/124a5015.html">Linux å•æœºæ­å»º Kafka é›†ç¾¤</a></li></ul></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {try {var plugin = new ReadmorePlugin();plugin.init({"id": "readmore-container","blogId": "96641-5333172926158-056","name": "å…¨æ ˆæŠ€æœ¯é©¿ç«™","qrcode": "https://www.techgrow.cn/img/wx_mp_qr.png","keyword": "Tech","lockToc": "yes","type": "hexo","random": "0.9","interval": "30","expires": "365","height": "auto"});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•åœ¨ Linux ç”Ÿäº§ç¯å¢ƒä¸Šæ­å»º Kafka é›†ç¾¤ï¼Œé€‚ç”¨äºä½¿ç”¨å¤šå°ç‰©ç†æœºå™¨æ­å»ºé›†ç¾¤ã€‚</summary>
    
    
    
    
    <category term="Linux" scheme="https://www.techgrow.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux å•æœºæ­å»º Kafka é›†ç¾¤</title>
    <link href="https://www.techgrow.cn/posts/124a5015.html"/>
    <id>https://www.techgrow.cn/posts/124a5015.html</id>
    <published>2022-08-09T14:13:45.000Z</published>
    <updated>2022-08-09T14:13:45.000Z</updated>
    
    <content type="html"><![CDATA[<div id="readmore-container"><!-- toc --><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ¬æ–‡é€‚ç”¨äºåœ¨ Centos/Debian/Ubuntu ç­‰ Linux å‘è¡Œç‰ˆç³»ç»Ÿä¸Šï¼Œä½¿ç”¨å•æœºæ­å»º Kafka é›†ç¾¤ã€‚</p><h2 id="Zookeeper-é›†ç¾¤æ­å»º"><a href="#Zookeeper-é›†ç¾¤æ­å»º" class="headerlink" title="Zookeeper é›†ç¾¤æ­å»º"></a>Zookeeper é›†ç¾¤æ­å»º</h2><p>æœ¬æ–‡çš„ Kafka é›†ç¾¤æ­å»ºä¾èµ–äº Zookeeperï¼Œå› æ­¤éœ€è¦å°† Zookeeper å•æœºé›†ç¾¤æå‰æ­å»ºèµ·æ¥ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œä» Kafka <code>2.8.0</code> ç‰ˆæœ¬å¼€å§‹ï¼ŒKafka è‡ªèº«å®ç°äº† <code>Raft</code> åˆ†å¸ƒå¼ä¸€è‡´æ€§æœºåˆ¶ï¼Œè¿™æ„å‘³ç€ Kafka æ˜¯å¯ä»¥è„±ç¦» ZooKeeper ç‹¬ç«‹è¿è¡Œçš„ã€‚</p><h3 id="é›†ç¾¤è§„åˆ’"><a href="#é›†ç¾¤è§„åˆ’" class="headerlink" title="é›†ç¾¤è§„åˆ’"></a>é›†ç¾¤è§„åˆ’</h3><table><thead><tr><th>èŠ‚ç‚¹</th><th> IP åœ°å€</th><th>ç«¯å£</th><th>ç‰ˆæœ¬å·</th></tr></thead><tbody><tr><td> Zookeeper èŠ‚ç‚¹ 1</td><td>127.0.0.1</td><td>2181</td><td>3.4.10</td></tr><tr><td>Zookeeper èŠ‚ç‚¹ 2</td><td>127.0.0.1</td><td>2182</td><td>3.4.10</td></tr><tr><td>Zookeeper èŠ‚ç‚¹ 3</td><td>127.0.0.1</td><td>2183</td><td>3.4.10</td></tr></tbody></table><span id="more"></span><h3 id="é›†ç¾¤æ­å»º"><a href="#é›†ç¾¤æ­å»º" class="headerlink" title="é›†ç¾¤æ­å»º"></a>é›†ç¾¤æ­å»º</h3><p>ç”±äºç¯‡å¹…æœ‰é™ï¼ŒLinux å•æœºæ­å»º Zookeeper é›†ç¾¤çš„å†…å®¹è¿™é‡Œä¸å†ç´¯è¿°ï¼Œè¯¦ç»†æ•™ç¨‹å¯çœ‹ <a href="/posts/98827cf0.html">è¿™é‡Œ</a>ã€‚</p><h2 id="Kafka-é›†ç¾¤æ­å»º"><a href="#Kafka-é›†ç¾¤æ­å»º" class="headerlink" title="Kafka é›†ç¾¤æ­å»º"></a>Kafka é›†ç¾¤æ­å»º</h2><h3 id="é›†ç¾¤è§„åˆ’-1"><a href="#é›†ç¾¤è§„åˆ’-1" class="headerlink" title="é›†ç¾¤è§„åˆ’"></a>é›†ç¾¤è§„åˆ’</h3><table><thead><tr><th>èŠ‚ç‚¹</th><th> IP åœ°å€</th><th>ç«¯å£</th><th>ç‰ˆæœ¬å·</th></tr></thead><tbody><tr><td> Kafka èŠ‚ç‚¹ 1</td><td>127.0.0.1</td><td>9092</td><td>2.13-3.2.1</td></tr><tr><td>Kafka èŠ‚ç‚¹ 2</td><td>127.0.0.1</td><td>9093</td><td>2.13-3.2.1</td></tr><tr><td>Kafka èŠ‚ç‚¹ 3</td><td>127.0.0.1</td><td>9094</td><td>2.13-3.2.1</td></tr></tbody></table><h3 id="é›†ç¾¤æ­å»º-1"><a href="#é›†ç¾¤æ­å»º-1" class="headerlink" title="é›†ç¾¤æ­å»º"></a>é›†ç¾¤æ­å»º</h3><ul><li>Kafka ä¸‹è½½</li></ul><blockquote><ol><li> Kafka çš„å®‰è£…åŒ…å¯ä»¥ä» <a href="https://kafka.apache.org/downloads.html">å®˜ç½‘</a> ä¸‹è½½ã€‚</li><li>ä»¥ä¸‹è½½å¾—åˆ°çš„å‹ç¼©æ–‡ä»¶ <code>kafka_2.13-3.2.1.tgz</code> ä¸ºä¾‹ï¼Œ<code>2.11</code> æ˜¯ Scala çš„ç‰ˆæœ¬å·ï¼Œ<code>3.2.1</code> æ˜¯ Kafka çš„ç‰ˆæœ¬å·ã€‚</li></ol></blockquote><ul><li>Kafka å®‰è£… </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºå®‰è£…ç›®å½•</span></span><br><span class="line"><span class="comment"># mkdir -p /usr/local/kafka-cluster</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥å®‰è£…ç›®å½•</span></span><br><span class="line"><span class="comment"># cd /usr/local/kafka-cluster</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‹è½½æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># wget https://downloads.apache.org/kafka/3.2.1/kafka_2.13-3.2.1.tgz</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£å‹æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># tar -xvf kafka_2.13-3.2.1.tgz</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å‘½åç›®å½•</span></span><br><span class="line"><span class="comment"># mv kafka_2.13-3.2.1 kafka-node1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># rm -rf kafka_2.13-3.2.1.tgz</span></span><br></pre></td></tr></tbody></table></figure><ul><li>Kafka åŸºç¡€é…ç½® </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥å®‰è£…ç›®å½•</span></span><br><span class="line"><span class="comment"># cd /usr/local/kafka-cluster/kafka-node1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ—¥å¿—ç›®å½•ï¼ˆæ•°æ®å­˜å‚¨ç›®å½•ï¼‰</span></span><br><span class="line"><span class="comment"># mkdir logs</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼ˆæŒ‡å®šä»¥ä¸‹å†…å®¹å³å¯ï¼‰</span></span><br><span class="line"><span class="comment"># vim config/server.properties</span></span><br></pre></td></tr></tbody></table></figure><p>æœ€å…³é”®çš„é…ç½®å†…å®¹æ˜¯ <code>broker.id</code>ã€<code>log.dirs</code>ã€<code>zookeeper.connect</code>ï¼Œå…¶ä¸­çš„ <code>zookeeper.connect</code> æ˜¯ Zookeeper è¿æ¥åœ°å€ï¼Œå»ºè®®ä½¿ç”¨ <code>/kafka</code> ä½œä¸ºåç¼€ï¼Œè¿™æ ·æ–¹ä¾¿æ—¥ååœ¨ Zookeeper é‡Œç»Ÿä¸€ç®¡ç† Kafka çš„æ•°æ®ã€‚åœ¨é¡¹ç›®çš„å¼€å‘æµ‹è¯•é˜¶æ®µï¼Œå…¶ä»–é…ç½®å†…å®¹æš‚æ—¶å¯ä»¥ä½¿ç”¨é»˜è®¤å€¼ã€‚</p><figure class="highlight properties"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># broker çš„å…¨å±€å”¯ä¸€ç¼–å·,ä¸èƒ½é‡å¤</span></span><br><span class="line"><span class="meta">broker.id</span>=<span class="string">1</span></span><br><span class="line"><span class="comment"># å¤„ç†ç½‘ç»œè¯·æ±‚çš„çº¿ç¨‹æ•°é‡</span></span><br><span class="line"><span class="meta">num.network.threads</span>=<span class="string">3</span></span><br><span class="line"><span class="comment"># ç”¨æ¥å¤„ç†ç£ç›˜ IO çš„ç°æˆæ•°é‡</span></span><br><span class="line"><span class="meta">num.io.threads</span>=<span class="string">8</span></span><br><span class="line"><span class="comment"># å‘é€å¥—æ¥å­—çš„ç¼“å†²åŒºå¤§å°</span></span><br><span class="line"><span class="meta">socket.send.buffer.bytes</span>=<span class="string">102400</span></span><br><span class="line"><span class="comment"># æ¥æ”¶å¥—æ¥å­—çš„ç¼“å†²åŒºå¤§å°</span></span><br><span class="line"><span class="meta">socket.receive.buffer.bytes</span>=<span class="string">102400</span></span><br><span class="line"><span class="comment"># è¯·æ±‚å¥—æ¥å­—çš„ç¼“å†²åŒºå¤§å°</span></span><br><span class="line"><span class="meta">socket.request.max.bytes</span>=<span class="string">104857600</span></span><br><span class="line"><span class="comment"># è¿è¡Œæ—¥å¿—å­˜æ”¾çš„è·¯å¾„</span></span><br><span class="line"><span class="meta">log.dirs</span>=<span class="string">/usr/local/kafka-cluster/kafka-node1/logs</span></span><br><span class="line"><span class="comment"># topic åœ¨å½“å‰ broker ä¸Šçš„åˆ†åŒºä¸ªæ•°</span></span><br><span class="line"><span class="meta">num.partitions</span>=<span class="string">1</span></span><br><span class="line"><span class="comment"># ç”¨æ¥æ¢å¤å’Œæ¸…ç† data ä¸‹æ•°æ®çš„çº¿ç¨‹æ•°é‡</span></span><br><span class="line"><span class="meta">num.recovery.threads.per.data.dir</span>=<span class="string">1</span></span><br><span class="line"><span class="comment"># æ¯ä¸ª topic åˆ›å»ºæ—¶çš„å‰¯æœ¬æ•°,é»˜è®¤æ—¶ 1 ä¸ªå‰¯æœ¬</span></span><br><span class="line"><span class="meta">offsets.topic.replication.factor</span>=<span class="string">1</span></span><br><span class="line"><span class="comment"># æ¯ä¸ª segment æ–‡ä»¶ä¿ç•™çš„æœ€é•¿æ—¶é—´,è¶…æ—¶å°†è¢«åˆ é™¤</span></span><br><span class="line"><span class="meta">log.retention.hours</span>=<span class="string">168</span></span><br><span class="line"><span class="comment"># æ¯ä¸ª segment æ–‡ä»¶çš„å¤§å°,é»˜è®¤æœ€å¤§ 1G</span></span><br><span class="line"><span class="meta">log.segment.bytes</span>=<span class="string">1073741824</span></span><br><span class="line"><span class="comment"># æ£€æŸ¥è¿‡æœŸæ•°æ®çš„æ—¶é—´,é»˜è®¤ 5 åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡æ˜¯å¦æ•°æ®è¿‡æœŸ</span></span><br><span class="line"><span class="meta">log.retention.check.interval.ms</span>=<span class="string">300000</span></span><br><span class="line"><span class="comment"># é…ç½®è¿æ¥ Zookeeper é›†ç¾¤åœ°å€</span></span><br><span class="line"><span class="meta">zookeeper.connect</span>=<span class="string">127.0.0.1:2181,127.0.0.1:2182,127.0.0.1:2183/kafka</span></span><br></pre></td></tr></tbody></table></figure><ul><li>Kafka ç«¯å£é…ç½®</li></ul><p>å•æœºæ­å»º Kafka é›†ç¾¤æ—¶ï¼Œä¸ºäº†è§£å†³ç«¯å£å†²çªçš„é—®é¢˜ï¼Œè¿˜éœ€è¦æŒ‡å®š Kafka ç›‘å¬çš„ç«¯å£ï¼Œå¿…é¡»å°†ä¸‹è¿°å„ä¸ªé…ç½®æ–‡ä»¶é‡Œçš„ç«¯å£éƒ½æ›´æ”¹æ‰ã€‚</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim config/server.properties</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é»˜è®¤ç«¯å£å·</span></span><br><span class="line">listeners=PLAINTEXT://:9092</span><br></pre></td></tr></tbody></table></figure><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim config/connect-standalone.properties</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å•æœºç¯å¢ƒçš„ç«¯å£å·</span></span><br><span class="line">bootstrap.servers=localhost:9092</span><br></pre></td></tr></tbody></table></figure><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim config/connect-distributed.properties</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é›†ç¾¤ç¯å¢ƒçš„ç«¯å£å·</span></span><br><span class="line">bootstrap.servers=localhost:9092</span><br></pre></td></tr></tbody></table></figure><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim config/producer.properties</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘å¸ƒç«¯çš„ç«¯å£å·</span></span><br><span class="line">bootstrap.servers=localhost:9092</span><br></pre></td></tr></tbody></table></figure><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim config/consumer.properties</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¶ˆè´¹ç«¯çš„ç«¯å£å·</span></span><br><span class="line">bootstrap.servers=localhost:9092</span><br></pre></td></tr></tbody></table></figure><ul><li>Kafka åˆ›å»ºå¤šä¸ªèŠ‚ç‚¹</li></ul><p>å¤åˆ¶ä¸¤ä»½ä¸Šé¢å·²ç»é…ç½®å¥½çš„ Kafka å®‰è£…ç›®å½•ï¼Œä»¥æ­¤ä½œä¸ºé›†ç¾¤ä¸­å¦å¤–ä¸¤ä¸ªèŠ‚ç‚¹çš„å®‰è£…æ–‡ä»¶ï¼Œä¾‹å¦‚ <code>kafka-node2</code>ã€<code>kafka-node3</code>ã€‚å®‰è£…ç›®å½•å¤åˆ¶å®Œæˆåï¼Œè¿˜éœ€è¦ä¸ºæ¯ä¸ªæ–°èŠ‚ç‚¹æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ›´æ”¹å¯¹åº”çš„å†…å®¹ï¼š</p><blockquote><p>ç¬¬ä¸€æ­¥ï¼šæ›´æ”¹ <code>server.properties</code> é…ç½®æ–‡ä»¶é‡Œçš„ <code>broker.id</code>ã€<code>log.dirs</code><br>ç¬¬äºŒæ­¥ï¼šæ›´æ”¹ Kafka ç›‘å¬çš„ç«¯å£ï¼ŒåŒ…æ‹¬æ›´æ”¹ä¸Šè¿°çš„ <code>server.properties</code>ã€<code>connect-standalone.properties</code>ã€<code>connect-distributed.properties</code>ã€<code>producer.properties</code>ã€<code>consumer.properties</code> é…ç½®æ–‡ä»¶</p></blockquote><p>ä¸Šè¿°ä¸¤ä¸ªæ­¥éª¤å®Œæˆåï¼ŒèŠ‚ç‚¹äºŒå’ŒèŠ‚ç‚¹ä¸‰çš„æœ€ç»ˆé…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># èŠ‚ç‚¹äºŒçš„é…ç½®</span><br><span class="line">broker.id=2</span><br><span class="line">listeners=PLAINTEXT://:9093</span><br><span class="line">log.dirs=/usr/local/kafka-cluster/kafka-node2/logs</span><br><span class="line"></span><br><span class="line">bootstrap.servers=localhost:9093</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># èŠ‚ç‚¹ä¸‰çš„é…ç½®</span><br><span class="line">broker.id=3</span><br><span class="line">listeners=PLAINTEXT://:9094</span><br><span class="line">log.dirs=/usr/local/kafka-cluster/kafka-node3/logs</span><br><span class="line"></span><br><span class="line">bootstrap.servers=localhost:9094</span><br></pre></td></tr></tbody></table></figure><h3 id="é›†ç¾¤ç®¡ç†"><a href="#é›†ç¾¤ç®¡ç†" class="headerlink" title="é›†ç¾¤ç®¡ç†"></a>é›†ç¾¤ç®¡ç†</h3><ul><li>é›†ç¾¤å¯åŠ¨</li></ul><div class="admonition warning"><p class="admonition-title">æ³¨æ„</p><p>å¯åŠ¨ Kafka é›†ç¾¤ä¹‹å‰ï¼Œå¿…é¡»ç¡®ä¿ Zookeeper é›†ç¾¤å·²ç»å¯åŠ¨æˆåŠŸï¼Œè¿™æ˜¯å› ä¸ºæœ¬æ–‡æ­å»ºçš„ Kafka é›†ç¾¤ä¾èµ–äº Zookeeper é›†ç¾¤ã€‚</p></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åå°å¯åŠ¨</span></span><br><span class="line"><span class="comment"># /usr/local/kafka-cluster/kafka-node1/bin/kafka-server-start.sh -daemon /usr/local/kafka-cluster/kafka-node1/config/server.properties</span></span><br><span class="line"><span class="comment"># /usr/local/kafka-cluster/kafka-node2/bin/kafka-server-start.sh -daemon /usr/local/kafka-cluster/kafka-node2/config/server.properties</span></span><br><span class="line"><span class="comment"># /usr/local/kafka-cluster/kafka-node3/bin/kafka-server-start.sh -daemon /usr/local/kafka-cluster/kafka-node3/config/server.properties</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–è€…å‰å°å¯åŠ¨ï¼ˆå¯ç›´æ¥æŸ¥çœ‹å¯åŠ¨æ—¶è¾“å‡ºçš„æ—¥å¿—ä¿¡æ¯ï¼‰</span></span><br><span class="line"><span class="comment"># /usr/local/kafka-cluster/kafka-node1/bin/kafka-server-start.sh /usr/local/kafka-cluster/kafka-node1/config/server.properties</span></span><br><span class="line"><span class="comment"># /usr/local/kafka-cluster/kafka-node2/bin/kafka-server-start.sh /usr/local/kafka-cluster/kafka-node2/config/server.properties</span></span><br><span class="line"><span class="comment"># /usr/local/kafka-cluster/kafka-node3/bin/kafka-server-start.sh /usr/local/kafka-cluster/kafka-node3/config/server.properties</span></span><br></pre></td></tr></tbody></table></figure><ul><li>æŸ¥çœ‹çŠ¶æ€</li></ul><p>é›†ç¾¤å¯åŠ¨åï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹é›†ç¾¤çš„è¿è¡ŒçŠ¶æ€ã€‚å¦‚æœå‘ç°é›†ç¾¤å¯åŠ¨å¤±è´¥ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å‰å°çš„æ–¹å¼å†æ¬¡å¯åŠ¨é›†ç¾¤ï¼Œç„¶åæ ¹æ®ç»ˆç«¯è¾“å‡ºçš„é”™è¯¯æ—¥å¿—ä¿¡æ¯æ¥å®šä½é—®é¢˜ã€‚</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µ</span></span><br><span class="line"><span class="comment"># netstat -nplt | grep 9092</span></span><br><span class="line"><span class="comment"># netstat -nplt | grep 9093</span></span><br><span class="line"><span class="comment"># netstat -nplt | grep 9094</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹Kafkaè¿›ç¨‹</span></span><br><span class="line"><span class="comment"># ps -aux | grep kafka</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹Javaè¿›ç¨‹</span></span><br><span class="line"><span class="comment"># jps -l</span></span><br></pre></td></tr></tbody></table></figure><ul><li>é›†ç¾¤å…³é—­</li></ul><div class="admonition warning"><p class="admonition-title">æ³¨æ„</p><p>å…³é—­ Kafka é›†ç¾¤æ—¶ï¼Œä¸€å®šè¦ç­‰ Kafka æ‰€æœ‰èŠ‚ç‚¹è¿›ç¨‹å…¨éƒ¨å…³é—­åå†å…³é—­ Zookeeper é›†ç¾¤ã€‚å› ä¸º Zookeeper é›†ç¾¤å½“ä¸­è®°å½•ç€ Kafka é›†ç¾¤çš„ç›¸å…³ä¿¡æ¯ï¼ŒZookeeper é›†ç¾¤ä¸€æ—¦å…ˆå…³é—­ï¼ŒKafka é›†ç¾¤å°±æ²¡æœ‰åŠæ³•å†è·å–å…³é—­è¿›ç¨‹çš„ä¿¡æ¯ï¼Œæ­¤æ—¶åªèƒ½æ‰‹åŠ¨å¼ºåˆ¶æ€æ­» Kafka è¿›ç¨‹ã€‚</p></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /usr/local/kafka-cluster/kafka-node1/bin/kafka-server-stop.sh stop</span></span><br><span class="line"><span class="comment"># /usr/local/kafka-cluster/kafka-node2/bin/kafka-server-stop.sh stop</span></span><br><span class="line"><span class="comment"># /usr/local/kafka-cluster/kafka-node3/bin/kafka-server-stop.sh stop</span></span><br></pre></td></tr></tbody></table></figure><ul><li>æ¸…ç©ºæ•°æ®</li></ul><p>è‹¥å¸Œæœ›æ¸…ç©º Kafka é›†ç¾¤çš„æ•°æ®ï¼Œåˆ™å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œã€‚<strong>æ¸…ç©ºæ•°æ®çš„æ“ä½œä¸å¯æ¢å¤ï¼Œç”Ÿäº§ç¯å¢ƒä¸‹æ…ç”¨ã€‚</strong></p><blockquote><p>ç¬¬ä¸€æ­¥ï¼šå…³é—­ Kafka é›†ç¾¤<br>ç¬¬äºŒæ­¥ï¼šè¿æ¥ Zookeeper é›†ç¾¤ï¼Œç„¶ååˆ é™¤ <code>/kafka</code> ç›®å½•<br>ç¬¬ä¸‰æ­¥ï¼šåˆ é™¤ Kafka å„ä¸ªé›†ç¾¤èŠ‚ç‚¹çš„å®‰è£…ç›®å½•ä¸‹çš„ <code>logs</code> ç›®å½•ï¼ˆæ–‡ä»¶å¤¹ï¼‰<br>ç¬¬å››æ­¥ï¼šé‡å¯ Kafka é›†ç¾¤</p></blockquote><h3 id="é›†ç¾¤æµ‹è¯•"><a href="#é›†ç¾¤æµ‹è¯•" class="headerlink" title="é›†ç¾¤æµ‹è¯•"></a>é›†ç¾¤æµ‹è¯•</h3><ul><li>è¿›å…¥ä»»æ„èŠ‚ç‚¹çš„å®‰è£…ç›®å½•ä¸‹çš„ <code>bin</code> ç›®å½• </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥å®‰è£…ç›®å½•</span></span><br><span class="line"><span class="comment"># cd /usr/local/kafka-cluster/kafka-node1/bin</span></span><br></pre></td></tr></tbody></table></figure><ul><li>åˆ›å»ºä¸»é¢˜ </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºä¸»é¢˜</span></span><br><span class="line"><span class="comment"># ./kafka-topics.sh --create --bootstrap-server 127.0.0.1:9092 --replication-factor 3 --partitions 1 --topic test</span></span><br></pre></td></tr></tbody></table></figure><ul><li>æŸ¥çœ‹ä¸»é¢˜åˆ—è¡¨ </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ä¸»é¢˜åˆ—è¡¨</span></span><br><span class="line"><span class="comment"># ./kafka-topics.sh --list --bootstrap-server 127.0.0.1:9092</span></span><br></pre></td></tr></tbody></table></figure><ul><li>æŸ¥çœ‹ä¸»é¢˜è¯¦ç»†ä¿¡æ¯ </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ä¸»é¢˜è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># ./kafka-topics.sh --bootstrap-server 127.0.0.1:9092 --topic test --describe</span></span><br></pre></td></tr></tbody></table></figure><ul><li>å¯åŠ¨æ§åˆ¶å°æ¶ˆè´¹è€… </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨æ¶ˆè´¹è€…</span></span><br><span class="line"><span class="comment"># ./kafka-console-consumer.sh --bootstrap-server 127.0.0.1:9092 --topic test --from-beginning</span></span><br></pre></td></tr></tbody></table></figure><ul><li>å¯åŠ¨æ§åˆ¶å°ç”Ÿäº§è€… </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨ç”Ÿäº§è€…</span></span><br><span class="line"><span class="comment"># ./kafka-console-producer.sh --broker-list 127.0.0.1:9092 --topic test</span></span><br></pre></td></tr></tbody></table></figure><p>ç”Ÿäº§è€…æ­£å¸¸å¯åŠ¨åï¼Œåœ¨ç”Ÿäº§è€…çš„æ§åˆ¶å°æ‰‹åŠ¨è¾“å…¥ <code>hello kafka</code>ï¼Œæ¶ˆè´¹è€…çš„æ§åˆ¶å°å°±å¯ä»¥æ¶ˆè´¹åˆ°ç”Ÿäº§è€…çš„æ¶ˆæ¯ï¼Œå¹¶è¾“å‡º <code>hello kafka</code>ï¼Œè¿™è¡¨ç¤ºæ¶ˆè´¹è€…æˆåŠŸæ¶ˆè´¹äº†ç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯ï¼</p><h2 id="å‚è€ƒåšå®¢"><a href="#å‚è€ƒåšå®¢" class="headerlink" title="å‚è€ƒåšå®¢"></a>å‚è€ƒåšå®¢</h2><ul><li><a href="https://blog.csdn.net/u011109589/article/details/124920047">Kafka é›†ç¾¤æ­å»ºè¶…è¯¦ç»†æ•™ç¨‹</a></li></ul></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {try {var plugin = new ReadmorePlugin();plugin.init({"id": "readmore-container","blogId": "96641-5333172926158-056","name": "å…¨æ ˆæŠ€æœ¯é©¿ç«™","qrcode": "https://www.techgrow.cn/img/wx_mp_qr.png","keyword": "Tech","lockToc": "yes","type": "hexo","random": "0.9","interval": "30","expires": "365","height": "auto"});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•åœ¨ Linux ç³»ç»Ÿä¸Šæ­å»º Kafka é›†ç¾¤ï¼Œé€‚ç”¨äºå•æœºæ­å»ºé›†ç¾¤ã€‚</summary>
    
    
    
    
    <category term="Linux" scheme="https://www.techgrow.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Java è‡ªåŠ¨ç”Ÿæˆæ•°æ®åº“æ–‡æ¡£</title>
    <link href="https://www.techgrow.cn/posts/28df7196.html"/>
    <id>https://www.techgrow.cn/posts/28df7196.html</id>
    <published>2022-07-30T14:18:22.000Z</published>
    <updated>2022-07-30T14:18:22.000Z</updated>
    
    <content type="html"><![CDATA[<div id="readmore-container"><!-- toc --><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨ä¼ä¸šçº§å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šæœ‰ç¼–å†™æ•°æ®åº“æ–‡æ¡£çš„æ—¶é—´ä»˜å‡ºï¼Œå…³äºæ•°æ®åº“æ–‡æ¡£çš„çŠ¶æ€ï¼šè¦ä¹ˆæ²¡æœ‰ã€è¦ä¹ˆæœ‰ä½†éƒ½æ˜¯æ‰‹å†™ã€åæœŸè¿ç»´å¼€å‘éƒ½éœ€è¦æ‰‹åŠ¨å¯¹æ–‡æ¡£è¿›è¡Œç»´æŠ¤ï¼Œå¾ˆæ˜¯ç¹çã€‚å¦‚æœå¿˜è®°ä¸€æ¬¡ç»´æŠ¤å°±ä¼šç»™ä»¥åçš„å·¥ä½œé€ æˆå¾ˆå¤šå›°æ‰°ï¼Œè¿™æ— å½¢ä¸­ç•™äº†å¾ˆå¤šå‘ç»™è‡ªå·±å’Œåäººã€‚<a href="https://github.com/pingfangushi/screw/">screw</a> æ˜¯ä¸€æ¬¾ç®€æ´å¥½ç”¨çš„æ•°æ®åº“æ–‡æ¡£ç”Ÿæˆå·¥å…·ï¼Œä¸“ä¸ºè§£å†³è¿™ä¸€å¼€å‘ç—›ç‚¹è€Œç”Ÿã€‚</p><h2 id="screw-ä»‹ç»"><a href="#screw-ä»‹ç»" class="headerlink" title="screw ä»‹ç»"></a>screw ä»‹ç»</h2><h3 id="ç‰¹è‰²åŠŸèƒ½"><a href="#ç‰¹è‰²åŠŸèƒ½" class="headerlink" title="ç‰¹è‰²åŠŸèƒ½"></a>ç‰¹è‰²åŠŸèƒ½</h3><ul><li>çµæ´»æ‰©å±•</li><li>æ”¯æŒè‡ªå®šä¹‰æ¨¡æ¿</li><li>æ”¯æŒå¤šç§æ•°æ®åº“</li><li>æ”¯æŒå¤šç§æ ¼å¼çš„æ–‡æ¡£</li><li>ç®€æ´ã€è½»é‡ã€è®¾è®¡è‰¯å¥½</li></ul><span id="more"></span><h3 id="æ•°æ®åº“æ”¯æŒ"><a href="#æ•°æ®åº“æ”¯æŒ" class="headerlink" title="æ•°æ®åº“æ”¯æŒ"></a>æ•°æ®åº“æ”¯æŒ</h3><ul><li><input checked="" disabled="" type="checkbox"> MySQL </li><li><input checked="" disabled="" type="checkbox"> MariaDB </li><li><input checked="" disabled="" type="checkbox"> TIDB </li><li><input checked="" disabled="" type="checkbox"> Oracle </li><li><input checked="" disabled="" type="checkbox"> SqlServer </li><li><input checked="" disabled="" type="checkbox"> PostgreSQL</li><li><input checked="" disabled="" type="checkbox"> Cache DBï¼ˆ2016ï¼‰</li></ul><h3 id="æ–‡æ¡£ç±»å‹æ”¯æŒ"><a href="#æ–‡æ¡£ç±»å‹æ”¯æŒ" class="headerlink" title="æ–‡æ¡£ç±»å‹æ”¯æŒ"></a>æ–‡æ¡£ç±»å‹æ”¯æŒ</h3><ul><li><input checked="" disabled="" type="checkbox"> Html</li><li><input checked="" disabled="" type="checkbox"> Word</li><li><input checked="" disabled="" type="checkbox"> Markdown</li></ul><h2 id="screw-ä½¿ç”¨"><a href="#screw-ä½¿ç”¨" class="headerlink" title="screw ä½¿ç”¨"></a>screw ä½¿ç”¨</h2><h3 id="åŸºäº-Java-ä»£ç "><a href="#åŸºäº-Java-ä»£ç " class="headerlink" title="åŸºäº Java ä»£ç "></a>åŸºäº Java ä»£ç </h3><p>ç¬¬ä¸€ç§ä½¿ç”¨æ–¹å¼æ˜¯åŸºäº Java ä»£ç ï¼Œè‡ªåŠ¨ç”Ÿæˆæ•°æ®åº“æ–‡æ¡£ã€‚</p><h4 id="Maven-ä¾èµ–"><a href="#Maven-ä¾èµ–" class="headerlink" title="Maven ä¾èµ–"></a>Maven ä¾èµ–</h4><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.freemarker<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>freemarker<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.31<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.smallbun.screw<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>screw-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.zaxxer<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>HikariCP<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.20<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="Java-ä»£ç "><a href="#Java-ä»£ç " class="headerlink" title="Java ä»£ç "></a>Java ä»£ç </h4><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cn.smallbun.screw.core.Configuration;</span><br><span class="line"><span class="keyword">import</span> cn.smallbun.screw.core.engine.EngineConfig;</span><br><span class="line"><span class="keyword">import</span> cn.smallbun.screw.core.engine.EngineFileType;</span><br><span class="line"><span class="keyword">import</span> cn.smallbun.screw.core.engine.EngineTemplateType;</span><br><span class="line"><span class="keyword">import</span> cn.smallbun.screw.core.execute.DocumentationExecute;</span><br><span class="line"><span class="keyword">import</span> cn.smallbun.screw.core.process.ProcessConfig;</span><br><span class="line"><span class="keyword">import</span> com.zaxxer.hikari.HikariConfig;</span><br><span class="line"><span class="keyword">import</span> com.zaxxer.hikari.HikariDataSource;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”Ÿæˆæ•°æ®åº“æ–‡æ¡£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ScrewTest</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String fileOutputDir = <span class="string">"D:/database/docs"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        documentGeneration();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–‡æ¡£ç”Ÿæˆ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">documentGeneration</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="comment">//æ•°æ®æº</span></span><br><span class="line">        HikariConfig hikariConfig = <span class="keyword">new</span> HikariConfig();</span><br><span class="line">        hikariConfig.setDriverClassName(<span class="string">"com.mysql.cj.jdbc.Driver"</span>);</span><br><span class="line">        hikariConfig.setJdbcUrl(<span class="string">"jdbc:mysql://127.0.0.1:3306/database"</span>);</span><br><span class="line">        hikariConfig.setUsername(<span class="string">"root"</span>);</span><br><span class="line">        hikariConfig.setPassword(<span class="string">"123456"</span>);</span><br><span class="line">        <span class="comment">//è®¾ç½®å¯ä»¥è·å–tables remarksä¿¡æ¯</span></span><br><span class="line">        hikariConfig.addDataSourceProperty(<span class="string">"useInformationSchema"</span>, <span class="string">"true"</span>);</span><br><span class="line">        hikariConfig.setMinimumIdle(<span class="number">2</span>);</span><br><span class="line">        hikariConfig.setMaximumPoolSize(<span class="number">5</span>);</span><br><span class="line">        DataSource dataSource = <span class="keyword">new</span> HikariDataSource(hikariConfig);</span><br><span class="line">        <span class="comment">//ç”Ÿæˆé…ç½®</span></span><br><span class="line">        EngineConfig engineConfig = EngineConfig.builder()</span><br><span class="line">                <span class="comment">//ç”Ÿæˆæ–‡ä»¶è·¯å¾„</span></span><br><span class="line">                .fileOutputDir(fileOutputDir)</span><br><span class="line">                <span class="comment">//æ‰“å¼€ç›®å½•</span></span><br><span class="line">                .openOutputDir(<span class="keyword">true</span>)</span><br><span class="line">                <span class="comment">//æ–‡ä»¶ç±»å‹</span></span><br><span class="line">                .fileType(EngineFileType.HTML)</span><br><span class="line">                <span class="comment">//ç”Ÿæˆæ¨¡æ¿å®ç°</span></span><br><span class="line">                .produceType(EngineTemplateType.freemarker)</span><br><span class="line">                <span class="comment">//è‡ªå®šä¹‰æ–‡ä»¶åç§°</span></span><br><span class="line">                .fileName(<span class="string">"è‡ªå®šä¹‰æ–‡ä»¶åç§°"</span>).build();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å¿½ç•¥è¡¨</span></span><br><span class="line">        ArrayList&lt;String&gt; ignoreTableName = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">//å¿½ç•¥è¡¨å‰ç¼€</span></span><br><span class="line">        ArrayList&lt;String&gt; ignorePrefix = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">//å¿½ç•¥è¡¨åç¼€</span></span><br><span class="line">        ArrayList&lt;String&gt; ignoreSuffix = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        ProcessConfig processConfig = ProcessConfig.builder()</span><br><span class="line">                <span class="comment">//æŒ‡å®šç”Ÿæˆé€»è¾‘ã€å½“å­˜åœ¨æŒ‡å®šè¡¨ã€æŒ‡å®šè¡¨å‰ç¼€ã€æŒ‡å®šè¡¨åç¼€æ—¶ï¼Œå°†ç”ŸæˆæŒ‡å®šè¡¨ï¼Œå…¶ä½™è¡¨ä¸ç”Ÿæˆã€å¹¶è·³è¿‡å¿½ç•¥è¡¨é…ç½®</span></span><br><span class="line">                <span class="comment">//æ ¹æ®åç§°æŒ‡å®šè¡¨ç”Ÿæˆ</span></span><br><span class="line">                .designatedTableName(<span class="keyword">new</span> ArrayList&lt;&gt;())</span><br><span class="line">                <span class="comment">//æ ¹æ®è¡¨å‰ç¼€ç”Ÿæˆ</span></span><br><span class="line">                .designatedTablePrefix(<span class="keyword">new</span> ArrayList&lt;&gt;())</span><br><span class="line">                <span class="comment">//æ ¹æ®è¡¨åç¼€ç”Ÿæˆ</span></span><br><span class="line">                .designatedTableSuffix(<span class="keyword">new</span> ArrayList&lt;&gt;())</span><br><span class="line">                <span class="comment">//å¿½ç•¥è¡¨å</span></span><br><span class="line">                .ignoreTableName(ignoreTableName)</span><br><span class="line">                <span class="comment">//å¿½ç•¥è¡¨å‰ç¼€</span></span><br><span class="line">                .ignoreTablePrefix(ignorePrefix)</span><br><span class="line">                <span class="comment">//å¿½ç•¥è¡¨åç¼€</span></span><br><span class="line">                .ignoreTableSuffix(ignoreSuffix).build();</span><br><span class="line">        <span class="comment">//é…ç½®</span></span><br><span class="line">        Configuration config = Configuration.builder()</span><br><span class="line">                <span class="comment">//ç‰ˆæœ¬</span></span><br><span class="line">                .version(<span class="string">"1.0.0"</span>)</span><br><span class="line">                <span class="comment">//æè¿°</span></span><br><span class="line">                .description(<span class="string">"æ•°æ®åº“è®¾è®¡æ–‡æ¡£ç”Ÿæˆ"</span>)</span><br><span class="line">                <span class="comment">//æ•°æ®æº</span></span><br><span class="line">                .dataSource(dataSource)</span><br><span class="line">                <span class="comment">//ç”Ÿæˆé…ç½®</span></span><br><span class="line">                .engineConfig(engineConfig)</span><br><span class="line">                <span class="comment">//ç”Ÿæˆé…ç½®</span></span><br><span class="line">                .produceConfig(processConfig)</span><br><span class="line">                .build();</span><br><span class="line">        <span class="comment">//æ‰§è¡Œç”Ÿæˆ</span></span><br><span class="line">        <span class="keyword">new</span> DocumentationExecute(config).execute();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="åŸºäº-Maven-æ’ä»¶"><a href="#åŸºäº-Maven-æ’ä»¶" class="headerlink" title="åŸºäº Maven æ’ä»¶"></a>åŸºäº Maven æ’ä»¶</h3><p>ç¬¬äºŒç§ä½¿ç”¨æ–¹å¼æ˜¯åŸºäº Maven æ’ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆæ•°æ®åº“æ–‡æ¡£ã€‚</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.smallbun.screw<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>screw-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>${lastVersion}<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- HikariCP --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.zaxxer<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>HikariCP<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--mysql driver--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.20<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--username--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">username</span>&gt;</span>root<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--password--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">password</span>&gt;</span>123456<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--driver--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">driverClassName</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="tag">&lt;/<span class="name">driverClassName</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--jdbc url--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">jdbcUrl</span>&gt;</span>jdbc:mysql://127.0.0.1:3306/database<span class="tag">&lt;/<span class="name">jdbcUrl</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--ç”Ÿæˆæ–‡ä»¶ç±»å‹--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">fileType</span>&gt;</span>HTML<span class="tag">&lt;/<span class="name">fileType</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--æ‰“å¼€æ–‡ä»¶è¾“å‡ºç›®å½•--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">openOutputDir</span>&gt;</span>false<span class="tag">&lt;/<span class="name">openOutputDir</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--ç”Ÿæˆæ¨¡æ¿--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">produceType</span>&gt;</span>freemarker<span class="tag">&lt;/<span class="name">produceType</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--æ–‡æ¡£åç§° ä¸ºç©ºæ—¶:å°†é‡‡ç”¨[æ•°æ®åº“åç§°-æè¿°-ç‰ˆæœ¬å·]ä½œä¸ºæ–‡æ¡£åç§°--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">fileName</span>&gt;</span>æµ‹è¯•æ–‡æ¡£åç§°<span class="tag">&lt;/<span class="name">fileName</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--æè¿°--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">description</span>&gt;</span>æ•°æ®åº“æ–‡æ¡£ç”Ÿæˆ<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--ç‰ˆæœ¬--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>${project.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--æ ‡é¢˜--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">title</span>&gt;</span>æ•°æ®åº“æ–‡æ¡£<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">phase</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goal</span>&gt;</span>run<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="æ‰©å±•æ¨¡å—"><a href="#æ‰©å±•æ¨¡å—" class="headerlink" title="æ‰©å±•æ¨¡å—"></a>æ‰©å±•æ¨¡å—</h2><p>åœ¨æ—¥å¸¸çš„å¼€å‘ä¸­ï¼Œç»è¿‡éœ€æ±‚åˆ†æã€å»ºæ¨¡ä¹‹åï¼Œå¾€å¾€ä¼šå…ˆåœ¨æ•°æ®åº“ä¸­å»ºè¡¨ï¼Œå…¶æ¬¡å†è¿›è¡Œä»£ç çš„å¼€å‘ã€‚ä½¿ç”¨ POJO ç”ŸæˆåŠŸèƒ½å¯ä»¥ç›´æ¥æ ¹æ®æ•°æ®åº“è¡¨ç”Ÿæˆå¯¹åº”çš„ Java POJO å¯¹è±¡ï¼Œè¿™å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜èŠ‚çœä¸€äº›é‡å¤åŠ³åŠ¨ã€‚screw æ”¯æŒ POJO ç”ŸæˆåŠŸèƒ½ï¼Œç›®å‰å¤„äºåˆæ­¥å¼€å‘çš„çŠ¶æ€ï¼Œä¸”ä»…æ”¯æŒ MySQL æ•°æ®åº“ã€‚</p><h3 id="POJO-ç”Ÿæˆæ¨¡å—"><a href="#POJO-ç”Ÿæˆæ¨¡å—" class="headerlink" title="POJO ç”Ÿæˆæ¨¡å—"></a>POJO ç”Ÿæˆæ¨¡å—</h3><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.smallbun.screw<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>screw-extension<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>${lastVersion}<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * POJO ç”Ÿæˆ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pojoGeneration</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="comment">//æ•°æ®æº</span></span><br><span class="line">    HikariConfig hikariConfig = <span class="keyword">new</span> HikariConfig();</span><br><span class="line">    hikariConfig.setDriverClassName(<span class="string">"com.mysql.cj.jdbc.Driver"</span>);</span><br><span class="line">    hikariConfig.setJdbcUrl(<span class="string">"jdbc:mysql://127.0.0.1:3306/database"</span>);</span><br><span class="line">    hikariConfig.setUsername(<span class="string">"root"</span>);</span><br><span class="line">    hikariConfig.setPassword(<span class="string">"123456"</span>);</span><br><span class="line">    <span class="comment">//è®¾ç½®å¯ä»¥è·å–tables remarksä¿¡æ¯</span></span><br><span class="line">    hikariConfig.addDataSourceProperty(<span class="string">"useInformationSchema"</span>, <span class="string">"true"</span>);</span><br><span class="line">    hikariConfig.setMinimumIdle(<span class="number">2</span>);</span><br><span class="line">    hikariConfig.setMaximumPoolSize(<span class="number">5</span>);</span><br><span class="line">    DataSource dataSource = <span class="keyword">new</span> HikariDataSource(hikariConfig);</span><br><span class="line"></span><br><span class="line">    ProcessConfig processConfig = ProcessConfig.builder()</span><br><span class="line">        <span class="comment">//æŒ‡å®šç”Ÿæˆé€»è¾‘ã€å½“å­˜åœ¨æŒ‡å®šè¡¨ã€æŒ‡å®šè¡¨å‰ç¼€ã€æŒ‡å®šè¡¨åç¼€æ—¶ï¼Œå°†ç”ŸæˆæŒ‡å®šè¡¨ï¼Œå…¶ä½™è¡¨ä¸ç”Ÿæˆã€å¹¶è·³è¿‡å¿½ç•¥è¡¨é…ç½®</span></span><br><span class="line">        <span class="comment">//æ ¹æ®åç§°æŒ‡å®šè¡¨ç”Ÿæˆ</span></span><br><span class="line">        .designatedTableName(<span class="keyword">new</span> ArrayList&lt;&gt;())</span><br><span class="line">        <span class="comment">//æ ¹æ®è¡¨å‰ç¼€ç”Ÿæˆ</span></span><br><span class="line">        .designatedTablePrefix(<span class="keyword">new</span> ArrayList&lt;&gt;())</span><br><span class="line">        <span class="comment">//æ ¹æ®è¡¨åç¼€ç”Ÿæˆ</span></span><br><span class="line">        .designatedTableSuffix(<span class="keyword">new</span> ArrayList&lt;&gt;()).build();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®¾ç½®ç”Ÿæˆpojoç›¸å…³é…ç½®</span></span><br><span class="line">    PojoConfiguration config = <span class="keyword">new</span> PojoConfiguration();</span><br><span class="line">    <span class="comment">//è®¾ç½®æ–‡ä»¶å­˜æ”¾è·¯å¾„</span></span><br><span class="line">    config.setPath(<span class="string">"/cn/smallbun/screw/"</span>);</span><br><span class="line">    <span class="comment">//è®¾ç½®åŒ…å</span></span><br><span class="line">    config.setPackageName(<span class="string">"cn.smallbun.screw"</span>);</span><br><span class="line">    <span class="comment">//è®¾ç½®æ˜¯å¦ä½¿ç”¨lombok</span></span><br><span class="line">    config.setUseLombok(<span class="keyword">false</span>);</span><br><span class="line">    <span class="comment">//è®¾ç½®æ•°æ®æº</span></span><br><span class="line">    config.setDataSource(dataSource);</span><br><span class="line">    <span class="comment">//è®¾ç½®å‘½åç­–ç•¥</span></span><br><span class="line">    config.setNameStrategy(<span class="keyword">new</span> HumpNameStrategy());</span><br><span class="line">    <span class="comment">//è®¾ç½®è¡¨è¿‡æ»¤é€»è¾‘</span></span><br><span class="line">    config.setProcessConfig(processConfig);</span><br><span class="line">    <span class="comment">//æ‰§è¡Œç”Ÿæˆ</span></span><br><span class="line">    <span class="keyword">new</span> PojoExecute(config).execute();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h2><div class="admonition note"><p class="admonition-title">é—®é¢˜ä¸€</p><p>ç”Ÿæˆçš„æ•°æ®åº“æ–‡æ¡£å‡ºç°ä¹±ç ï¼Ÿ</p></div><p>åœ¨è¿æ¥ MySQL çš„ URL ä¸­åŠ å…¥ <code>characterEncoding=UTF-8</code> å³å¯</p><div class="admonition note"><p class="admonition-title">é—®é¢˜äºŒ</p><p>MySQL æ•°æ®åº“è¡¨å’Œåˆ—å­—æ®µæœ‰æ³¨é‡Šï¼Œä½†ç”Ÿæˆçš„æ•°æ®åº“æ–‡æ¡£å´æ²¡æœ‰æ³¨é‡Šï¼Ÿ</p></div><p>åœ¨è¿æ¥ MySQL çš„ URL ä¸­åŠ å…¥ <code>useInformationSchema=true</code> å³å¯</p><div class="admonition note"><p class="admonition-title">é—®é¢˜ä¸‰</p><p>è¿è¡ŒæŠ›å‡ºå¼‚å¸¸ï¼š <code>Caused by: java.lang.NoSuchFieldError: VERSION_2_3_30</code></p></div><p>æ£€æŸ¥é¡¹ç›®ä¸­ <code>freemarker</code> çš„ä¾èµ–ç‰ˆæœ¬ï¼Œè¿™æ˜¯ç”±äºç‰ˆæœ¬è¿‡ä½é€ æˆçš„ï¼Œå‡çº§ç‰ˆæœ¬ä¸º <code>2.3.30</code> å³å¯</p><div class="admonition note"><p class="admonition-title">é—®é¢˜å››</p><p>è¿è¡ŒæŠ›å‡ºå¼‚å¸¸ï¼š <code>java.lang.AbstractMethodError: com.mysql.jdbc.JDBC4Connection.getSchema()Ljava/lang/String;</code></p></div><p>è¿™æ˜¯å› ä¸º MySQL é©±åŠ¨çš„ç‰ˆæœ¬è¿‡ä½é€ æˆçš„ï¼Œå‡çº§ MySQL é©±åŠ¨çš„ç‰ˆæœ¬ä¸ºæœ€æ–°å³å¯</p><div class="admonition note"><p class="admonition-title">é—®é¢˜äº”</p><p>è¿è¡ŒæŠ›å‡ºå¼‚å¸¸ï¼š <code>java.lang.AbstractMethodError: oracle.jdbc.driver.T4CConnection.getSchema()Ljava/lang/String;</code></p></div><p>è¿™æ˜¯å› ä¸º Oracle é©±åŠ¨ç‰ˆæœ¬è¿‡ä½é€ æˆçš„ï¼Œåˆ é™¤æˆ–å±è”½å½“å‰çš„é©±åŠ¨ç‰ˆæœ¬ï¼Œå¹¶å°†é©±åŠ¨å‡çº§ä¸ºä»¥ä¸‹ç‰ˆæœ¬ï¼š</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.oracle.ojdbc<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ojdbc8<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>19.3.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.easyproject<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>orai18n<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>12.1.0.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="æ–‡æ¡£ç”Ÿæˆæˆªå›¾"><a href="#æ–‡æ¡£ç”Ÿæˆæˆªå›¾" class="headerlink" title="æ–‡æ¡£ç”Ÿæˆæˆªå›¾"></a>æ–‡æ¡£ç”Ÿæˆæˆªå›¾</h2><p><img data-src="../../../asset/2022/07/screw-docs-1.png"></p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {try {var plugin = new ReadmorePlugin();plugin.init({"id": "readmore-container","blogId": "96641-5333172926158-056","name": "å…¨æ ˆæŠ€æœ¯é©¿ç«™","qrcode": "https://www.techgrow.cn/img/wx_mp_qr.png","keyword": "Tech","lockToc": "yes","type": "hexo","random": "0.9","interval": "30","expires": "365","height": "auto"});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦è®°å½•å¦‚ä½•é€šè¿‡ Java è‡ªåŠ¨ç”Ÿæˆæ•°æ®åº“æ–‡æ¡£ï¼ŒåŒ…æ‹¬ screw å·¥å…·çš„ä½¿ç”¨ã€‚</summary>
    
    
    
    
    <category term="Java" scheme="https://www.techgrow.cn/tags/Java/"/>
    
    <category term="æ•°æ®åº“" scheme="https://www.techgrow.cn/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>Go è¯­è¨€å…¥é—¨åŸºç¡€ä¹‹ä¸€</title>
    <link href="https://www.techgrow.cn/posts/42f8c3d7.html"/>
    <id>https://www.techgrow.cn/posts/42f8c3d7.html</id>
    <published>2022-07-19T12:23:35.000Z</published>
    <updated>2022-07-19T12:23:35.000Z</updated>
    
    <content type="html"><![CDATA[<!-- toc -->]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦ä»‹ç» Go è¯­è¨€çš„åŸºç¡€æ•™ç¨‹ã€‚</summary>
    
    
    
    <category term="hide" scheme="https://www.techgrow.cn/categories/hide/"/>
    
    
    <category term="Goè¯­è¨€" scheme="https://www.techgrow.cn/tags/Go%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>C++ è¿›é˜¶åŸºç¡€ä¹‹å…«</title>
    <link href="https://www.techgrow.cn/posts/8b87f2be.html"/>
    <id>https://www.techgrow.cn/posts/8b87f2be.html</id>
    <published>2022-07-12T14:55:34.000Z</published>
    <updated>2022-07-12T14:55:34.000Z</updated>
    
    <content type="html"><![CDATA[<div id="readmore-container"><!-- toc --><h2 id="stack-å®¹å™¨"><a href="#stack-å®¹å™¨" class="headerlink" title="stack å®¹å™¨"></a>stack å®¹å™¨</h2><h3 id="stack-å®¹å™¨çš„æ¦‚å¿µ"><a href="#stack-å®¹å™¨çš„æ¦‚å¿µ" class="headerlink" title="stack å®¹å™¨çš„æ¦‚å¿µ"></a>stack å®¹å™¨çš„æ¦‚å¿µ</h3><p><strong>stack æ˜¯ä¸€ç§å…ˆè¿›åå‡ºï¼ˆFirst In Last Outï¼ŒFILOï¼‰çš„æ•°æ®ç»“æ„ï¼Œå®ƒåªæœ‰ä¸€ä¸ªå‡ºå£ã€‚</strong>stack å®¹å™¨å…è®¸æ–°å¢å…ƒç´ ã€ç§»é™¤å…ƒç´ ã€å–å¾—æ ˆé¡¶å…ƒç´ ï¼Œä½†æ˜¯é™¤äº†æœ€é¡¶ç«¯çš„å…ƒç´ å¤–ï¼Œæ²¡æœ‰ä»»ä½•å…¶ä»–æ–¹æ³•å¯ä»¥å­˜å– stack ä¸­çš„å…¶ä»–å…ƒç´ ã€‚stack æ²¡æœ‰è¿­ä»£å™¨ï¼Œå®¹å™¨ä¸­æ‰€æœ‰å…ƒç´ çš„è¿›å‡ºéƒ½å¿…é¡»ç¬¦åˆ â€œå…ˆè¿›åå‡ºâ€ çš„è§„åˆ™ï¼Œåªæœ‰ stack æœ€é¡¶ç«¯çš„å…ƒç´ ï¼Œæ‰æœ‰æœºä¼šè¢«å¤–ç•Œå–ç”¨ã€‚æ¢è¨€ä¹‹ï¼Œ<strong>stack ä¸æä¾›éå†åŠŸèƒ½ï¼Œä¹Ÿä¸æä¾›è¿­ä»£å™¨ã€‚</strong>deque æ˜¯åŒå‘å¼€å£çš„æ•°æ®ç»“æ„ï¼Œè‹¥ä»¥ deque ä¸ºåº•éƒ¨ç»“æ„å¹¶å°é—­å…¶å¤´ç«¯å¼€å£ï¼Œä¾¿è½»è€Œæ˜“ä¸¾åœ°å½¢æˆä¸€ä¸ª stackã€‚å› æ­¤ï¼ŒSGI STL ä¾¿ä»¥ deque ä½œä¸ºç¼ºçœæƒ…å†µä¸‹çš„ stack åº•éƒ¨ç»“æ„ã€‚ç”±äº stack ä»¥åº•éƒ¨å®¹å™¨å®Œæˆå…¶æ‰€æœ‰å·¥ä½œï¼Œè€Œå…·æœ‰è¿™ç§ â€œä¿®æ”¹æŸç‰©æ¥å£ï¼Œå½¢æˆå¦ä¸€ç§é£è²Œâ€ çš„æ€§è´¨è€…ï¼Œç§°ä¸º <code>adapterï¼ˆé…æ¥å™¨ï¼‰</code>ï¼Œå› æ­¤ï¼ŒSTL stack å¾€å¾€ä¸è¢«å½’ç±»ä¸º <code>containerï¼ˆå®¹å™¨ï¼‰</code>ï¼Œè€Œè¢«å½’ç±»ä¸º <code>container adapterï¼ˆå®¹å™¨é…æ¥å™¨ï¼‰</code>ã€‚</p><p><img data-src="../../../asset/2022/07/cplusplus-stack-1.png"></p><span id="more"></span><h3 id="stack-å®¹å™¨çš„ä½¿ç”¨"><a href="#stack-å®¹å™¨çš„ä½¿ç”¨" class="headerlink" title="stack å®¹å™¨çš„ä½¿ç”¨"></a>stack å®¹å™¨çš„ä½¿ç”¨</h3><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printStack</span><span class="params">(stack&lt;<span class="keyword">int</span>&gt; &amp;s)</span> </span>{</span><br><span class="line">    <span class="comment">// åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    <span class="keyword">while</span> (!s.<span class="built_in">empty</span>()) {</span><br><span class="line">        <span class="comment">// è·å–æ ˆé¡¶å…ƒç´ </span></span><br><span class="line">        cout &lt;&lt; s.<span class="built_in">top</span>() &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        <span class="comment">// å¼¹å‡ºæ ˆé¡¶å…ƒç´ ï¼ˆå¼¹æ ˆï¼‰</span></span><br><span class="line">        s.<span class="built_in">pop</span>();</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="comment">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    stack&lt;<span class="keyword">int</span>&gt; s1;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‘æ ˆé¡¶æ·»åŠ å…ƒç´ ï¼ˆå‹æ ˆï¼‰</span></span><br><span class="line">    s1.<span class="built_in">push</span>(<span class="number">5</span>);</span><br><span class="line">    s1.<span class="built_in">push</span>(<span class="number">12</span>);</span><br><span class="line">    s1.<span class="built_in">push</span>(<span class="number">24</span>);</span><br><span class="line">    s1.<span class="built_in">push</span>(<span class="number">35</span>);</span><br><span class="line">    s1.<span class="built_in">push</span>(<span class="number">46</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printStack</span>(s1);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">    stack&lt;<span class="keyword">int</span>&gt; s2 = s1;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç¨‹åºè¿è¡Œè¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">46 35 24 12 5 </span><br></pre></td></tr></tbody></table></figure><h2 id="queue-å®¹å™¨"><a href="#queue-å®¹å™¨" class="headerlink" title="queue å®¹å™¨"></a>queue å®¹å™¨</h2><h3 id="queue-å®¹å™¨çš„æ¦‚å¿µ"><a href="#queue-å®¹å™¨çš„æ¦‚å¿µ" class="headerlink" title="queue å®¹å™¨çš„æ¦‚å¿µ"></a>queue å®¹å™¨çš„æ¦‚å¿µ</h3><p><strong>queue æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºï¼ˆFirst In First Outï¼ŒFIFOï¼‰çš„æ•°æ®ç»“æ„ï¼Œå®ƒæœ‰ä¸¤ä¸ªå‡ºå£ã€‚</strong>queue å®¹å™¨å…è®¸ä»ä¸€ç«¯æ–°å¢å…ƒç´ ï¼Œä»å¦ä¸€ç«¯ç§»é™¤å…ƒç´ ã€‚queue æ‰€æœ‰å…ƒç´ çš„è¿›å‡ºéƒ½å¿…é¡»ç¬¦åˆ â€ å…ˆè¿›å…ˆå‡ºâ€ çš„è§„åˆ™ï¼Œåªæœ‰ queue çš„é¡¶ç«¯å…ƒç´ ï¼Œæ‰æœ‰æœºä¼šè¢«å¤–ç•Œå–ç”¨ã€‚<strong>queue ä¸æä¾›éå†åŠŸèƒ½ï¼Œä¹Ÿä¸æä¾›è¿­ä»£å™¨ã€‚</strong>ç”±äº queue ä»¥åº•éƒ¨å®¹å™¨å®Œæˆå…¶æ‰€æœ‰å·¥ä½œï¼Œå› æ­¤ï¼ŒSTL queue å¾€å¾€ä¹Ÿä¸è¢«å½’ç±»ä¸º <code>containerï¼ˆå®¹å™¨ï¼‰</code>ï¼Œè€Œè¢«å½’ç±»ä¸º <code>container adapterï¼ˆå®¹å™¨é…æ¥å™¨ï¼‰</code>ã€‚</p><p><img data-src="../../../asset/2022/07/cplusplus-queue-1.png"></p><h3 id="queue-å®¹å™¨çš„ä½¿ç”¨"><a href="#queue-å®¹å™¨çš„ä½¿ç”¨" class="headerlink" title="queue å®¹å™¨çš„ä½¿ç”¨"></a>queue å®¹å™¨çš„ä½¿ç”¨</h3><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printQueue</span><span class="params">(queue&lt;<span class="keyword">int</span>&gt; &amp;q)</span> </span>{</span><br><span class="line">    <span class="comment">// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    <span class="keyword">while</span> (!q.<span class="built_in">empty</span>()) {</span><br><span class="line">        cout &lt;&lt; <span class="string">"å¤§å°: "</span> &lt;&lt; q.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">"é˜Ÿå¤´: "</span> &lt;&lt; q.<span class="built_in">front</span>() &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">"é˜Ÿå°¾: "</span> &lt;&lt; q.<span class="built_in">back</span>() &lt;&lt; endl;</span><br><span class="line">        <span class="comment">// å¼¹å‡ºï¼ˆåˆ é™¤ï¼‰é˜Ÿå¤´å…ƒç´ </span></span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="comment">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    queue&lt;<span class="keyword">int</span>&gt; q1;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¾€é˜Ÿå°¾æ·»åŠ å…ƒç´ </span></span><br><span class="line">    q1.<span class="built_in">push</span>(<span class="number">1</span>);</span><br><span class="line">    q1.<span class="built_in">push</span>(<span class="number">3</span>);</span><br><span class="line">    q1.<span class="built_in">push</span>(<span class="number">5</span>);</span><br><span class="line">    q1.<span class="built_in">push</span>(<span class="number">7</span>);</span><br><span class="line">    q1.<span class="built_in">push</span>(<span class="number">9</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¿”å›é˜Ÿåˆ—çš„å¤§å°</span></span><br><span class="line">    cout &lt;&lt; <span class="string">"size = "</span> &lt;&lt; q1.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    cout &lt;&lt; <span class="string">"first = "</span> &lt;&lt; q1.<span class="built_in">front</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    cout &lt;&lt; <span class="string">"last = "</span> &lt;&lt; q1.<span class="built_in">back</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printQueue</span>(q1);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">    queue&lt;<span class="keyword">int</span>&gt; q2 = q1;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç¨‹åºè¿è¡Œè¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">size = 5</span><br><span class="line">first = 1</span><br><span class="line">last = 9</span><br><span class="line">å¤§å°: 5</span><br><span class="line">é˜Ÿå¤´: 1</span><br><span class="line">é˜Ÿå°¾: 9</span><br><span class="line">å¤§å°: 4</span><br><span class="line">é˜Ÿå¤´: 3</span><br><span class="line">é˜Ÿå°¾: 9</span><br><span class="line">å¤§å°: 3</span><br><span class="line">é˜Ÿå¤´: 5</span><br><span class="line">é˜Ÿå°¾: 9</span><br><span class="line">å¤§å°: 2</span><br><span class="line">é˜Ÿå¤´: 7</span><br><span class="line">é˜Ÿå°¾: 9</span><br><span class="line">å¤§å°: 1</span><br><span class="line">é˜Ÿå¤´: 9</span><br><span class="line">é˜Ÿå°¾: 9</span><br></pre></td></tr></tbody></table></figure></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {try {var plugin = new ReadmorePlugin();plugin.init({"id": "readmore-container","blogId": "96641-5333172926158-056","name": "å…¨æ ˆæŠ€æœ¯é©¿ç«™","qrcode": "https://www.techgrow.cn/img/wx_mp_qr.png","keyword": "Tech","lockToc": "yes","type": "hexo","random": "0.9","interval": "30","expires": "365","height": "auto"});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦ä»‹ç» C++ çš„è¿›é˜¶åŸºç¡€æ•™ç¨‹ï¼ŒåŒ…æ‹¬ STL å‡ å¤§å®¹å™¨çš„ä½¿ç”¨ç­‰ã€‚</summary>
    
    
    
    
    <category term="C++" scheme="https://www.techgrow.cn/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>C++ è¿›é˜¶åŸºç¡€ä¹‹ä¸ƒ</title>
    <link href="https://www.techgrow.cn/posts/9e89901e.html"/>
    <id>https://www.techgrow.cn/posts/9e89901e.html</id>
    <published>2022-07-03T14:55:34.000Z</published>
    <updated>2022-07-03T14:55:34.000Z</updated>
    
    <content type="html"><![CDATA[<div id="readmore-container"><!-- toc --><h2 id="vector-å®¹å™¨"><a href="#vector-å®¹å™¨" class="headerlink" title="vector å®¹å™¨"></a>vector å®¹å™¨</h2><h3 id="vector-å®¹å™¨çš„æ¦‚å¿µ"><a href="#vector-å®¹å™¨çš„æ¦‚å¿µ" class="headerlink" title="vector å®¹å™¨çš„æ¦‚å¿µ"></a>vector å®¹å™¨çš„æ¦‚å¿µ</h3><p>vector çš„æ•°æ®å­˜å‚¨ä»¥åŠæ“ä½œæ–¹å¼ï¼Œä¸ Array éå¸¸ç›¸ä¼¼ï¼Œä¸¤è€…çš„å”¯ä¸€å·®åˆ«åœ¨äºç©ºé—´è¿ç”¨çš„çµæ´»æ€§ã€‚Array æ˜¯é™æ€ç©ºé—´ï¼Œä¸€æ—¦é…ç½®äº†å°±ä¸èƒ½æ”¹å˜ï¼Œè¦æ¢å¤§ä¸€ç‚¹æˆ–è€…å°ä¸€ç‚¹çš„ç©ºé—´ï¼Œå¯ä»¥ï¼Œä¸€åˆ‡çç¢çš„ç»†èŠ‚å¾—ç”±è‡ªå·±æ¥å®ç°ï¼›é¦–å…ˆé…ç½®ä¸€å—æ–°çš„ç©ºé—´ï¼Œç„¶åå°†æ—§ç©ºé—´çš„æ•°æ®æ¬å¾€æ–°ç©ºé—´ï¼Œå†é‡Šæ”¾åŸæ¥çš„ç©ºé—´ã€‚Vector æ˜¯åŠ¨æ€ç©ºé—´ï¼Œéšç€å…ƒç´ çš„åŠ å…¥ï¼Œå®ƒçš„å†…éƒ¨æœºåˆ¶ä¼šè‡ªåŠ¨æ‰©å……ç©ºé—´ä»¥å®¹çº³æ–°å…ƒç´ ã€‚å› æ­¤ vector çš„è¿ç”¨å¯¹äºå†…å­˜çš„åˆç†åˆ©ç”¨ä¸è¿ç”¨çš„çµæ´»æ€§æœ‰å¾ˆå¤§çš„å¸®åŠ©ï¼Œæˆ‘ä»¬å†ä¹Ÿä¸å¿…å®³æ€•ç©ºé—´ä¸è¶³è€Œä¸€å¼€å§‹å°±åˆå§‹åŒ–ä¸€ä¸ªå¤§çš„ Array äº†ã€‚Vector çš„å®ç°æŠ€æœ¯ï¼Œå…³é”®åœ¨äºå…¶å¯¹å¤§å°çš„æ§åˆ¶ä»¥åŠé‡æ–°é…ç½®æ—¶çš„æ•°æ®ç§»åŠ¨æ•ˆç‡ï¼Œä¸€æ—¦ vector æ—§ç©ºé—´æ»¡äº†ï¼Œå¦‚æœå®¢æˆ·æ¯æ–°å¢ä¸€ä¸ªå…ƒç´  vector å†…éƒ¨åªæ˜¯æ‰©å……ä¸€ä¸ªå…ƒç´ çš„ç©ºé—´ï¼Œå®ä¸ºä¸æ™ºï¼Œå› ä¸ºæ‰€è°“çš„æ‰©å……ç©ºé—´ï¼ˆä¸è®ºå¤šå¤§ï¼‰ï¼Œä¸€å¦‚åˆšæ‰€è¯´ï¼Œæ˜¯ â€œé…ç½®æ–°ç©ºé—´ - æ•°æ®ç§»åŠ¨ - é‡Šæ”¾æ—§ç©ºé—´â€ çš„å¤§å·¥ç¨‹ï¼Œæ—¶é—´æˆæœ¬å¾ˆé«˜ï¼Œåº”è¯¥åŠ å…¥æŸç§æœªé›¨ç»¸ç¼ªçš„è€ƒè™‘ã€‚</p><h3 id="vector-å®¹å™¨çš„æ•°æ®ç»“æ„"><a href="#vector-å®¹å™¨çš„æ•°æ®ç»“æ„" class="headerlink" title="vector å®¹å™¨çš„æ•°æ®ç»“æ„"></a>vector å®¹å™¨çš„æ•°æ®ç»“æ„</h3><p><img data-src="../../../asset/2022/07/cplusplus-vector-1.png"></p><span id="more"></span><p>vector æ‰€é‡‡ç”¨çš„æ•°æ®ç»“æ„æ˜¯çº¿æ€§è¿ç»­ç©ºé—´ï¼ˆå•å‘å¼€å£çš„è¿ç»­å†…å­˜ç©ºé—´ï¼‰ï¼Œå®ƒä»¥ä¸¤ä¸ªè¿­ä»£å™¨ï¼ˆ<code>_Myfirst</code> å’Œ <code>_Mylast</code>ï¼‰åˆ†åˆ«æŒ‡å‘é…ç½®å¾—æ¥çš„è¿ç»­ç©ºé—´ä¸­ç›®å‰å·²è¢«ä½¿ç”¨çš„èŒƒå›´ï¼Œå¹¶ä»¥è¿­ä»£å™¨ <code>_Myend</code> æŒ‡å‘æ•´å—è¿ç»­å†…å­˜ç©ºé—´çš„å°¾ç«¯ã€‚<strong>vector å¾€å°¾éƒ¨æ·»åŠ æˆ–ç§»é™¤å…ƒç´ çš„æ•ˆç‡éå¸¸é«˜ï¼Œä½†æ˜¯å¾€å¤´éƒ¨æˆ–è€…ä¸­éƒ¨æ’å…¥å…ƒç´ æˆ–ç§»é™¤å…ƒç´ åˆ™æ¯”è¾ƒè´¹æ—¶ã€‚</strong>ä¸ºäº†é™ä½ç©ºé—´é…ç½®æ—¶çš„é€Ÿåº¦æˆæœ¬ï¼Œvector å®é™…é…ç½®çš„å¤§å°å¯èƒ½æ¯”å®¢æˆ·ç«¯éœ€æ±‚å¤§ä¸€äº›ï¼Œä»¥åº”ä»˜å°†æ¥å¯èƒ½çš„æ‰©å……ï¼Œè¿™é‡Œæ˜¯å®¹é‡çš„æ¦‚å¿µã€‚æ¢å¥è¯è¯´ï¼Œä¸€ä¸ª vector çš„å®¹é‡æ°¸è¿œå¤§äºæˆ–ç­‰äºå…¶å¤§å°ï¼Œä¸€æ—¦å®¹é‡ç­‰äºå¤§å°ï¼Œä¾¿æ˜¯æ»¡è½½ï¼Œä¸‹æ¬¡å†éœ€è¦æ–°å¢å…ƒç´ æ—¶ï¼Œæ•´ä¸ª vector å®¹å™¨å°±å¾—å¦è§…å±…æ‰€ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œæ‰€è°“åŠ¨æ€å¢åŠ å¤§å°ï¼Œå¹¶ä¸æ˜¯åœ¨åŸç©ºé—´ä¹‹åç»­æ¥æ–°ç©ºé—´ï¼ˆå› ä¸ºæ— æ³•ä¿è¯åŸç©ºé—´ä¹‹åå°šæœ‰å¯é…ç½®çš„ç©ºé—´ï¼‰ï¼Œè€Œæ˜¯ç”³è¯·ä¸€å—æ›´å¤§çš„å†…å­˜ç©ºé—´ï¼Œç„¶åå°†åŸæ•°æ®æ‹·è´åˆ°æ–°ç©ºé—´ï¼Œå¹¶é‡Šæ”¾åŸç©ºé—´ã€‚å› æ­¤ï¼Œå¯¹ vector çš„ä»»ä½•æ“ä½œï¼Œä¸€æ—¦å¼•èµ·ç©ºé—´çš„é‡æ–°é…ç½®ï¼ŒæŒ‡å‘åŸ vector çš„æ‰€æœ‰è¿­ä»£å™¨å°±éƒ½å¤±æ•ˆäº†ï¼Œè¿™æ˜¯ç¨‹åºå®¹æ˜“å‡ºé”™çš„åœ°æ–¹ï¼ŒåŠ¡å¿…å°å¿ƒã€‚</p><h3 id="vector-å®¹å™¨çš„è¿­ä»£å™¨"><a href="#vector-å®¹å™¨çš„è¿­ä»£å™¨" class="headerlink" title="vector å®¹å™¨çš„è¿­ä»£å™¨"></a>vector å®¹å™¨çš„è¿­ä»£å™¨</h3><p>vector ç»´æŠ¤äº†ä¸€ä¸ªçº¿æ€§ç©ºé—´ï¼Œæ‰€ä»¥ä¸è®ºå…ƒç´ çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Œæ™®é€šæŒ‡é’ˆéƒ½å¯ä»¥ä½œä¸º vector çš„è¿­ä»£å™¨ï¼Œå› ä¸º vector è¿­ä»£å™¨æ‰€éœ€è¦çš„æ“ä½œè¡Œä¸ºï¼Œå¦‚ <code>operaroe*, operator-&gt;, operator++, operator--, operator+, operator-, operator+=, operator-=</code> éƒ½æ˜¯æ™®é€šæŒ‡é’ˆå¤©ç”Ÿå…·å¤‡çš„ã€‚vector æ”¯æŒéšæœºå­˜å–ï¼Œè€Œæ™®é€šæŒ‡é’ˆæ­£æœ‰ç€è¿™æ ·çš„èƒ½åŠ›ï¼Œæ‰€ä»¥ <strong>vector æä¾›çš„æ˜¯éšæœºè®¿é—®è¿­ä»£å™¨ï¼ˆRandom Access Iteratorsï¼‰ï¼Œæ”¯æŒéšæœºå­˜å–å…ƒç´ ã€‚</strong>æ ¹æ®å‰é¢çš„æè¿°ï¼Œå¯ä»¥å†™å¦‚ä¸‹çš„ä»£ç ï¼š</p><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="comment">// å£°æ˜å®¹å™¨</span></span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt; v1;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ’å…¥å®¹å™¨æ•°æ®</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) {</span><br><span class="line">        v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">        cout &lt;&lt; i &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// vector çš„è¿­ä»£å™¨æ˜¯éšæœºè®¿é—®è¿­ä»£å™¨ï¼Œæ”¯æŒè·³è·ƒå¼è®¿é—®ï¼ˆéšæœºå­˜å–å…ƒç´ ï¼‰</span></span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt;::iterator itBegin = v1.<span class="built_in">begin</span>();</span><br><span class="line">    itBegin = itBegin + <span class="number">2</span>;</span><br><span class="line">    cout &lt;&lt; *itBegin &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç¨‹åºè¿è¡Œè¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0 1 2 3 4 5 6 7 8 9 </span><br><span class="line">2</span><br></pre></td></tr></tbody></table></figure><h3 id="vector-å®¹å™¨çš„ä½¿ç”¨"><a href="#vector-å®¹å™¨çš„ä½¿ç”¨" class="headerlink" title="vector å®¹å™¨çš„ä½¿ç”¨"></a>vector å®¹å™¨çš„ä½¿ç”¨</h3><h4 id="vector-çš„æ„é€ ä¸èµ‹å€¼"><a href="#vector-çš„æ„é€ ä¸èµ‹å€¼" class="headerlink" title="vector çš„æ„é€ ä¸èµ‹å€¼"></a>vector çš„æ„é€ ä¸èµ‹å€¼</h4><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;T&gt; v;                        // é»˜è®¤æ„é€ å‡½æ•°ï¼Œé‡‡ç”¨æ¨¡æ¿å®ç°ç±»å®ç°</span><br><span class="line">vector(v.begin(), v.end());         // æœ‰å‚æ„é€ å‡½æ•°ï¼Œå°† v[begin(), end()] åŒºé—´ä¸­çš„å…ƒç´ æ‹·è´ç»™æœ¬èº«</span><br><span class="line">vector(n, elem);                    // æœ‰å‚æ„é€ å‡½æ•°ï¼Œå°† n ä¸ª elem å…ƒç´ æ‹·è´ç»™æœ¬èº«</span><br><span class="line">vector(const vector &amp;vec);          // æ‹·è´æ„é€ å‡½æ•°</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printVector</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt; &amp;v)</span> </span>{</span><br><span class="line">    <span class="comment">// éå†å®¹å™¨</span></span><br><span class="line">    <span class="keyword">for</span> (vector&lt;<span class="keyword">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++) {</span><br><span class="line">        cout &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> arr[] = {<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>};</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">"------ vector æ„é€ å‡½æ•° ------"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt; v1;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æœ‰å‚æ„é€ å‡½æ•°ï¼Œå°† v[begin(), end()] åŒºé—´ä¸­çš„å…ƒç´ æ‹·è´ç»™æœ¬èº«</span></span><br><span class="line">    <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">v2</span><span class="params">(arr, arr + <span class="keyword">sizeof</span>(arr) / <span class="keyword">sizeof</span>(<span class="keyword">int</span>))</span></span>;</span><br><span class="line">    <span class="built_in">printVector</span>(v2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æœ‰å‚æ„é€ å‡½æ•°ï¼Œå°† v[begin(), end()] åŒºé—´ä¸­çš„å…ƒç´ æ‹·è´ç»™æœ¬èº«</span></span><br><span class="line">    <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">v3</span><span class="params">(v2.begin(), v2.end())</span></span>;</span><br><span class="line">    <span class="built_in">printVector</span>(v3);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æœ‰å‚æ„é€ å‡½æ•°ï¼Œå°† n ä¸ª elem å…ƒç´ æ‹·è´ç»™æœ¬èº«</span></span><br><span class="line">    <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">v4</span><span class="params">(<span class="number">5</span>, <span class="number">10</span>)</span></span>;</span><br><span class="line">    <span class="built_in">printVector</span>(v4);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt; v5 = v4;</span><br><span class="line">    <span class="built_in">printVector</span>(v5);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">"------ vector èµ‹å€¼æ“ä½œ ------"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èµ‹å€¼æ“ä½œï¼Œå°† v[begin(), end()] åŒºé—´ä¸­çš„å…ƒç´ æ‹·è´ç»™æœ¬èº«</span></span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt; v6;</span><br><span class="line">    v6.<span class="built_in">assign</span>(v5.<span class="built_in">begin</span>(), v5.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">printVector</span>(v6);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èµ‹å€¼æ“ä½œï¼Œå°† n ä¸ª elem å…ƒç´ æ‹·è´ç»™æœ¬èº«</span></span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt; v7;</span><br><span class="line">    v7.<span class="built_in">assign</span>(<span class="number">5</span>, <span class="number">8</span>);</span><br><span class="line">    <span class="built_in">printVector</span>(v7);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èµ‹å€¼æ“ä½œï¼Œé‡è½½ç­‰å·æ“ä½œç¬¦</span></span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt; v8;</span><br><span class="line">    v8 = v6;</span><br><span class="line">    <span class="built_in">printVector</span>(v8);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èµ‹å€¼æ“ä½œï¼Œå°†å…¶ä»–å®¹å™¨ä¸æœ¬èº«çš„å…ƒç´ äº’æ¢ï¼Œåˆ©ç”¨ swap() å¯ä»¥æ”¶ç¼©ç©ºé—´</span></span><br><span class="line">    v8.<span class="built_in">swap</span>(v7);</span><br><span class="line">    <span class="built_in">printVector</span>(v8);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç¨‹åºè¿è¡Œè¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">------ vector æ„é€ å‡½æ•° ------</span><br><span class="line">1 2 3 4 5 </span><br><span class="line">1 2 3 4 5 </span><br><span class="line">10 10 10 10 10 </span><br><span class="line">10 10 10 10 10 </span><br><span class="line">------ vector èµ‹å€¼æ“ä½œ ------</span><br><span class="line">10 10 10 10 10 </span><br><span class="line">8 8 8 8 8 </span><br><span class="line">10 10 10 10 10 </span><br><span class="line">8 8 8 8 8 </span><br></pre></td></tr></tbody></table></figure><h4 id="vector-çš„å¸¸ç”¨æ“ä½œ"><a href="#vector-çš„å¸¸ç”¨æ“ä½œ" class="headerlink" title="vector çš„å¸¸ç”¨æ“ä½œ"></a>vector çš„å¸¸ç”¨æ“ä½œ</h4><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printVector</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt; &amp;v)</span> </span>{</span><br><span class="line">    <span class="comment">// éå†vector</span></span><br><span class="line">    <span class="keyword">for</span> (vector&lt;<span class="keyword">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++) {</span><br><span class="line">        cout &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt; v1;</span><br><span class="line">    v1.<span class="built_in">assign</span>(<span class="number">5</span>, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">"------ vector å¤§å°ã€å®¹é‡æ“ä½œ ------"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–å®¹å™¨ä¸­å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">size_t</span> size = v1.<span class="built_in">size</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">"size = "</span> &lt;&lt; size &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    <span class="keyword">bool</span> empty = v1.<span class="built_in">empty</span>();</span><br><span class="line">    cout &lt;&lt; (empty == <span class="number">0</span> ? <span class="string">"true"</span> : <span class="string">"false"</span>) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é‡æ–°æŒ‡å®šå®¹å™¨çš„å¤§å°ä¸º numï¼Œè‹¥å®¹å™¨å˜å¤§ï¼Œåˆ™ä»¥é»˜è®¤å€¼ï¼ˆ0ï¼‰å¡«å……æ–°ä½ç½®ã€‚å¦‚æœå®¹å™¨å˜å°ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨å¤§å°çš„å…ƒç´ ä¼šè¢«åˆ é™¤</span></span><br><span class="line">    v1.<span class="built_in">resize</span>(<span class="number">7</span>);</span><br><span class="line">    <span class="built_in">printVector</span>(v1);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é‡æ–°æŒ‡å®šå®¹å™¨çš„å¤§å°ä¸º numï¼Œè‹¥å®¹å™¨å˜å¤§ï¼Œåˆ™ä»¥æŒ‡å®šå€¼å¡«å……æ–°ä½ç½®ã€‚å¦‚æœå®¹å™¨å˜å°ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨å¤§å°çš„å…ƒç´ ä¼šè¢«åˆ é™¤</span></span><br><span class="line">    v1.<span class="built_in">resize</span>(<span class="number">10</span>, <span class="number">8</span>);</span><br><span class="line">    <span class="built_in">printVector</span>(v1);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–å®¹å™¨çš„å®¹é‡</span></span><br><span class="line">    <span class="keyword">size_t</span> capacity = v1.<span class="built_in">capacity</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">"capacity = "</span> &lt;&lt; capacity &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">"------ vector æ•°æ®è¯»å–æ“ä½œ ------"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt; v2;</span><br><span class="line">    v2.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">    v2.<span class="built_in">push_back</span>(<span class="number">6</span>);</span><br><span class="line">    v2.<span class="built_in">push_back</span>(<span class="number">9</span>);</span><br><span class="line">    v2.<span class="built_in">push_back</span>(<span class="number">12</span>);</span><br><span class="line">    v2.<span class="built_in">push_back</span>(<span class="number">15</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ç´¢å¼•æ‰€æŒ‡å‘çš„æ•°æ®ï¼Œå¦‚æœç´¢å¼•è¶Šç•Œï¼ŒæŠ›å‡º out_of_range å¼‚å¸¸</span></span><br><span class="line">    <span class="keyword">int</span> num1 = v2.<span class="built_in">at</span>(<span class="number">1</span>);</span><br><span class="line">    cout &lt;&lt; <span class="string">"num1 = "</span> &lt;&lt; num1 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ç´¢å¼•æ‰€æŒ‡å‘çš„æ•°æ®ï¼Œå¦‚æœç´¢å¼•è¶Šç•Œï¼Œç¨‹åºç»ˆæ­¢è¿è¡Œ</span></span><br><span class="line">    <span class="keyword">int</span> num2 = v2[<span class="number">3</span>];</span><br><span class="line">    cout &lt;&lt; <span class="string">"num2 = "</span> &lt;&lt; num2 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªæ•°æ®å…ƒç´ </span></span><br><span class="line">    <span class="keyword">int</span> font = v2.<span class="built_in">front</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">"font = "</span> &lt;&lt; font &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›å®¹å™¨ä¸­æœ€åä¸€ä¸ªæ•°æ®å…ƒç´ </span></span><br><span class="line">    <span class="keyword">int</span> back = v2.<span class="built_in">back</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">"back = "</span> &lt;&lt; back &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">"------ vector æ’å…¥å’Œåˆ é™¤æ“ä½œ ------"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¾€è¿­ä»£å™¨æŒ‡å‘çš„ä½ç½®æ’å…¥ n ä¸ªæŒ‡å®šçš„å…ƒç´ ï¼Œå…¶ä¸­å…ƒç´ ä¸ªæ•°å¯ä»¥çœç•¥</span></span><br><span class="line">    <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">v3</span><span class="params">(<span class="number">5</span>, <span class="number">8</span>)</span></span>;</span><br><span class="line">    v3.<span class="built_in">insert</span>(v3.<span class="built_in">begin</span>(), <span class="number">2</span>, <span class="number">10</span>);</span><br><span class="line">    <span class="built_in">printVector</span>(v3);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¾€å®¹å™¨çš„å°¾éƒ¨æ’å…¥å…ƒç´ </span></span><br><span class="line">    v3.<span class="built_in">push_back</span>(<span class="number">11</span>);</span><br><span class="line">    <span class="built_in">printVector</span>(v3);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    v3.<span class="built_in">pop_back</span>();</span><br><span class="line">    <span class="built_in">printVector</span>(v3);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤è¿­ä»£å™¨æŒ‡å‘çš„å…ƒç´ ï¼Œè¿­ä»£å™¨å°±æ˜¯æŒ‡é’ˆ</span></span><br><span class="line">    v3.<span class="built_in">erase</span>(v3.<span class="built_in">begin</span>());</span><br><span class="line">    <span class="built_in">printVector</span>(v3);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤è¿­ä»£å™¨ä» start åˆ° end ä¹‹é—´çš„å…ƒç´ </span></span><br><span class="line">    v3.<span class="built_in">erase</span>(v3.<span class="built_in">begin</span>(), v3.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">if</span> (v3.<span class="built_in">empty</span>()) {</span><br><span class="line">        cout &lt;&lt; <span class="string">"vector is empty"</span> &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤å®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">    v3.<span class="built_in">clear</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç¨‹åºè¿è¡Œè¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">------ vector å¤§å°ã€å®¹é‡æ“ä½œ ------</span><br><span class="line">size = 5</span><br><span class="line">true</span><br><span class="line">10 10 10 10 10 0 0 </span><br><span class="line">10 10 10 10 10 0 0 8 8 8 </span><br><span class="line">capacity = 10</span><br><span class="line">------ vector æ•°æ®å­˜å–æ“ä½œ ------</span><br><span class="line">num1 = 6</span><br><span class="line">num2 = 12</span><br><span class="line">font = 3</span><br><span class="line">back = 15</span><br><span class="line">------ vector æ’å…¥å’Œåˆ é™¤æ“ä½œ ------</span><br><span class="line">10 10 8 8 8 8 8 </span><br><span class="line">10 10 8 8 8 8 8 11 </span><br><span class="line">10 10 8 8 8 8 8 </span><br><span class="line">10 8 8 8 8 8 </span><br><span class="line">vector is empty</span><br></pre></td></tr></tbody></table></figure><h4 id="vector-é€†åºéå†"><a href="#vector-é€†åºéå†" class="headerlink" title="vector é€†åºéå†"></a>vector é€†åºéå†</h4><p>å®¹å™¨è¿­ä»£å™¨çš„ç±»å‹ï¼š</p><ul><li><code>iterator</code>ï¼šæ™®é€šè¿­ä»£å™¨</li><li><code>const_iterator</code>ï¼šåªè¯»è¿­ä»£å™¨</li><li><code>reverse_iterator</code>ï¼šé€†åºè¿­ä»£å™¨ </li></ul><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt; v1;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) {</span><br><span class="line">        v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é¡ºåºéå†å®¹å™¨</span></span><br><span class="line">    <span class="keyword">for</span> (vector&lt;<span class="keyword">int</span>&gt;::iterator it = v1.<span class="built_in">begin</span>(); it != v1.<span class="built_in">end</span>(); it++) {</span><br><span class="line">        cout &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€†åºéå†å®¹å™¨ï¼ˆä½¿ç”¨é€†åºè¿­ä»£å™¨ï¼‰</span></span><br><span class="line">    <span class="keyword">for</span> (vector&lt;<span class="keyword">int</span>&gt;::reverse_iterator it = v1.<span class="built_in">rbegin</span>(); it != v1.<span class="built_in">rend</span>(); it++) {</span><br><span class="line">        cout &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// vector çš„è¿­ä»£å™¨æ˜¯éšæœºè®¿é—®è¿­ä»£å™¨ï¼Œæ”¯æŒè·³è·ƒå¼è®¿é—®</span></span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt;::iterator itBegin = v1.<span class="built_in">begin</span>();</span><br><span class="line">    itBegin = itBegin + <span class="number">2</span>;</span><br><span class="line">    cout &lt;&lt; *itBegin &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç¨‹åºè¿è¡Œè¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0 1 2 3 4 5 6 7 8 9 </span><br><span class="line">9 8 7 6 5 4 3 2 1 0 </span><br><span class="line">2</span><br></pre></td></tr></tbody></table></figure><h4 id="vector-æ”¶ç¼©ç©ºé—´"><a href="#vector-æ”¶ç¼©ç©ºé—´" class="headerlink" title="vector æ”¶ç¼©ç©ºé—´"></a>vector æ”¶ç¼©ç©ºé—´</h4><p>ç»“åˆ C++ çš„åŒ¿åå¯¹è±¡å’Œ vector å®¹å™¨çš„ <code>swap()</code> å‡½æ•°ï¼Œå¯ä»¥å®ç°æ”¶ç¼© vector å®¹å™¨çš„ç©ºé—´ã€‚</p><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt; v1;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ’å…¥å®¹å™¨æ•°æ®</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++) {</span><br><span class="line">        v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">"size = "</span> &lt;&lt; v1.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">"capacity = "</span> &lt;&lt; v1.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é‡æ–°æŒ‡å®šå®¹å™¨çš„å¤§å°ï¼Œæ­¤æ—¶å®¹å™¨çš„å®¹é‡ä¸ä¼šæ”¹å˜</span></span><br><span class="line">    v1.<span class="built_in">resize</span>(<span class="number">5</span>);</span><br><span class="line">    cout &lt;&lt; <span class="string">"size = "</span> &lt;&lt; v1.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">"capacity = "</span> &lt;&lt; v1.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å·§ç”¨åŒ¿åå¯¹è±¡å’Œ swap() å‡½æ•°æ”¶ç¼© vector å®¹å™¨çš„ç©ºé—´</span></span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt;(v1).<span class="built_in">swap</span>(v1);</span><br><span class="line">    cout &lt;&lt; <span class="string">"size = "</span> &lt;&lt; v1.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">"capacity = "</span> &lt;&lt; v1.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç¨‹åºè¿è¡Œè¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">size = 100000</span><br><span class="line">capacity = 131072</span><br><span class="line">size = 5</span><br><span class="line">capacity = 131072</span><br><span class="line">size = 5</span><br><span class="line">capacity = 5</span><br></pre></td></tr></tbody></table></figure><h4 id="vector-é¢„ç•™ç©ºé—´"><a href="#vector-é¢„ç•™ç©ºé—´" class="headerlink" title="vector é¢„ç•™ç©ºé—´"></a>vector é¢„ç•™ç©ºé—´</h4><p><code>reserve()</code> å‡½æ•°å¯ä»¥è®© vector å®¹å™¨é¢„ç•™æŒ‡å®šçš„ç©ºé—´ï¼Œå°¤å…¶åœ¨å¤§æ•°æ®é‡æ’å…¥çš„æƒ…å†µä¸‹ï¼Œè¿™å¯ä»¥å‡å°‘ vector å®¹å™¨é¢‘ç¹æ‰©å……å®¹é‡å¸¦æ¥çš„é¢å¤–æ€§èƒ½å¼€é”€ï¼Œä»è€Œæå‡ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚</p><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initData</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt; &amp;v, <span class="keyword">size_t</span> size, <span class="keyword">bool</span> reserve)</span> </span>{</span><br><span class="line">    <span class="comment">// é¢„ç•™ç©ºé—´</span></span><br><span class="line">    <span class="keyword">if</span> (reserve) {</span><br><span class="line">        v.<span class="built_in">reserve</span>(size);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> *pStart = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) {</span><br><span class="line">        <span class="comment">// æ’å…¥å®¹å™¨æ•°æ®</span></span><br><span class="line">        v.<span class="built_in">push_back</span>(i);</span><br><span class="line">        <span class="comment">// ç»Ÿè®¡å®¹å™¨æ”¹å˜å®¹é‡çš„æ¬¡æ•°</span></span><br><span class="line">        <span class="keyword">if</span> (pStart != &amp;v[<span class="number">0</span>]) {</span><br><span class="line">            pStart = &amp;v[<span class="number">0</span>];</span><br><span class="line">            count++;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; <span class="string">"count : "</span> &lt;&lt; count &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="comment">// ä¸ç”³è¯·é¢„è§ˆç©ºé—´</span></span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt; v1;</span><br><span class="line">    <span class="built_in">initData</span>(v1, <span class="number">100000</span>, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”³è¯·é¢„è§ˆç©ºé—´</span></span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt; v2;</span><br><span class="line">    <span class="built_in">initData</span>(v2, <span class="number">100000</span>, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç¨‹åºè¿è¡Œè¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">count : 18</span><br><span class="line">count : 1</span><br></pre></td></tr></tbody></table></figure><h2 id="deque-å®¹å™¨"><a href="#deque-å®¹å™¨" class="headerlink" title="deque å®¹å™¨"></a>deque å®¹å™¨</h2><h3 id="deque-å®¹å™¨çš„æ¦‚å¿µ"><a href="#deque-å®¹å™¨çš„æ¦‚å¿µ" class="headerlink" title="deque å®¹å™¨çš„æ¦‚å¿µ"></a>deque å®¹å™¨çš„æ¦‚å¿µ</h3><p><strong>vector æ˜¯å•å‘å¼€å£çš„è¿ç»­çº¿æ€§ç©ºé—´ï¼Œè€Œ deque åˆ™æ˜¯ä¸€ç§åŒå‘å¼€å£çš„è¿ç»­çº¿æ€§ç©ºé—´ã€‚</strong>æ‰€è°“åŒå‘å¼€å£ï¼Œæ„æ€æ˜¯å¯ä»¥åœ¨å¤´å°¾ä¸¤ç«¯åˆ†åˆ«è¿›è¡Œå…ƒç´ çš„æ’å…¥å’Œç§»é™¤æ“ä½œã€‚è™½ç„¶ vector ä¹Ÿå¯ä»¥åœ¨å¤´å°¾ä¸¤ç«¯è¿›è¡Œæ“ä½œï¼Œä½†æ˜¯å…¶å¤´éƒ¨æ“ä½œçš„æ•ˆç‡éå¸¸ä½ï¼Œæ— æ³•è¢«æ¥å—ã€‚deque å’Œ vector çš„æœ€å¤§å·®å¼‚ï¼Œä¸€åœ¨äº deque å…è®¸äºå¸¸æ•°é¡¹æ—¶é—´å†…å¯¹å¤´ç«¯è¿›è¡Œå…ƒç´ çš„æ’å…¥æˆ–ç§»é™¤æ“ä½œï¼ŒäºŒåœ¨äº <strong>deque æ²¡æœ‰æ‰€è°“å®¹é‡ <code>capacity</code> çš„è§‚å¿µï¼Œå› ä¸ºå®ƒæ˜¯åŠ¨æ€åœ°ä»¥åˆ†æ®µè¿ç»­ç©ºé—´ç»„åˆè€Œæˆï¼Œéšæ—¶å¯ä»¥å¢åŠ ä¸€æ®µæ–°çš„ç©ºé—´å¹¶é“¾æ¥èµ·æ¥ã€‚</strong>æ¢å¥è¯è¯´ï¼Œåƒ vector é‚£æ ·å› æ—§ç©ºé—´ä¸è¶³è€Œé‡æ–°é…ç½®ä¸€å—æ›´å¤§çš„ç©ºé—´ï¼Œç„¶åæ‹·è´å…ƒç´ ï¼Œå†é‡Šæ”¾æ—§ç©ºé—´è¿™æ ·çš„äº‹æƒ…ä¸ä¼šå‘ç”Ÿåœ¨ deque èº«ä¸Šï¼Œä¹Ÿå› æ­¤ deque æ²¡æœ‰å¿…è¦æä¾›æ‰€è°“çš„ç©ºé—´ä¿ç•™ï¼ˆreserveï¼‰åŠŸèƒ½ã€‚è™½ç„¶ deque ä¹Ÿæä¾›äº†éšæœºè¿­ä»£å™¨ï¼ˆRandom Access Iteratorï¼‰ï¼Œä½†æ˜¯å®ƒçš„è¿­ä»£å™¨å¹¶ä¸æ˜¯æ™®é€šçš„æŒ‡é’ˆï¼Œå…¶å¤æ‚åº¦å’Œ vector ä¸æ˜¯ä¸€ä¸ªé‡çº§ï¼Œè¿™ä¼šå½±å“å„ä¸ªå±‚é¢çš„è¿ç®—æ•ˆç‡ã€‚å› æ­¤ï¼Œé™¤éæœ‰å¿…è¦ï¼Œåº”è¯¥å°½å¯èƒ½çš„ä½¿ç”¨ vectorï¼Œè€Œä¸æ˜¯ dequeã€‚å¯¹ deque è¿›è¡Œçš„æ’åºæ“ä½œï¼Œä¸ºäº†æé«˜æ•ˆç‡ï¼Œå¯å°† deque å…ˆå®Œæ•´çš„å¤åˆ¶åˆ°ä¸€ä¸ª vector ä¸­ï¼Œç„¶åå¯¹ vector å®¹å™¨è¿›è¡Œæ’åºï¼Œå†å¤åˆ¶å› dequeã€‚</p><p><img data-src="../../../asset/2022/07/cplusplus-deque-1.png"></p><h3 id="deque-å®¹å™¨çš„å®ç°åŸç†"><a href="#deque-å®¹å™¨çš„å®ç°åŸç†" class="headerlink" title="deque å®¹å™¨çš„å®ç°åŸç†"></a>deque å®¹å™¨çš„å®ç°åŸç†</h3><p><strong>deque æœ¬è´¨ç”±ä¸€æ®µä¸€æ®µçš„å®šé‡è¿ç»­ç©ºé—´ï¼ˆåˆ†æ®µè¿ç»­å†…å­˜ç©ºé—´ï¼‰æ„é€ è€Œæˆï¼Œä¸€æ—¦æœ‰å¿…è¦åœ¨ deque çš„å¤´ç«¯æˆ–å°¾ç«¯å¢åŠ æ–°ç©ºé—´ï¼Œä¾¿ä¼šé…ç½®ä¸€æ®µæ–°çš„å®šé‡è¿ç»­ç©ºé—´ï¼Œç„¶åä¸²æ¥åœ¨æ•´ä¸ª deque çš„å¤´ç«¯æˆ–å°¾ç«¯ã€‚</strong>deque æœ€å¤§çš„å·¥ä½œå°±æ˜¯ç»´æŠ¤è¿™äº›åˆ†æ®µè¿ç»­çš„å†…å­˜ç©ºé—´çš„æ•´ä½“æ€§çš„å‡è±¡ï¼Œå¹¶æä¾›éšæœºå­˜å–çš„æ¥å£ï¼›è¿™é¿å¼€äº†é‡æ–°é…ç½®ç©ºé—´ã€å¤åˆ¶æ•°æ®ã€é‡Šæ”¾ç©ºé—´çš„è½®å›ï¼Œä»£ä»·å°±æ˜¯å¤æ‚çš„è¿­ä»£å™¨æ¶æ„ã€‚æ—¢ç„¶ deque ä½¿ç”¨çš„æ˜¯åˆ†æ®µè¿ç»­å†…å­˜ç©ºé—´ï¼Œé‚£ä¹ˆå°±å¿…é¡»æœ‰ä¸­å¤®æ§åˆ¶å™¨ï¼Œç»´æŒå…¶æ•´ä½“è¿ç»­çš„å‡è±¡ï¼Œè¿™æ ·ä¹Ÿå¯¼è‡´äº†æ•°æ®ç»“æ„çš„è®¾è®¡åŠè¿­ä»£å™¨çš„å‰è¿›åé€€æ“ä½œé¢‡ä¸ºç¹çï¼Œdeque åº•å±‚å®ç°çš„ä»£ç è¿œæ¯” vector æˆ– list éƒ½å¤šå¾—å¤šã€‚</p><p><img data-src="../../../asset/2022/07/cpluplus-deque-2.png"></p><p><strong>deque å†…éƒ¨çš„ä¸­æ§å™¨ç»´æŠ¤çš„æ˜¯æ¯ä¸ªç¼“å†²åŒºçš„åœ°å€ï¼Œè€Œç¼“å†²åŒºåˆ™å­˜æ”¾ç€çœŸå®çš„æ•°æ®ï¼Œç›®çš„æ˜¯è®© deque ä½¿ç”¨èµ·æ¥åƒæ˜¯ä¸€ç‰‡è¿ç»­çš„å†…å­˜ç©ºé—´ã€‚</strong>deque é‡‡å–ä¸€å—æ‰€è°“çš„ <code>map</code>ï¼ˆæ³¨æ„ï¼Œä¸æ˜¯ STL çš„ map å®¹å™¨ï¼‰ä½œä¸ºä¸»æ§ï¼Œè¿™é‡Œæ‰€è°“çš„ <code>map</code> æ˜¯ä¸€å°å—è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªå…ƒç´ ï¼ˆèŠ‚ç‚¹ï¼‰éƒ½æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å¦ä¸€æ®µè¿ç»­æ€§å†…å­˜ç©ºé—´ï¼Œç§°ä½œç¼“å†²åŒºï¼Œç¼“å†²åŒºæ‰æ˜¯ deque çš„å­˜å‚¨ç©ºé—´çš„ä¸»ä½“ã€‚</p><h3 id="deque-ä¸-vector-çš„åŒºåˆ«"><a href="#deque-ä¸-vector-çš„åŒºåˆ«" class="headerlink" title="deque ä¸ vector çš„åŒºåˆ«"></a>deque ä¸ vector çš„åŒºåˆ«</h3><ul><li>vector å¯¹äºå¤´éƒ¨çš„æ’å…¥æ•ˆç‡æä½ï¼Œæ•°æ®é‡è¶Šå¤§ï¼Œæ•ˆç‡è¶Šä½</li><li> deque ç›¸å¯¹è€Œè¨€ï¼Œå¯¹å¤´éƒ¨çš„å…ƒç´ æ’å…¥ã€åˆ é™¤é€Ÿåº¦ä¼šæ¯” vector å¿«</li><li> vector è®¿é—®å…ƒç´ æ—¶çš„é€Ÿåº¦ä¼šæ¯” deque å¿«ï¼Œè¿™å’Œä¸¤è€…çš„å†…éƒ¨å®ç°æœ‰å…³</li></ul><h3 id="deque-å®¹å™¨çš„ä½¿ç”¨"><a href="#deque-å®¹å™¨çš„ä½¿ç”¨" class="headerlink" title="deque å®¹å™¨çš„ä½¿ç”¨"></a>deque å®¹å™¨çš„ä½¿ç”¨</h3><h4 id="deque-çš„æ„é€ å’Œèµ‹å€¼"><a href="#deque-çš„æ„é€ å’Œèµ‹å€¼" class="headerlink" title="deque çš„æ„é€ å’Œèµ‹å€¼"></a>deque çš„æ„é€ å’Œèµ‹å€¼</h4><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printDeque</span><span class="params">(<span class="keyword">const</span> deque&lt;<span class="keyword">int</span>&gt; &amp;d)</span> </span>{</span><br><span class="line">    <span class="comment">// éå†å®¹å™¨</span></span><br><span class="line">    <span class="keyword">for</span> (deque&lt;<span class="keyword">int</span>&gt;::const_iterator it = d.<span class="built_in">begin</span>(); it != d.<span class="built_in">end</span>(); it++) {</span><br><span class="line">        cout &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    cout &lt;&lt; <span class="string">"------ deque æ„é€ å‡½æ•° ------"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    deque&lt;<span class="keyword">int</span>&gt; d1;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æœ‰å‚æ„é€ å‡½æ•°ï¼Œå°† n ä¸ª elem å…ƒç´ æ‹·è´ç»™æœ¬èº«</span></span><br><span class="line">    <span class="function">deque&lt;<span class="keyword">int</span>&gt; <span class="title">d2</span><span class="params">(<span class="number">5</span>, <span class="number">10</span>)</span></span>;</span><br><span class="line">    <span class="built_in">printDeque</span>(d2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æœ‰å‚æ„é€ å‡½æ•°ï¼Œå°† d[begin(), end()] åŒºé—´ä¸­çš„å…ƒç´ æ‹·è´ç»™æœ¬èº«</span></span><br><span class="line">    <span class="function">deque&lt;<span class="keyword">int</span>&gt; <span class="title">d3</span><span class="params">(d2.begin(), d2.end())</span></span>;</span><br><span class="line">    <span class="built_in">printDeque</span>(d3);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‹·è´æ„é€ å‡½</span></span><br><span class="line">    deque&lt;<span class="keyword">int</span>&gt; d4 = d3;</span><br><span class="line">    <span class="built_in">printDeque</span>(d4);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">"------ deque èµ‹å€¼æ“ä½œ ------"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èµ‹å€¼æ“ä½œï¼Œé‡è½½ç­‰å·æ“ä½œç¬¦</span></span><br><span class="line">    deque&lt;<span class="keyword">int</span>&gt; d5;</span><br><span class="line">    d5 = d4;</span><br><span class="line">    <span class="built_in">printDeque</span>(d5);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èµ‹å€¼æ“ä½œï¼Œå°† d[begin(), end()] åŒºé—´ä¸­çš„å…ƒç´ æ‹·è´ç»™æœ¬èº«</span></span><br><span class="line">    deque&lt;<span class="keyword">int</span>&gt; d6;</span><br><span class="line">    d6.<span class="built_in">assign</span>(d5.<span class="built_in">begin</span>(), d5.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">printDeque</span>(d6);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èµ‹å€¼æ“ä½œï¼Œå°† n ä¸ª elem å…ƒç´ æ‹·è´ç»™æœ¬èº«</span></span><br><span class="line">    deque&lt;<span class="keyword">int</span>&gt; d7;</span><br><span class="line">    d7.<span class="built_in">assign</span>(<span class="number">5</span>, <span class="number">8</span>);</span><br><span class="line">    <span class="built_in">printDeque</span>(d7);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èµ‹å€¼æ“ä½œï¼Œå°†å…¶ä»–å®¹å™¨ä¸æœ¬èº«çš„å…ƒç´ äº’æ¢</span></span><br><span class="line">    d7.<span class="built_in">swap</span>(d6);</span><br><span class="line">    <span class="built_in">printDeque</span>(d7);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç¨‹åºè¿è¡Œè¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">------ deque æ„é€ å‡½æ•° ------</span><br><span class="line">10 10 10 10 10 </span><br><span class="line">10 10 10 10 10 </span><br><span class="line">10 10 10 10 10 </span><br><span class="line">------ deque èµ‹å€¼æ“ä½œ ------</span><br><span class="line">10 10 10 10 10 </span><br><span class="line">10 10 10 10 10 </span><br><span class="line">8 8 8 8 8 </span><br><span class="line">10 10 10 10 10 </span><br></pre></td></tr></tbody></table></figure><h4 id="deque-çš„å¸¸ç”¨æ“ä½œ"><a href="#deque-çš„å¸¸ç”¨æ“ä½œ" class="headerlink" title="deque çš„å¸¸ç”¨æ“ä½œ"></a>deque çš„å¸¸ç”¨æ“ä½œ</h4><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printDeque</span><span class="params">(<span class="keyword">const</span> deque&lt;<span class="keyword">int</span>&gt; &amp;d)</span> </span>{</span><br><span class="line">    <span class="comment">// éå†å®¹å™¨</span></span><br><span class="line">    <span class="keyword">for</span> (deque&lt;<span class="keyword">int</span>&gt;::const_iterator it = d.<span class="built_in">begin</span>(); it != d.<span class="built_in">end</span>(); it++) {</span><br><span class="line">        cout &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    cout &lt;&lt; <span class="string">"------ deque å¤§å°æ“ä½œ ------"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    deque&lt;<span class="keyword">int</span>&gt; d1;</span><br><span class="line">    d1.<span class="built_in">assign</span>(<span class="number">5</span>, <span class="number">10</span>);</span><br><span class="line">    <span class="built_in">printDeque</span>(d1);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    <span class="keyword">bool</span> empty = d1.<span class="built_in">empty</span>();</span><br><span class="line">    cout &lt;&lt; (empty ? <span class="string">"yes"</span> : <span class="string">"no"</span>) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–å®¹å™¨ä¸­å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">size_t</span> size = d1.<span class="built_in">size</span>();</span><br><span class="line">    cout &lt;&lt; size &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é‡æ–°æŒ‡å®šå®¹å™¨çš„å¤§å°ä¸º numï¼Œè‹¥å®¹å™¨å˜å¤§ï¼Œåˆ™ä»¥é»˜è®¤å€¼ï¼ˆ0ï¼‰å¡«å……æ–°ä½ç½®ã€‚å¦‚æœå®¹å™¨å˜å°ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨å¤§å°çš„å…ƒç´ ä¼šè¢«åˆ é™¤</span></span><br><span class="line">    d1.<span class="built_in">resize</span>(<span class="number">7</span>);</span><br><span class="line">    <span class="built_in">printDeque</span>(d1);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é‡æ–°æŒ‡å®šå®¹å™¨çš„å¤§å°ä¸º numï¼Œè‹¥å®¹å™¨å˜å¤§ï¼Œåˆ™ä»¥æŒ‡å®šå€¼å¡«å……æ–°ä½ç½®ã€‚å¦‚æœå®¹å™¨å˜å°ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨å¤§å°çš„å…ƒç´ ä¼šè¢«åˆ é™¤</span></span><br><span class="line">    d1.<span class="built_in">resize</span>(<span class="number">10</span>, <span class="number">8</span>);</span><br><span class="line">    <span class="built_in">printDeque</span>(d1);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">"------ deque è¯»å–æ“ä½œ ------"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    deque&lt;<span class="keyword">int</span>&gt; d2;</span><br><span class="line">    d2.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    d2.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">    d2.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">    d2.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">    d2.<span class="built_in">push_back</span>(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ç´¢å¼•æ‰€æŒ‡å‘çš„æ•°æ®ï¼Œå¦‚æœç´¢å¼•è¶Šç•Œï¼ŒæŠ›å‡º out_of_range å¼‚å¸¸</span></span><br><span class="line">    <span class="keyword">int</span> num1 = d2.<span class="built_in">at</span>(<span class="number">2</span>);</span><br><span class="line">    cout &lt;&lt; <span class="string">"num1 = "</span> &lt;&lt; num1 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ç´¢å¼•æ‰€æŒ‡å‘çš„æ•°æ®ï¼Œå¦‚æœç´¢å¼•è¶Šç•Œï¼Œç¨‹åºç»ˆæ­¢è¿è¡Œ</span></span><br><span class="line">    <span class="keyword">int</span> num2 = d2[<span class="number">3</span>];</span><br><span class="line">    cout &lt;&lt; <span class="string">"num2 = "</span> &lt;&lt; num2 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªæ•°æ®å…ƒç´ </span></span><br><span class="line">    <span class="keyword">int</span> font = d2.<span class="built_in">front</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">"font = "</span> &lt;&lt; font &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›å®¹å™¨ä¸­æœ€åä¸€ä¸ªæ•°æ®å…ƒç´ </span></span><br><span class="line">    <span class="keyword">int</span> back = d2.<span class="built_in">back</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">"back = "</span> &lt;&lt; back &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">"------ deque æ’å…¥æ“ä½œ ------"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="function">deque&lt;<span class="keyword">int</span>&gt; <span class="title">d3</span><span class="params">(<span class="number">3</span>, <span class="number">8</span>)</span></span>;</span><br><span class="line">    <span class="built_in">printDeque</span>(d3);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¾€è¿­ä»£å™¨æŒ‡å‘çš„ä½ç½®æ’å…¥æŒ‡å®šçš„å…ƒç´ </span></span><br><span class="line">    d3.<span class="built_in">insert</span>(d3.<span class="built_in">begin</span>(), <span class="number">10</span>);</span><br><span class="line">    <span class="built_in">printDeque</span>(d3);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¾€è¿­ä»£å™¨æŒ‡å‘çš„ä½ç½®æ’å…¥ n ä¸ªæŒ‡å®šçš„å…ƒç´ </span></span><br><span class="line">    d3.<span class="built_in">insert</span>(d3.<span class="built_in">begin</span>(), <span class="number">2</span>, <span class="number">11</span>);</span><br><span class="line">    <span class="built_in">printDeque</span>(d3);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¾€è¿­ä»£å™¨æŒ‡å‘çš„ä½ç½®æ’å…¥ [begin, end) åŒºé—´çš„æ•°æ®</span></span><br><span class="line">    <span class="function">deque&lt;<span class="keyword">int</span>&gt; <span class="title">d4</span><span class="params">(<span class="number">2</span>, <span class="number">12</span>)</span></span>;</span><br><span class="line">    d3.<span class="built_in">insert</span>(d3.<span class="built_in">begin</span>(), d4.<span class="built_in">begin</span>(), d4.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">printDeque</span>(d3);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨å®¹å™¨å¤´éƒ¨æ’å…¥ä¸€ä¸ªæ•°æ®</span></span><br><span class="line">    d4.<span class="built_in">push_front</span>(<span class="number">13</span>);</span><br><span class="line">    <span class="built_in">printDeque</span>(d4);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨å®¹å™¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªæ•°æ®</span></span><br><span class="line">    d4.<span class="built_in">push_back</span>(<span class="number">11</span>);</span><br><span class="line">    <span class="built_in">printDeque</span>(d4);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">"------ deque åˆ é™¤æ“ä½œ ------"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    deque&lt;<span class="keyword">int</span>&gt; d5;</span><br><span class="line">    d5.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    d5.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">    d5.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">    d5.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">    d5.<span class="built_in">push_back</span>(<span class="number">5</span>);</span><br><span class="line">    d5.<span class="built_in">push_back</span>(<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤æŒ‡å®šä½ç½®çš„æ•°æ®ï¼Œä¼šè¿”å›ä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®</span></span><br><span class="line">    d5.<span class="built_in">erase</span>(d5.<span class="built_in">begin</span>());</span><br><span class="line">    <span class="built_in">printDeque</span>(d5);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤å®¹å™¨ç¬¬ä¸€ä¸ªæ•°æ®</span></span><br><span class="line">    d5.<span class="built_in">pop_front</span>();</span><br><span class="line">    <span class="built_in">printDeque</span>(d5);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤å®¹å™¨æœ€åä¸€ä¸ªæ•°æ®</span></span><br><span class="line">    d5.<span class="built_in">pop_back</span>();</span><br><span class="line">    <span class="built_in">printDeque</span>(d5);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¸…ç©ºå®¹å™¨çš„æ‰€æœ‰æ•°æ®</span></span><br><span class="line">    d5.<span class="built_in">clear</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç¨‹åºè¿è¡Œè¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">------ deque å¤§å°æ“ä½œ ------</span><br><span class="line">10 10 10 10 10 </span><br><span class="line">no</span><br><span class="line">5</span><br><span class="line">10 10 10 10 10 0 0 </span><br><span class="line">10 10 10 10 10 0 0 8 8 8 </span><br><span class="line">------ deque è¯»å–æ“ä½œ ------</span><br><span class="line">num1 = 3</span><br><span class="line">num2 = 4</span><br><span class="line">font = 1</span><br><span class="line">back = 5</span><br><span class="line">------ deque æ’å…¥æ“ä½œ ------</span><br><span class="line">8 8 8 </span><br><span class="line">10 8 8 8 </span><br><span class="line">11 11 10 8 8 8 </span><br><span class="line">12 12 11 11 10 8 8 8 </span><br><span class="line">13 12 12 </span><br><span class="line">13 12 12 11 </span><br><span class="line">------ deque åˆ é™¤æ“ä½œ ------</span><br><span class="line">2 3 4 5 6 </span><br><span class="line">3 4 5 6 </span><br><span class="line">3 4 5 </span><br></pre></td></tr></tbody></table></figure><h4 id="deque-çš„æ’åºæ“ä½œ"><a href="#deque-çš„æ’åºæ“ä½œ" class="headerlink" title="deque çš„æ’åºæ“ä½œ"></a>deque çš„æ’åºæ“ä½œ</h4><p>åˆ©ç”¨ç®—æ³•å¯ä»¥å¯¹ deque å®¹å™¨è¿›è¡Œæ’åºï¼Œä½†éœ€è¦å¼•å…¥å¤´æ–‡ä»¶ <code>algorithm</code>ã€‚å¯¹äºæ”¯æŒéšæœºè®¿é—®çš„è¿­ä»£å™¨çš„å®¹å™¨ï¼Œéƒ½å¯ä»¥åˆ©ç”¨ <code>sort()</code> æ’åºï¼Œvector å®¹å™¨ä¹Ÿå¯ä»¥ç”¨ <code>sort()</code> æ’åºã€‚</p><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printDeque</span><span class="params">(<span class="keyword">const</span> deque&lt;<span class="keyword">int</span>&gt; &amp;d)</span> </span>{</span><br><span class="line">    <span class="comment">// éå†å®¹å™¨</span></span><br><span class="line">    <span class="keyword">for</span> (deque&lt;<span class="keyword">int</span>&gt;::const_iterator it = d.<span class="built_in">begin</span>(); it != d.<span class="built_in">end</span>(); it++) {</span><br><span class="line">        cout &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">descCompare</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> a, <span class="keyword">const</span> <span class="keyword">int</span> b)</span> </span>{</span><br><span class="line">    <span class="keyword">return</span> a &gt; b;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">asc</span><span class="params">()</span> </span>{</span><br><span class="line">    deque&lt;<span class="keyword">int</span>&gt; d1;</span><br><span class="line">    d1.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">    d1.<span class="built_in">push_back</span>(<span class="number">11</span>);</span><br><span class="line">    d1.<span class="built_in">push_back</span>(<span class="number">8</span>);</span><br><span class="line">    d1.<span class="built_in">push_back</span>(<span class="number">6</span>);</span><br><span class="line">    d1.<span class="built_in">push_back</span>(<span class="number">21</span>);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">"å‡åºæ’åºå‰ï¼š"</span> &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">printDeque</span>(d1);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‡åºæ’åºï¼Œé»˜è®¤ä»å°åˆ°å¤§æ’åº</span></span><br><span class="line">    <span class="built_in">sort</span>(d1.<span class="built_in">begin</span>(), d1.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">"å‡åºæ’åºåï¼š"</span> &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">printDeque</span>(d1);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">desc</span><span class="params">()</span> </span>{</span><br><span class="line">    deque&lt;<span class="keyword">int</span>&gt; d1;</span><br><span class="line">    d1.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">    d1.<span class="built_in">push_back</span>(<span class="number">11</span>);</span><br><span class="line">    d1.<span class="built_in">push_back</span>(<span class="number">8</span>);</span><br><span class="line">    d1.<span class="built_in">push_back</span>(<span class="number">6</span>);</span><br><span class="line">    d1.<span class="built_in">push_back</span>(<span class="number">21</span>);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">"é™åºæ’åºå‰ï¼š"</span> &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">printDeque</span>(d1);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é™åºæ’åºï¼Œé»˜è®¤ä»å¤§åˆ°å°æ’åº</span></span><br><span class="line">    <span class="built_in">sort</span>(d1.<span class="built_in">begin</span>(), d1.<span class="built_in">end</span>(), descCompare);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">"é™åºæ’åºåï¼š"</span> &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">printDeque</span>(d1);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="built_in">asc</span>();  <span class="comment">// å‡åºæ’åº</span></span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">desc</span>(); <span class="comment">// é™åºæ’åºå</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç¨‹åºè¿è¡Œè¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">å‡åºæ’åºå‰ï¼š</span><br><span class="line">3 11 8 6 21 </span><br><span class="line">å‡åºæ’åºåï¼š</span><br><span class="line">3 6 8 11 21 </span><br><span class="line"></span><br><span class="line">é™åºæ’åºå‰ï¼š</span><br><span class="line">3 11 8 6 21 </span><br><span class="line">é™åºæ’åºåï¼š</span><br><span class="line">21 11 8 6 3 </span><br></pre></td></tr></tbody></table></figure></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {try {var plugin = new ReadmorePlugin();plugin.init({"id": "readmore-container","blogId": "96641-5333172926158-056","name": "å…¨æ ˆæŠ€æœ¯é©¿ç«™","qrcode": "https://www.techgrow.cn/img/wx_mp_qr.png","keyword": "Tech","lockToc": "yes","type": "hexo","random": "0.9","interval": "30","expires": "365","height": "auto"});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦ä»‹ç» C++ çš„è¿›é˜¶åŸºç¡€æ•™ç¨‹ï¼ŒåŒ…æ‹¬ STL å‡ å¤§å®¹å™¨çš„ä½¿ç”¨ç­‰ã€‚</summary>
    
    
    
    
    <category term="C++" scheme="https://www.techgrow.cn/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript å¸¸ç”¨ä»£ç å—</title>
    <link href="https://www.techgrow.cn/posts/b69c820e.html"/>
    <id>https://www.techgrow.cn/posts/b69c820e.html</id>
    <published>2022-06-26T13:19:24.000Z</published>
    <updated>2022-06-26T13:19:24.000Z</updated>
    
    <content type="html"><![CDATA[<div id="readmore-container"><!-- toc --><h2 id="ä¸€ã€æ—¥æœŸå¤„ç†"><a href="#ä¸€ã€æ—¥æœŸå¤„ç†" class="headerlink" title="ä¸€ã€æ—¥æœŸå¤„ç†"></a>ä¸€ã€æ—¥æœŸå¤„ç†</h2><h3 id="1-æ—¶é—´æ ¼å¼åŒ–"><a href="#1-æ—¶é—´æ ¼å¼åŒ–" class="headerlink" title="1. æ—¶é—´æ ¼å¼åŒ–"></a>1. æ—¶é—´æ ¼å¼åŒ–</h3><p>è¯¥æ–¹æ³•å¯ä»¥ç”¨äºå°†æ—¶é—´è½¬åŒ–ä¸º <code>hour:minutes:seconds</code> çš„æ ¼å¼ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> timeFromDate = <span class="function"><span class="params">date</span> =&gt;</span> date.toTimeString().slice(<span class="number">0</span>, <span class="number">8</span>);</span><br><span class="line"></span><br><span class="line">timeFromDate(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2021</span>, <span class="number">11</span>, <span class="number">2</span>, <span class="number">12</span>, <span class="number">30</span>, <span class="number">0</span>));  <span class="comment">// 12:30:00</span></span><br><span class="line">timeFromDate(<span class="keyword">new</span> <span class="built_in">Date</span>());  <span class="comment">// è¿”å›å½“å‰æ—¶é—´ 09:00:00</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="2-æ£€å¯Ÿæ—¥æœŸæ˜¯å¦æœ‰æ•ˆ"><a href="#2-æ£€å¯Ÿæ—¥æœŸæ˜¯å¦æœ‰æ•ˆ" class="headerlink" title="2. æ£€å¯Ÿæ—¥æœŸæ˜¯å¦æœ‰æ•ˆ"></a>2. æ£€å¯Ÿæ—¥æœŸæ˜¯å¦æœ‰æ•ˆ</h3><p>è¯¥æ–¹æ³•ç”¨äºæ£€æµ‹ç»™å‡ºçš„æ—¥æœŸæ˜¯å¦æœ‰æ•ˆï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isDateValid = <span class="function">(<span class="params">...val</span>) =&gt;</span> !<span class="built_in">Number</span>.isNaN(<span class="keyword">new</span> <span class="built_in">Date</span>(...val).valueOf());</span><br><span class="line"></span><br><span class="line">isDateValid(<span class="string">"December 17, 1995 03:24:00"</span>);  <span class="comment">// true</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><span id="more"></span><h3 id="3-è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„é—´éš”"><a href="#3-è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„é—´éš”" class="headerlink" title="3. è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„é—´éš”"></a>3. è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„é—´éš”</h3><p>è¯¥æ–¹æ³•ç”¨äºè®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„é—´éš”æ—¶é—´ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dayDif = <span class="function">(<span class="params">date1, date2</span>) =&gt;</span> <span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.abs(date1.getTime() - date2.getTime()) / <span class="number">86400000</span>)</span><br><span class="line"></span><br><span class="line">dayDif(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"2021-11-3"</span>), <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"2022-2-1"</span>))  <span class="comment">// 90</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><p>è·ç¦»è¿‡å¹´è¿˜æœ‰ 90 å¤©ï½</p><h3 id="4-æŸ¥æ‰¾æ—¥æœŸä½äºä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©"><a href="#4-æŸ¥æ‰¾æ—¥æœŸä½äºä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©" class="headerlink" title="4. æŸ¥æ‰¾æ—¥æœŸä½äºä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©"></a>4. æŸ¥æ‰¾æ—¥æœŸä½äºä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©</h3><p>è¯¥æ–¹æ³•ç”¨äºæ£€æµ‹ç»™å‡ºçš„æ—¥æœŸä½äºä»Šå¹´çš„ç¬¬å‡ å¤©ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dayOfYear = <span class="function">(<span class="params">date</span>) =&gt;</span> <span class="built_in">Math</span>.floor((date - <span class="keyword">new</span> <span class="built_in">Date</span>(date.getFullYear(), <span class="number">0</span>, <span class="number">0</span>)) / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span>);</span><br><span class="line"></span><br><span class="line">dayOfYear(<span class="keyword">new</span> <span class="built_in">Date</span>());   <span class="comment">// 307</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><p>2021 å¹´å·²ç»è¿‡å» 300 å¤šå¤©äº†ï½</p><h2 id="äºŒã€å­—ç¬¦ä¸²å¤„ç†"><a href="#äºŒã€å­—ç¬¦ä¸²å¤„ç†" class="headerlink" title="äºŒã€å­—ç¬¦ä¸²å¤„ç†"></a>äºŒã€å­—ç¬¦ä¸²å¤„ç†</h2><h3 id="1-å­—ç¬¦ä¸²é¦–å­—æ¯å¤§å†™"><a href="#1-å­—ç¬¦ä¸²é¦–å­—æ¯å¤§å†™" class="headerlink" title="1. å­—ç¬¦ä¸²é¦–å­—æ¯å¤§å†™"></a>1. å­—ç¬¦ä¸²é¦–å­—æ¯å¤§å†™</h3><p>è¯¥æ–¹æ³•ç”¨äºå°†è‹±æ–‡å­—ç¬¦ä¸²çš„é¦–å­—æ¯å¤§å†™å¤„ç†ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> capitalize = <span class="function"><span class="params">str</span> =&gt;</span> str.charAt(<span class="number">0</span>).toUpperCase() + str.slice(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">capitalize(<span class="string">"hello world"</span>)  <span class="comment">// Hello world</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="2-ç¿»è½¬å­—ç¬¦ä¸²"><a href="#2-ç¿»è½¬å­—ç¬¦ä¸²" class="headerlink" title="2. ç¿»è½¬å­—ç¬¦ä¸²"></a>2. ç¿»è½¬å­—ç¬¦ä¸²</h3><p>è¯¥æ–¹æ³•ç”¨äºå°†ä¸€ä¸ªå­—ç¬¦ä¸²è¿›è¡Œç¿»è½¬æ“ä½œï¼Œè¿”å›ç¿»è½¬åçš„å­—ç¬¦ä¸²ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reverse = <span class="function"><span class="params">str</span> =&gt;</span> str.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>);</span><br><span class="line"></span><br><span class="line">reverse(<span class="string">'hello world'</span>);   <span class="comment">// 'dlrow olleh'</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="3-éšæœºå­—ç¬¦ä¸²"><a href="#3-éšæœºå­—ç¬¦ä¸²" class="headerlink" title="3. éšæœºå­—ç¬¦ä¸²"></a>3. éšæœºå­—ç¬¦ä¸²</h3><p>è¯¥æ–¹æ³•ç”¨äºç”Ÿæˆä¸€ä¸ªéšæœºçš„å­—ç¬¦ä¸²ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> randomString = <span class="function">() =&gt;</span> <span class="built_in">Math</span>.random().toString(<span class="number">36</span>).slice(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">randomString();</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="4-æˆªæ–­å­—ç¬¦ä¸²"><a href="#4-æˆªæ–­å­—ç¬¦ä¸²" class="headerlink" title="4. æˆªæ–­å­—ç¬¦ä¸²"></a>4. æˆªæ–­å­—ç¬¦ä¸²</h3><p>è¯¥æ–¹æ³•å¯ä»¥ä»æŒ‡å®šé•¿åº¦å¤„æˆªæ–­å­—ç¬¦ä¸²:</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> truncateString = <span class="function">(<span class="params">string, length</span>) =&gt;</span> string.length &lt; length ? string : <span class="string">`<span class="subst">${string.slice(<span class="number">0</span>, length - <span class="number">3</span>)}</span>...`</span>;</span><br><span class="line"></span><br><span class="line">truncateString(<span class="string">'Hi, I should be truncated because I am too loooong!'</span>, <span class="number">36</span>)   <span class="comment">// 'Hi, I should be truncated because...'</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="5-å»é™¤å­—ç¬¦ä¸²ä¸­çš„HTML"><a href="#5-å»é™¤å­—ç¬¦ä¸²ä¸­çš„HTML" class="headerlink" title="5. å»é™¤å­—ç¬¦ä¸²ä¸­çš„HTML"></a>5. å»é™¤å­—ç¬¦ä¸²ä¸­çš„ HTML</h3><p>è¯¥æ–¹æ³•ç”¨äºå»é™¤å­—ç¬¦ä¸²ä¸­çš„ HTML å…ƒç´ ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> stripHtml = <span class="function"><span class="params">html</span> =&gt;</span> (<span class="keyword">new</span> DOMParser().parseFromString(html, <span class="string">'text/html'</span>)).body.textContent || <span class="string">''</span>;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h2 id="ä¸‰ã€æ•°ç»„å¤„ç†"><a href="#ä¸‰ã€æ•°ç»„å¤„ç†" class="headerlink" title="ä¸‰ã€æ•°ç»„å¤„ç†"></a>ä¸‰ã€æ•°ç»„å¤„ç†</h2><h3 id="1-ä»æ•°ç»„ä¸­ç§»é™¤é‡å¤é¡¹"><a href="#1-ä»æ•°ç»„ä¸­ç§»é™¤é‡å¤é¡¹" class="headerlink" title="1. ä»æ•°ç»„ä¸­ç§»é™¤é‡å¤é¡¹"></a>1. ä»æ•°ç»„ä¸­ç§»é™¤é‡å¤é¡¹</h3><p>è¯¥æ–¹æ³•ç”¨äºç§»é™¤æ•°ç»„ä¸­çš„é‡å¤é¡¹ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> removeDuplicates = <span class="function">(<span class="params">arr</span>) =&gt;</span> [...new <span class="built_in">Set</span>(arr)];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(removeDuplicates([<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>]));</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="2-åˆ¤æ–­æ•°ç»„æ˜¯å¦ä¸ºç©º"><a href="#2-åˆ¤æ–­æ•°ç»„æ˜¯å¦ä¸ºç©º" class="headerlink" title="2. åˆ¤æ–­æ•°ç»„æ˜¯å¦ä¸ºç©º"></a>2. åˆ¤æ–­æ•°ç»„æ˜¯å¦ä¸ºç©º</h3><p>è¯¥æ–¹æ³•ç”¨äºåˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦ä¸ºç©ºæ•°ç»„ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isNotEmpty = <span class="function"><span class="params">arr</span> =&gt;</span> <span class="built_in">Array</span>.isArray(arr) &amp;&amp; arr.length &gt; <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">isNotEmpty([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);  <span class="comment">// true</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="3-åˆå¹¶ä¸¤ä¸ªæ•°ç»„"><a href="#3-åˆå¹¶ä¸¤ä¸ªæ•°ç»„" class="headerlink" title="3. åˆå¹¶ä¸¤ä¸ªæ•°ç»„"></a>3. åˆå¹¶ä¸¤ä¸ªæ•°ç»„</h3><p>å¯ä»¥ä½¿ç”¨ä¸‹é¢ä¸¤ä¸ªæ–¹æ³•æ¥åˆå¹¶ä¸¤ä¸ªæ•°ç»„ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> merge = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a.concat(b);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> merge = <span class="function">(<span class="params">a, b</span>) =&gt;</span> [...a, ...b];</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h2 id="å››ã€æ•°å­—æ“ä½œ"><a href="#å››ã€æ•°å­—æ“ä½œ" class="headerlink" title="å››ã€æ•°å­—æ“ä½œ"></a>å››ã€æ•°å­—æ“ä½œ</h2><h3 id="1-åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°"><a href="#1-åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°" class="headerlink" title="1. åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°"></a>1. åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°</h3><p>è¯¥æ–¹æ³•ç”¨äºåˆ¤æ–­ä¸€ä¸ªæ•°å­—æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isEven = <span class="function"><span class="params">num</span> =&gt;</span> num % <span class="number">2</span> === <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">isEven(<span class="number">996</span>);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="2-è·å¾—ä¸€ç»„æ•°çš„å¹³å‡å€¼"><a href="#2-è·å¾—ä¸€ç»„æ•°çš„å¹³å‡å€¼" class="headerlink" title="2. è·å¾—ä¸€ç»„æ•°çš„å¹³å‡å€¼"></a>2. è·å¾—ä¸€ç»„æ•°çš„å¹³å‡å€¼</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> average = <span class="function">(<span class="params">...args</span>) =&gt;</span> args.reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b) / args.length;</span><br><span class="line"></span><br><span class="line">average(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);   <span class="comment">// 3</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="3-è·å–ä¸¤ä¸ªæ•´æ•°ä¹‹é—´çš„éšæœºæ•´æ•°"><a href="#3-è·å–ä¸¤ä¸ªæ•´æ•°ä¹‹é—´çš„éšæœºæ•´æ•°" class="headerlink" title="3. è·å–ä¸¤ä¸ªæ•´æ•°ä¹‹é—´çš„éšæœºæ•´æ•°"></a>3. è·å–ä¸¤ä¸ªæ•´æ•°ä¹‹é—´çš„éšæœºæ•´æ•°</h3><p>è¯¥æ–¹æ³•ç”¨äºè·å–ä¸¤ä¸ªæ•´æ•°ä¹‹é—´çš„éšæœºæ•´æ•°</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> random = <span class="function">(<span class="params">min, max</span>) =&gt;</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (max - min + <span class="number">1</span>) + min);</span><br><span class="line"></span><br><span class="line">random(<span class="number">1</span>, <span class="number">50</span>);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="4-æŒ‡å®šä½æ•°å››èˆäº”å…¥"><a href="#4-æŒ‡å®šä½æ•°å››èˆäº”å…¥" class="headerlink" title="4. æŒ‡å®šä½æ•°å››èˆäº”å…¥"></a>4. æŒ‡å®šä½æ•°å››èˆäº”å…¥</h3><p>è¯¥æ–¹æ³•ç”¨äºå°†ä¸€ä¸ªæ•°å­—æŒ‰ç…§æŒ‡å®šä½è¿›è¡Œå››èˆäº”å…¥ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> round = <span class="function">(<span class="params">n, d</span>) =&gt;</span> <span class="built_in">Number</span>(<span class="built_in">Math</span>.round(n + <span class="string">"e"</span> + d) + <span class="string">"e-"</span> + d)</span><br><span class="line"></span><br><span class="line">round(<span class="number">1.005</span>, <span class="number">2</span>) <span class="comment">//1.01</span></span><br><span class="line">round(<span class="number">1.555</span>, <span class="number">2</span>) <span class="comment">//1.56</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h2 id="äº”ã€é¢œè‰²æ“ä½œ"><a href="#äº”ã€é¢œè‰²æ“ä½œ" class="headerlink" title="äº”ã€é¢œè‰²æ“ä½œ"></a>äº”ã€é¢œè‰²æ“ä½œ</h2><h3 id="1-å°†RGBè½¬åŒ–ä¸ºåå…­æœºåˆ¶"><a href="#1-å°†RGBè½¬åŒ–ä¸ºåå…­æœºåˆ¶" class="headerlink" title="1. å°†RGBè½¬åŒ–ä¸ºåå…­æœºåˆ¶"></a>1. å°† RGB è½¬åŒ–ä¸ºåå…­æœºåˆ¶</h3><p>è¯¥æ–¹æ³•å¯ä»¥å°†ä¸€ä¸ª RGB çš„é¢œè‰²å€¼è½¬åŒ–ä¸º 16 è¿›åˆ¶å€¼ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> rgbToHex = <span class="function">(<span class="params">r, g, b</span>) =&gt;</span> <span class="string">"#"</span> + ((<span class="number">1</span> &lt;&lt; <span class="number">24</span>) + (r &lt;&lt; <span class="number">16</span>) + (g &lt;&lt; <span class="number">8</span>) + b).toString(<span class="number">16</span>).slice(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">rgbToHex(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);  <span class="comment">// '#ffffff'</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="2-è·å–éšæœºåå…­è¿›åˆ¶é¢œè‰²"><a href="#2-è·å–éšæœºåå…­è¿›åˆ¶é¢œè‰²" class="headerlink" title="2. è·å–éšæœºåå…­è¿›åˆ¶é¢œè‰²"></a>2. è·å–éšæœºåå…­è¿›åˆ¶é¢œè‰²</h3><p>è¯¥æ–¹æ³•ç”¨äºè·å–ä¸€ä¸ªéšæœºçš„åå…­è¿›åˆ¶é¢œè‰²å€¼ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> randomHex = <span class="function">() =&gt;</span> <span class="string">`#<span class="subst">${<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">0xffffff</span>).toString(<span class="number">16</span>).padEnd(<span class="number">6</span>, <span class="string">"0"</span>)}</span>`</span>;</span><br><span class="line"></span><br><span class="line">randomHex();</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h2 id="å…­ã€æµè§ˆå™¨æ“ä½œ"><a href="#å…­ã€æµè§ˆå™¨æ“ä½œ" class="headerlink" title="å…­ã€æµè§ˆå™¨æ“ä½œ"></a>å…­ã€æµè§ˆå™¨æ“ä½œ</h2><h3 id="1-å¤åˆ¶å†…å®¹åˆ°å‰ªåˆ‡æ¿"><a href="#1-å¤åˆ¶å†…å®¹åˆ°å‰ªåˆ‡æ¿" class="headerlink" title="1. å¤åˆ¶å†…å®¹åˆ°å‰ªåˆ‡æ¿"></a>1. å¤åˆ¶å†…å®¹åˆ°å‰ªåˆ‡æ¿</h3><p>è¯¥æ–¹æ³•ä½¿ç”¨ navigator.clipboard.writeText æ¥å®ç°å°†æ–‡æœ¬å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> copyToClipboard = <span class="function">(<span class="params">text</span>) =&gt;</span> navigator.clipboard.writeText(text);</span><br><span class="line"></span><br><span class="line">copyToClipboard(<span class="string">"Hello World"</span>);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="2-æ¸…é™¤æ‰€æœ‰cookie"><a href="#2-æ¸…é™¤æ‰€æœ‰cookie" class="headerlink" title="2. æ¸…é™¤æ‰€æœ‰cookie"></a>2. æ¸…é™¤æ‰€æœ‰ cookie</h3><p>è¯¥æ–¹æ³•å¯ä»¥é€šè¿‡ä½¿ç”¨ document.cookie æ¥è®¿é—® cookie å¹¶æ¸…é™¤å­˜å‚¨åœ¨ç½‘é¡µä¸­çš„æ‰€æœ‰ cookieï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> clearCookies = <span class="built_in">document</span>.cookie.split(<span class="string">';'</span>).forEach(<span class="function"><span class="params">cookie</span> =&gt;</span> <span class="built_in">document</span>.cookie = cookie.replace(<span class="regexp">/^ +/</span>, <span class="string">''</span>).replace(<span class="regexp">/=.*/</span>, <span class="string">`=;expires=<span class="subst">${<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">0</span>).toUTCString()}</span>;path=/`</span>));</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="3-è·å–é€‰ä¸­çš„æ–‡æœ¬"><a href="#3-è·å–é€‰ä¸­çš„æ–‡æœ¬" class="headerlink" title="3. è·å–é€‰ä¸­çš„æ–‡æœ¬"></a>3. è·å–é€‰ä¸­çš„æ–‡æœ¬</h3><p>è¯¥æ–¹æ³•é€šè¿‡å†…ç½®çš„ getSelection å±æ€§è·å–ç”¨æˆ·é€‰æ‹©çš„æ–‡æœ¬ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getSelectedText = <span class="function">() =&gt;</span> <span class="built_in">window</span>.getSelection().toString();</span><br><span class="line"></span><br><span class="line">getSelectedText();</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="4-æ£€æµ‹æ˜¯å¦æ˜¯é»‘æš—æ¨¡å¼"><a href="#4-æ£€æµ‹æ˜¯å¦æ˜¯é»‘æš—æ¨¡å¼" class="headerlink" title="4. æ£€æµ‹æ˜¯å¦æ˜¯é»‘æš—æ¨¡å¼"></a>4. æ£€æµ‹æ˜¯å¦æ˜¯é»‘æš—æ¨¡å¼</h3><p>è¯¥æ–¹æ³•ç”¨äºæ£€æµ‹å½“å‰çš„ç¯å¢ƒæ˜¯å¦æ˜¯é»‘æš—æ¨¡å¼ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isDarkMode = <span class="built_in">window</span>.matchMedia &amp;&amp; <span class="built_in">window</span>.matchMedia(<span class="string">'(prefers-color-scheme: dark)'</span>).matches</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(isDarkMode)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="5-æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨"><a href="#5-æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨" class="headerlink" title="5. æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨"></a>5. æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨</h3><p>è¯¥æ–¹æ³•ç”¨äºåœ¨é¡µé¢ä¸­è¿”å›é¡¶éƒ¨ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> goToTop = <span class="function">() =&gt;</span> <span class="built_in">window</span>.scrollTo(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">goToTop();</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="6-åˆ¤æ–­å½“å‰æ ‡ç­¾é¡µæ˜¯å¦æ¿€æ´»"><a href="#6-åˆ¤æ–­å½“å‰æ ‡ç­¾é¡µæ˜¯å¦æ¿€æ´»" class="headerlink" title="6. åˆ¤æ–­å½“å‰æ ‡ç­¾é¡µæ˜¯å¦æ¿€æ´»"></a>6. åˆ¤æ–­å½“å‰æ ‡ç­¾é¡µæ˜¯å¦æ¿€æ´»</h3><p>è¯¥æ–¹æ³•ç”¨äºæ£€æµ‹å½“å‰æ ‡ç­¾é¡µæ˜¯å¦å·²ç»æ¿€æ´»ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isTabInView = <span class="function">() =&gt;</span> !<span class="built_in">document</span>.hidden;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="7-åˆ¤æ–­å½“å‰æ˜¯å¦æ˜¯è‹¹æœè®¾å¤‡"><a href="#7-åˆ¤æ–­å½“å‰æ˜¯å¦æ˜¯è‹¹æœè®¾å¤‡" class="headerlink" title="7. åˆ¤æ–­å½“å‰æ˜¯å¦æ˜¯è‹¹æœè®¾å¤‡"></a>7. åˆ¤æ–­å½“å‰æ˜¯å¦æ˜¯è‹¹æœè®¾å¤‡</h3><p>è¯¥æ–¹æ³•ç”¨äºæ£€æµ‹å½“å‰çš„è®¾å¤‡æ˜¯å¦æ˜¯è‹¹æœçš„è®¾å¤‡ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isAppleDevice = <span class="function">() =&gt;</span> <span class="regexp">/Mac|iPod|iPhone|iPad/</span>.test(navigator.platform);</span><br><span class="line"></span><br><span class="line">isAppleDevice();</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="8-æ˜¯å¦æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨"><a href="#8-æ˜¯å¦æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨" class="headerlink" title="8. æ˜¯å¦æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨"></a>8. æ˜¯å¦æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨</h3><p>è¯¥æ–¹æ³•ç”¨äºåˆ¤æ–­é¡µé¢æ˜¯å¦å·²ç»åº•éƒ¨ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> scrolledToBottom = <span class="function">() =&gt;</span> <span class="built_in">document</span>.documentElement.clientHeight + <span class="built_in">window</span>.scrollY &gt;= <span class="built_in">document</span>.documentElement.scrollHeight;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="9-é‡å®šå‘åˆ°ä¸€ä¸ªURL"><a href="#9-é‡å®šå‘åˆ°ä¸€ä¸ªURL" class="headerlink" title="9. é‡å®šå‘åˆ°ä¸€ä¸ªURL"></a>9. é‡å®šå‘åˆ°ä¸€ä¸ª URL</h3><p>è¯¥æ–¹æ³•ç”¨äºé‡å®šå‘åˆ°ä¸€ä¸ªæ–°çš„ URLï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> redirect = <span class="function"><span class="params">url</span> =&gt;</span> location.href = url</span><br><span class="line"></span><br><span class="line">redirect(<span class="string">"https://www.google.com/"</span>)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="10-æ‰“å¼€æµè§ˆå™¨æ‰“å°æ¡†"><a href="#10-æ‰“å¼€æµè§ˆå™¨æ‰“å°æ¡†" class="headerlink" title="10. æ‰“å¼€æµè§ˆå™¨æ‰“å°æ¡†"></a>10. æ‰“å¼€æµè§ˆå™¨æ‰“å°æ¡†</h3><p>è¯¥æ–¹æ³•ç”¨äºæ‰“å¼€æµè§ˆå™¨çš„æ‰“å°æ¡†ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> showPrintDialog = <span class="function">() =&gt;</span> <span class="built_in">window</span>.print()</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h2 id="ä¸ƒã€å…¶ä»–æ“ä½œ"><a href="#ä¸ƒã€å…¶ä»–æ“ä½œ" class="headerlink" title="ä¸ƒã€å…¶ä»–æ“ä½œ"></a>ä¸ƒã€å…¶ä»–æ“ä½œ</h2><h3 id="1-éšæœºå¸ƒå°”å€¼"><a href="#1-éšæœºå¸ƒå°”å€¼" class="headerlink" title="1. éšæœºå¸ƒå°”å€¼"></a>1. éšæœºå¸ƒå°”å€¼</h3><p>è¯¥æ–¹æ³•å¯ä»¥è¿”å›ä¸€ä¸ªéšæœºçš„å¸ƒå°”å€¼ï¼Œä½¿ç”¨ Math.random () å¯ä»¥è·å¾— 0-1 çš„éšæœºæ•°ï¼Œä¸ 0.5 è¿›è¡Œæ¯”è¾ƒï¼Œå°±æœ‰ä¸€åŠçš„æ¦‚ç‡è·å¾—çœŸå€¼æˆ–è€…å‡å€¼ã€‚</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> randomBoolean = <span class="function">() =&gt;</span> <span class="built_in">Math</span>.random() &gt;= <span class="number">0.5</span>;</span><br><span class="line"></span><br><span class="line">randomBoolean();</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="2-å˜é‡äº¤æ¢"><a href="#2-å˜é‡äº¤æ¢" class="headerlink" title="2. å˜é‡äº¤æ¢"></a>2. å˜é‡äº¤æ¢</h3><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å½¢å¼åœ¨ä¸é€‚ç”¨ç¬¬ä¸‰ä¸ªå˜é‡çš„æƒ…å†µä¸‹ï¼Œäº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[foo, bar] = [bar, foo];</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="3-è·å–å˜é‡çš„ç±»å‹"><a href="#3-è·å–å˜é‡çš„ç±»å‹" class="headerlink" title="3. è·å–å˜é‡çš„ç±»å‹"></a>3. è·å–å˜é‡çš„ç±»å‹</h3><p>è¯¥æ–¹æ³•ç”¨äºè·å–ä¸€ä¸ªå˜é‡çš„ç±»å‹ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> trueTypeOf = <span class="function">(<span class="params">obj</span>) =&gt;</span> <span class="built_in">Object</span>.prototype.toString.call(obj).slice(<span class="number">8</span>, -<span class="number">1</span>).toLowerCase();</span><br><span class="line"></span><br><span class="line">trueTypeOf(<span class="string">''</span>);     <span class="comment">// string</span></span><br><span class="line">trueTypeOf(<span class="number">0</span>);      <span class="comment">// number</span></span><br><span class="line">trueTypeOf();       <span class="comment">// undefined</span></span><br><span class="line">trueTypeOf(<span class="literal">null</span>);   <span class="comment">// null</span></span><br><span class="line">trueTypeOf({});     <span class="comment">// object</span></span><br><span class="line">trueTypeOf([]);     <span class="comment">// array</span></span><br><span class="line">trueTypeOf(<span class="number">0</span>);      <span class="comment">// number</span></span><br><span class="line">trueTypeOf(<span class="function">() =&gt;</span> {});  <span class="comment">// function</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="4-åæ°åº¦å’Œæ‘„æ°åº¦ä¹‹é—´çš„è½¬åŒ–"><a href="#4-åæ°åº¦å’Œæ‘„æ°åº¦ä¹‹é—´çš„è½¬åŒ–" class="headerlink" title="4. åæ°åº¦å’Œæ‘„æ°åº¦ä¹‹é—´çš„è½¬åŒ–"></a>4. åæ°åº¦å’Œæ‘„æ°åº¦ä¹‹é—´çš„è½¬åŒ–</h3><p>è¯¥æ–¹æ³•ç”¨äºæ‘„æ°åº¦å’Œåæ°åº¦ä¹‹é—´çš„è½¬åŒ–ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> celsiusToFahrenheit = <span class="function">(<span class="params">celsius</span>) =&gt;</span> celsius * <span class="number">9</span>/<span class="number">5</span> + <span class="number">32</span>;</span><br><span class="line"><span class="keyword">const</span> fahrenheitToCelsius = <span class="function">(<span class="params">fahrenheit</span>) =&gt;</span> (fahrenheit - <span class="number">32</span>) * <span class="number">5</span>/<span class="number">9</span>;</span><br><span class="line"></span><br><span class="line">celsiusToFahrenheit(<span class="number">15</span>);    <span class="comment">// 59</span></span><br><span class="line">celsiusToFahrenheit(<span class="number">0</span>);     <span class="comment">// 32</span></span><br><span class="line">celsiusToFahrenheit(-<span class="number">20</span>);   <span class="comment">// -4</span></span><br><span class="line">fahrenheitToCelsius(<span class="number">59</span>);    <span class="comment">// 15</span></span><br><span class="line">fahrenheitToCelsius(<span class="number">32</span>);    <span class="comment">// 0</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure><h3 id="5-æ£€æµ‹å¯¹è±¡æ˜¯å¦ä¸ºç©º"><a href="#5-æ£€æµ‹å¯¹è±¡æ˜¯å¦ä¸ºç©º" class="headerlink" title="5. æ£€æµ‹å¯¹è±¡æ˜¯å¦ä¸ºç©º"></a>5. æ£€æµ‹å¯¹è±¡æ˜¯å¦ä¸ºç©º</h3><p>è¯¥æ–¹æ³•ç”¨äºæ£€æµ‹ä¸€ä¸ª JavaScript å¯¹è±¡æ˜¯å¦ä¸ºç©ºï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isEmpty = <span class="function"><span class="params">obj</span> =&gt;</span> <span class="built_in">Reflect</span>.ownKeys(obj).length === <span class="number">0</span> &amp;&amp; obj.constructor === <span class="built_in">Object</span>;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></tbody></table></figure></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {try {var plugin = new ReadmorePlugin();plugin.init({"id": "readmore-container","blogId": "96641-5333172926158-056","name": "å…¨æ ˆæŠ€æœ¯é©¿ç«™","qrcode": "https://www.techgrow.cn/img/wx_mp_qr.png","keyword": "Tech","lockToc": "yes","type": "hexo","random": "0.9","interval": "30","expires": "365","height": "auto"});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦è®°å½• JavaScript å¸¸ç”¨çš„ä»£ç å—ã€‚</summary>
    
    
    
    
    <category term="å‰ç«¯" scheme="https://www.techgrow.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>VuePress æ•´åˆç™¾åº¦ç»Ÿè®¡</title>
    <link href="https://www.techgrow.cn/posts/b23e0b9c.html"/>
    <id>https://www.techgrow.cn/posts/b23e0b9c.html</id>
    <published>2022-06-18T14:13:22.000Z</published>
    <updated>2022-06-18T14:13:22.000Z</updated>
    
    <content type="html"><![CDATA[<div id="readmore-container"><!-- toc --><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ¬æ–‡ä¸»è¦ä»‹ç» VuePress å¦‚ä½•æ•´åˆç™¾åº¦ç»Ÿè®¡ï¼Œé€‚ç”¨äº VuePress 1.x å’Œ VuePress 2.x ç‰ˆæœ¬ã€‚</p><h2 id="VuePress-v1-x"><a href="#VuePress-v1-x" class="headerlink" title="VuePress v1.x"></a>VuePress v1.x</h2><h3 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h3><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -D vuepress-plugin-baidu-seo</span><br></pre></td></tr></tbody></table></figure><span id="more"></span><h3 id="é…ç½®æ’ä»¶"><a href="#é…ç½®æ’ä»¶" class="headerlink" title="é…ç½®æ’ä»¶"></a>é…ç½®æ’ä»¶</h3><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = {</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    [<span class="string">'vuepress-plugin-baidu-seo'</span>, {</span><br><span class="line">      <span class="attr">hm</span>: <span class="string">'xxxxxxxx'</span>,</span><br><span class="line">      <span class="attr">ignoreLocal</span>: <span class="literal">true</span></span><br><span class="line">    }]</span><br><span class="line">  ]</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="é…ç½®å‚æ•°"><a href="#é…ç½®å‚æ•°" class="headerlink" title="é…ç½®å‚æ•°"></a>é…ç½®å‚æ•°</h3><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>å¿…å¡«</th><th>é»˜è®¤å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td> hm</td><td>String</td><td> æ˜¯</td><td></td><td>å·²ç”³è¯·çš„ç™¾åº¦ç»Ÿè®¡ Key</td></tr><tr><td>ignoreLocal</td><td>Boolean</td><td> å¦</td><td><code>false</code></td><td>å¿½ç•¥æœ¬åœ°çš„è®¿é—®è®°å½•</td></tr></tbody></table><h2 id="VuePress-v2-x"><a href="#VuePress-v2-x" class="headerlink" title="VuePress v2.x"></a>VuePress v2.x</h2><h3 id="å®‰è£…æ’ä»¶-1"><a href="#å®‰è£…æ’ä»¶-1" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h3><div class="admonition note"><p class="admonition-title">æç¤º</p><p>ä¸‹è¿°æ’ä»¶è¦æ±‚ VuePress çš„ç‰ˆæœ¬å·å¤§äºç­‰äº <code>2.0.0-beta.48</code>ï¼Œè‹¥ä¸æ»¡è¶³è¦æ±‚ï¼Œè¯·åŠ¡å¿…æ‰‹åŠ¨å‡çº§ VuePress çš„ç‰ˆæœ¬ï¼Œå¦åˆ™æ’ä»¶å¯èƒ½æ— æ³•ç”Ÿæ•ˆã€‚</p></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -D vuepress-plugin-baidu-seo-next</span><br></pre></td></tr></tbody></table></figure><h3 id="é…ç½®æ’ä»¶-1"><a href="#é…ç½®æ’ä»¶-1" class="headerlink" title="é…ç½®æ’ä»¶"></a>é…ç½®æ’ä»¶</h3><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> { baiduSeoPlugin } = <span class="built_in">require</span>(<span class="string">'vuepress-plugin-baidu-seo-next'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = {</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    baiduSeoPlugin({</span><br><span class="line">      <span class="attr">hm</span>: <span class="string">'xxxxxxxx'</span>,</span><br><span class="line">      <span class="attr">ignoreLocal</span>: <span class="literal">true</span></span><br><span class="line">    })</span><br><span class="line">  ]</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="é…ç½®å‚æ•°-1"><a href="#é…ç½®å‚æ•°-1" class="headerlink" title="é…ç½®å‚æ•°"></a>é…ç½®å‚æ•°</h3><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>å¿…å¡«</th><th>é»˜è®¤å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td> hm</td><td>String</td><td> æ˜¯</td><td></td><td>å·²ç”³è¯·çš„ç™¾åº¦ç»Ÿè®¡ Key</td></tr><tr><td>ignoreLocal</td><td>Boolean</td><td> å¦</td><td><code>false</code></td><td>å¿½ç•¥æœ¬åœ°çš„è®¿é—®è®°å½•</td></tr></tbody></table></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {try {var plugin = new ReadmorePlugin();plugin.init({"id": "readmore-container","blogId": "96641-5333172926158-056","name": "å…¨æ ˆæŠ€æœ¯é©¿ç«™","qrcode": "https://www.techgrow.cn/img/wx_mp_qr.png","keyword": "Tech","lockToc": "yes","type": "hexo","random": "0.9","interval": "30","expires": "365","height": "auto"});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦ä»‹ç» VuePress å¦‚ä½•æ•´åˆç™¾åº¦ç»Ÿè®¡ï¼Œé€‚ç”¨äº VuePress1 å’Œ VuePress2ã€‚</summary>
    
    
    
    <category term="hide" scheme="https://www.techgrow.cn/categories/hide/"/>
    
    
    <category term="é™æ€åšå®¢" scheme="https://www.techgrow.cn/tags/%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³ GitHub DNS è¢«æ±¡æŸ“çš„é—®é¢˜</title>
    <link href="https://www.techgrow.cn/posts/b7c0261d.html"/>
    <id>https://www.techgrow.cn/posts/b7c0261d.html</id>
    <published>2022-05-29T12:23:33.000Z</published>
    <updated>2022-05-29T12:23:33.000Z</updated>
    
    <content type="html"><![CDATA[<div id="readmore-container"><!-- toc --><h2 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h2><p>è®¿é—® <a href="https://www.ipaddress.com/">IP æŸ¥è¯¢ç½‘ç«™</a>ï¼ŒæŸ¥è¯¢ä»¥ä¸‹åŸŸåå¯¹åº”çš„ IPï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">github.com</span><br><span class="line">raw.githubusercontent.com</span><br><span class="line">camo.githubusercontent.com</span><br><span class="line">github.global.ssl.fastly.net</span><br></pre></td></tr></tbody></table></figure><h2 id="ç¬¬äºŒæ­¥"><a href="#ç¬¬äºŒæ­¥" class="headerlink" title="ç¬¬äºŒæ­¥"></a>ç¬¬äºŒæ­¥</h2><h3 id="Linux-ç³»ç»Ÿ"><a href="#Linux-ç³»ç»Ÿ" class="headerlink" title="Linux ç³»ç»Ÿ"></a>Linux ç³»ç»Ÿ</h3><p>ç¼–è¾‘ç³»ç»Ÿé…ç½®æ–‡ä»¶ <code>/etc/hosts</code>ï¼Œæ–°å¢ä»¥ä¸‹ä¸¤è¡Œå†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">140.82.112.4 github.com</span><br><span class="line">185.199.108.133  raw.githubusercontent.com</span><br><span class="line">185.199.108.133 camo.githubusercontent.com</span><br><span class="line">199.232.69.194 github.global.ssl.fastly.net</span><br></pre></td></tr></tbody></table></figure><h3 id="Windows-ç³»ç»Ÿ"><a href="#Windows-ç³»ç»Ÿ" class="headerlink" title="Windows ç³»ç»Ÿ"></a>Windows ç³»ç»Ÿ</h3><p>ç¼–è¾‘ç³»ç»Ÿé…ç½®æ–‡ä»¶ <code>c:\windows\system32\drivers\etc\hosts</code>ï¼Œæ–°å¢ä»¥ä¸‹ä¸¤è¡Œå†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">140.82.112.4 github.com</span><br><span class="line">185.199.108.133  raw.githubusercontent.com</span><br><span class="line">185.199.108.133 camo.githubusercontent.com</span><br><span class="line">199.232.69.194 github.global.ssl.fastly.net</span><br></pre></td></tr></tbody></table></figure><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ·æ–° DNS è§£æçš„ç¼“å­˜ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; ipconfig /flushdns</span><br></pre></td></tr></tbody></table></figure></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {try {var plugin = new ReadmorePlugin();plugin.init({"id": "readmore-container","blogId": "96641-5333172926158-056","name": "å…¨æ ˆæŠ€æœ¯é©¿ç«™","qrcode": "https://www.techgrow.cn/img/wx_mp_qr.png","keyword": "Tech","lockToc": "yes","type": "hexo","random": "0.9","interval": "30","expires": "365","height": "auto"});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•è§£å†³ GitHub DNS è¢«æ±¡æŸ“é—®é¢˜ï¼ŒåŠ å¿« GitHub çš„è®¿é—®é€Ÿåº¦ã€‚</summary>
    
    
    
    <category term="hide" scheme="https://www.techgrow.cn/categories/hide/"/>
    
    
    <category term="å¼€å‘éšç¬”" scheme="https://www.techgrow.cn/tags/%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>Vurepress v1.x åšå®¢å¯¼æµå¾®ä¿¡å…¬ä¼—å·</title>
    <link href="https://www.techgrow.cn/posts/92228e7b.html"/>
    <id>https://www.techgrow.cn/posts/92228e7b.html</id>
    <published>2022-05-16T14:13:23.000Z</published>
    <updated>2022-07-06T14:13:23.000Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>VuePress v1.x åšå®¢å»ºè®®å®‰è£… <a href="https://github.com/rqh656418510/vuepress-plugin-readmore-popular">vuepress-plugin-readmore-popular</a> æ’ä»¶ï¼Œå°† <a href="https://open.techgrow.cn/">TechGrow</a> çš„å…è´¹å¾®ä¿¡å…¬ä¼—å·å¯¼æµå·¥å…·æ•´åˆåˆ°åšå®¢ä¸­ï¼Œç”¨æˆ·æ‰«ç å…³æ³¨å¾®ä¿¡å…¬ä¼—å·åå¯ä»¥è§£é”å…¨ç«™æ–‡ç« ï¼Œè®©å¾®ä¿¡å…¬ä¼—å·çš„ç²‰ä¸æ•°èººç€å¢é•¿ã€‚</p><div class="admonition note"><p class="admonition-title">æç¤º</p><ol><li>TechGrow å¼€æ”¾å¹³å°çš„ <a href="https://docs.techgrow.cn/v1/wechat/vuepress/">å®˜æ–¹æ–‡æ¡£</a></li><li><code>vuepress-plugin-readmore-popular</code> æ’ä»¶åªæ”¯æŒ VuePress v1.xï¼Œä¸æ”¯æŒ VuePress v2.x</li><li> è‹¥å¸Œæœ›å®ç° VuePress v2.x çš„å…¬ä¼—å·å¯¼æµï¼Œå»ºè®®ä½¿ç”¨ <a href="https://github.com/rqh656418510/vuepress-plugin-readmore-popular-next">vuepress-plugin-readmore-popular-next</a> æ’ä»¶</li></ol></div><h2 id="ç‰¹è‰²åŠŸèƒ½"><a href="#ç‰¹è‰²åŠŸèƒ½" class="headerlink" title="ç‰¹è‰²åŠŸèƒ½"></a>ç‰¹è‰²åŠŸèƒ½</h2><ul><li><input checked="" disabled="" type="checkbox"> æ”¯æŒéšæœºä¸ºåšå®¢æ·»åŠ å¯¼æµåŠŸèƒ½</li><li><input checked="" disabled="" type="checkbox"> æ”¯æŒå…³é—­æŸç¯‡æ–‡ç« çš„å¯¼æµåŠŸèƒ½</li><li><input checked="" disabled="" type="checkbox"> æ”¯æŒæŸ¥è¯¢ç”¨æˆ·è§£é”æ–‡ç« çš„å†å²è®°å½•</li><li><input checked="" disabled="" type="checkbox"> æ”¯æŒè‡ªå®šä¹‰æˆ–è€…åŠ¨æ€è®¡ç®—æ–‡ç« å†…å®¹çš„é¢„è§ˆé«˜åº¦</li><li><input checked="" disabled="" type="checkbox"> æ”¯æŒè‡ªå®šä¹‰ CSS æ ·å¼ï¼Œè½»æ¾é€‚é…ä¸åŒé£æ ¼çš„åšå®¢</li></ul><span id="more"></span><h2 id="æ³¨å†Œåšå®¢"><a href="#æ³¨å†Œåšå®¢" class="headerlink" title="æ³¨å†Œåšå®¢"></a>æ³¨å†Œåšå®¢</h2><p>æµè§ˆå™¨è®¿é—® <a href="https://open.techgrow.cn/">TechGrow</a> çš„å®˜ç½‘ ï¼Œæ³¨å†Œå¹¶ç™»å½•è´¦å·åï¼Œè¿›å…¥åšå®¢çš„åå°ç®¡ç†é¡µé¢ã€‚é¦–å…ˆç‚¹å‡»å·¦ä¾§çš„èœå• <code>åšå®¢æ³¨å†Œ</code>ï¼Œç„¶åç‚¹å‡» <code>æ–°å¢</code> æŒ‰é’®ï¼Œæ·»åŠ è‡ªå·±åšå®¢çš„ä¿¡æ¯ã€‚åšå®¢æ³¨å†ŒæˆåŠŸåï¼Œè®°å½•ä¸‹ <code>åšå®¢ ID</code>ï¼Œåé¢çš„æ­¥éª¤ä¼šä½¿ç”¨åˆ°</p><p><img data-src="https://www.techgrow.cn/uploads/2022/02/28/717e14eb59dd44dea62d6a0b7549abfd.png"></p><h2 id="è®¾ç½®å…¬ä¼—å·"><a href="#è®¾ç½®å…¬ä¼—å·" class="headerlink" title="è®¾ç½®å…¬ä¼—å·"></a>è®¾ç½®å…¬ä¼—å·</h2><p>åœ¨å¾®ä¿¡å…¬ä¼—å·çš„åå°ç®¡ç†é¡µé¢ï¼Œèœå•æ é‡Œé€‰æ‹© <code>è‡ªåŠ¨å›å¤</code> - <code>å…³é”®è¯å›å¤</code>ï¼Œå¯ç”¨ <code>è‡ªåŠ¨å›å¤</code>ï¼Œç„¶åç‚¹å‡» <code>æ·»åŠ å›å¤</code> æŒ‰é’®ï¼š</p><p><img data-src="https://www.techgrow.cn/uploads/2022/02/28/em64p7w8wlqtt0rsjop0jjeywx29m25w.png"></p><p>å¡«å†™ <code>è§„åˆ™åç§°</code>ã€<code>å…³é”®è¯ï¼ˆå½“åˆä½ åœ¨ TechGrow ä¸­è®¾ç½®çš„ï¼‰</code>ã€<code>å›å¤å†…å®¹</code> é€‰æ‹© <code>æ–‡å­—</code>ï¼Œç„¶å <code>å›å¤æ–‡å­—</code> çš„å†…å®¹å¡«å†™è·å–åšå®¢è§£é”éªŒè¯ç çš„é“¾æ¥ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼ˆè¯·è‡ªè¡Œæ›´æ”¹ <code>xxxxx-xxxxxxxxx-xxx</code> ä¸ºä½ ç”³è¯·åˆ°çš„åšå®¢ IDï¼‰</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://open.techgrow.cn/#/readmore/captcha/generate?blogId=xxxxx-xxxxxxxxx-xxx"</span>&gt;</span>ç‚¹å‡»é“¾æ¥ï¼Œè·å–åšå®¢è§£é”éªŒè¯ç <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><img data-src="https://www.techgrow.cn/uploads/2022/02/28/yd89wbdji196ixtwzgzamw37fbein1ia.png"></p><p>æ­¤æ—¶ï¼Œå½“è¯»è€…å…³æ³¨ä½ çš„å¾®ä¿¡å…¬ä¼—å·ï¼Œå¹¶è¾“å…¥å…³é”®è¯åï¼ˆæ¯”å¦‚æˆ‘è®¾ç½®çš„å…³é”®è¯å°±æ˜¯ <code>tech</code>ï¼‰ï¼Œé‚£ä¹ˆè¯»è€…å°±ä¼šè‡ªåŠ¨æ¥æ”¶åˆ°è·å–åšå®¢è§£é”éªŒè¯ç çš„é“¾æ¥</p><h2 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h2><ul><li>è¿è¡Œ <code>npm install</code> å‘½ä»¤å®‰è£…æ’ä»¶åˆ°æœ¬åœ°åšå®¢ </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -D vuepress-plugin-readmore-popular</span><br></pre></td></tr></tbody></table></figure><h2 id="é…ç½®-VuePress"><a href="#é…ç½®-VuePress" class="headerlink" title="é…ç½® VuePress"></a>é…ç½® VuePress</h2><p>ç¼–è¾‘ VuePress çš„ä¸»é…ç½®æ–‡ä»¶ï¼ˆä¾‹å¦‚ <code>.vuepress/config.js</code>ï¼‰ï¼Œæ–°å¢æ’ä»¶çš„é…ç½®ä¿¡æ¯ï¼ˆè¯·è‡ªè¡Œæ›´æ”¹åšå®¢ç›¸å…³çš„ä¿¡æ¯ï¼‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = {</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    [<span class="string">'vuepress-plugin-readmore-popular'</span>, {</span><br><span class="line">      <span class="comment">// å·²ç”³è¯·çš„åšå®¢ ID</span></span><br><span class="line">      <span class="attr">blogId</span>: <span class="string">'18762-1609305354821-257'</span>,</span><br><span class="line">      <span class="comment">// å·²ç”³è¯·çš„å¾®ä¿¡å…¬ä¼—å·åç§°</span></span><br><span class="line">      <span class="attr">name</span>: <span class="string">'å…¨æ ˆæŠ€æœ¯é©¿ç«™'</span>,</span><br><span class="line">      <span class="comment">// å·²ç”³è¯·çš„å¾®ä¿¡å…¬ä¼—å·å›å¤å…³é”®è¯</span></span><br><span class="line">      <span class="attr">keyword</span>: <span class="string">'Tech'</span>,                    </span><br><span class="line">      <span class="comment">// å·²ç”³è¯·çš„å¾®ä¿¡å…¬ä¼—å·äºŒç»´ç å›¾ç‰‡</span></span><br><span class="line">      <span class="attr">qrcode</span>: <span class="string">'https://www.techgrow.cn/img/wx_mp_qr.png'</span>,</span><br><span class="line">      <span class="comment">// æ–‡ç« å†…å®¹çš„ JS é€‰æ‹©å™¨ï¼Œè‹¥ä½¿ç”¨çš„ä¸æ˜¯å®˜æ–¹é»˜è®¤ä¸»é¢˜ï¼Œåˆ™éœ€è¦æ ¹æ®ç¬¬ä¸‰æ–¹çš„ä¸»é¢˜æ¥è®¾ç½®</span></span><br><span class="line">      <span class="attr">selector</span>: <span class="string">'div.theme-default-content'</span>,</span><br><span class="line">      <span class="comment">// è‡ªå®šä¹‰çš„ JS èµ„æºé“¾æ¥ï¼Œå¯ç”¨äº CDN åŠ é€Ÿ</span></span><br><span class="line">      <span class="attr">libUrl</span>: <span class="string">'https://qiniu.techgrow.cn/readmore/dist/readmore.js'</span>,</span><br><span class="line">      <span class="comment">// è‡ªå®šä¹‰çš„ CSS èµ„æºé“¾æ¥ï¼Œå¯ç”¨äºé€‚é…ä¸åŒé£æ ¼çš„åšå®¢</span></span><br><span class="line">      <span class="attr">cssUrl</span>: <span class="string">'https://qiniu.techgrow.cn/readmore/dist/vuepress.css'</span>,</span><br><span class="line">      <span class="comment">// æ–‡ç« æ’é™¤æ·»åŠ å¼•æµå·¥å…·çš„ URL è§„åˆ™ï¼Œæ”¯æŒä½¿ç”¨è·¯å¾„ã€é€šé…ç¬¦ã€æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…è§„åˆ™</span></span><br><span class="line">      <span class="attr">excludes</span>: { <span class="attr">strExp</span>: [], <span class="attr">regExp</span>: [] },</span><br><span class="line">      <span class="comment">// æ˜¯å¦åè½¬ URL æ’é™¤è§„åˆ™çš„é…ç½®ï¼Œå³åªæœ‰ç¬¦åˆæ’é™¤è§„åˆ™çš„æ–‡ç« æ‰ä¼šæ·»åŠ å¼•æµå·¥å…·</span></span><br><span class="line">      <span class="attr">reverse</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="comment">// æ–‡ç« å†…å®¹çš„é¢„è§ˆé«˜åº¦</span></span><br><span class="line">      <span class="attr">height</span>: <span class="string">'auto'</span>,</span><br><span class="line">      <span class="comment">// æ–‡ç« è§£é”åå‡­è¯çš„æœ‰æ•ˆå¤©æ•°</span></span><br><span class="line">      <span class="attr">expires</span>: <span class="number">365</span>,</span><br><span class="line">      <span class="comment">// å®šæ—¶æ ¡éªŒå‡­è¯æœ‰æ•ˆæ€§çš„æ—¶é—´é—´éš”ï¼ˆç§’ï¼‰</span></span><br><span class="line">      <span class="attr">interval</span>: <span class="number">60</span>,</span><br><span class="line">      <span class="comment">// æ¯ç¯‡æ–‡ç« éšæœºæ·»åŠ å¼•æµå·¥å…·çš„æ¦‚ç‡ï¼Œæœ‰æ•ˆèŒƒå›´åœ¨ 0.1 ~ 1 ä¹‹é—´ï¼Œ1 åˆ™è¡¨ç¤ºæ‰€æœ‰æ–‡ç« é»˜è®¤éƒ½è‡ªåŠ¨æ·»åŠ å¼•æµå·¥å…·</span></span><br><span class="line">      <span class="attr">random</span>: <span class="number">1</span></span><br><span class="line">    }]</span><br><span class="line">  ]</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="æ’ä»¶å‚æ•°è¯´æ˜"><a href="#æ’ä»¶å‚æ•°è¯´æ˜" class="headerlink" title="æ’ä»¶å‚æ•°è¯´æ˜"></a>æ’ä»¶å‚æ•°è¯´æ˜</h2><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>å¿…å¡«</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td> blogId</td><td>String</td><td> æ˜¯</td><td>æ— </td><td> -</td></tr><tr><td>name</td><td>String</td><td> æ˜¯</td><td>æ— </td><td> -</td></tr><tr><td>keyword</td><td>String</td><td> æ˜¯</td><td>æ— </td><td> -</td></tr><tr><td>qrcode</td><td>String</td><td> æ˜¯</td><td>æ— </td><td> -</td></tr><tr><td>selector</td><td>String</td><td> å¦</td><td><code>div.theme-default-content</code></td><td>-</td></tr><tr><td>libUrl</td><td>String</td><td> å¦ </td><td><a href="https://qiniu.techgrow.cn/readmore/dist/readmore.js">https://qiniu.techgrow.cn/readmore/dist/readmore.js</a></td><td>-</td></tr><tr><td>cssUrl</td><td>String</td><td> å¦ </td><td><a href="https://qiniu.techgrow.cn/readmore/dist/vuepress.css">https://qiniu.techgrow.cn/readmore/dist/vuepress.css</a></td><td>-</td></tr><tr><td>excludes</td><td>Json Object</td><td> å¦</td><td><code>{ strExp: [ ], regExp: [ ] }</code></td><td>-</td></tr><tr><td>reverse</td><td>Boolean</td><td> å¦</td><td><code>false</code></td><td>-</td></tr><tr><td>height</td><td>String / Number</td><td> å¦</td><td><code>auto</code></td><td>-</td></tr><tr><td>expires</td><td>Number</td><td> å¦</td><td><code>365</code></td><td>-</td></tr><tr><td>interval</td><td>Number</td><td> å¦</td><td><code>60</code></td><td>-</td></tr><tr><td>random</td><td>Number</td><td> å¦</td><td><code>1</code></td><td>-</td></tr></tbody></table><p><code>selector</code> å‚æ•°çš„ä½œç”¨æ˜¯æŒ‡å®š JS é€‰æ‹©å™¨æ¥è·å–æ–‡ç« çš„ä¸»ä½“å†…å®¹ï¼Œè‹¥ VuePress ä½¿ç”¨äº†ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œåˆ™ä¸€èˆ¬éœ€è¦æ ¹æ®ç¬¬ä¸‰æ–¹ä¸»é¢˜æ¥é…ç½®è¯¥å‚æ•°ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´å¼•æµå·¥å…·æ— æ³•ç”Ÿæ•ˆã€‚å…¶ä¸­ VuePress ä¸åŒä¸»é¢˜çš„é…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><table><thead><tr><th>ä¸»é¢˜</th><th>æ’ä»¶é…ç½®</th><th>å¤‡æ³¨ </th></tr></thead><tbody><tr><td><a href="https://github.com/vuejs/vuepress/tree/master/packages/@vuepress/theme-vue">@vuepress/theme-vue</a></td><td><code>selector: 'div.theme-default-content'</code></td><td>å®˜æ–¹é»˜è®¤ä¸»é¢˜ </td></tr><tr><td><a href="https://github.com/vuepress-reco/vuepress-theme-reco-1.x">vuepress-theme-reco</a></td><td><code>selector: 'div.theme-reco-content'</code></td><td>ç¬¬ä¸‰æ–¹ä¸»é¢˜ </td></tr><tr><td><a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope-v1">vuepress-theme-hope</a></td><td><code>selector: 'div.theme-hope-content'</code></td><td>ç¬¬ä¸‰æ–¹ä¸»é¢˜ </td></tr><tr><td><a href="https://github.com/xugaoyi/vuepress-theme-vdoing">vuepress-theme-vdoing</a></td><td><code>selector: 'div.theme-vdoing-content'</code></td><td>ç¬¬ä¸‰æ–¹ä¸»é¢˜</td></tr></tbody></table><div class="admonition note"><p class="admonition-title">æç¤º</p><p>è‹¥ä¸æ¸…æ¥šå¦‚ä½•æŒ‡å®š JS é€‰æ‹©å™¨ï¼Œåˆ™å¯ä»¥æ‰“å¼€åšå®¢çš„ä»»æ„ä¸€ç¯‡æ–‡ç« ï¼Œåˆ©ç”¨ Chrome ç­‰æµè§ˆå™¨çš„å…ƒç´ å®¡æŸ¥åŠŸèƒ½ï¼Œæ‰¾åˆ°æ–‡ç« é¡µé¢ä¸­æ–‡ç« ä¸»ä½“çš„ <code>div</code> æ ‡ç­¾ï¼Œæœ€åå®šä½å¾—åˆ° <code>div</code> æ ‡ç­¾çš„ CSS ç±»å³å¯ï¼ˆä¾‹å¦‚ <code>theme-default-content</code>ï¼‰ï¼Œ<a href="https://www.techgrow.cn/uploads/2022/02/28/ggmr7dg23fjj3mqndyays04ok93adj3n.png">ç‚¹å‡»æŸ¥çœ‹</a>è¯¦ç»†çš„æ“ä½œå›¾è§£ã€‚</p></div><h2 id="éªŒè¯æ’ä»¶æ•ˆæœ"><a href="#éªŒè¯æ’ä»¶æ•ˆæœ" class="headerlink" title="éªŒè¯æ’ä»¶æ•ˆæœ"></a>éªŒè¯æ’ä»¶æ•ˆæœ</h2><p>æ‰“å¼€æ–‡ç« é¡µé¢ï¼Œè‹¥æ–‡ç« è‡ªåŠ¨éšè—äº†éƒ¨åˆ†å†…å®¹ï¼Œå¹¶ä¸”å‡ºç°äº† <code>é˜…è¯»å…¨æ–‡</code> æŒ‰é’®ï¼Œåˆ™è¯´æ˜å¯¼æµæ’ä»¶æ­£å¸¸è¿è¡Œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img data-src="https://www.techgrow.cn/uploads/2022/02/28/g7v4su56sx5g95qipmzh0k1hknj6fsa7.png"></p><p>ç‚¹å‡» <code>é˜…è¯»å…¨æ–‡</code> æŒ‰é’®ï¼Œä¼šå¼¹å‡ºå¾®ä¿¡å…¬ä¼—å·çš„äºŒç»´ç çª—å£ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img data-src="https://www.techgrow.cn/uploads/2022/02/28/77o3g5fhjovtu725vm8z42lemqt8zwli.png"></p><h2 id="å–æ¶ˆé˜…è¯»é™åˆ¶"><a href="#å–æ¶ˆé˜…è¯»é™åˆ¶" class="headerlink" title="å–æ¶ˆé˜…è¯»é™åˆ¶"></a>å–æ¶ˆé˜…è¯»é™åˆ¶</h2><p>è‹¥å¸Œæœ›å…³é—­éƒ¨åˆ†æ–‡ç« çš„å¾®ä¿¡å…¬ä¼—å·å¯¼æµåŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨æ’ä»¶çš„ <code>excludes</code> å‚æ•°æ¥å®ç°ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œ<code>excludes</code> çš„å‚æ•°å€¼æ˜¯ä¸€ä¸ª JSON å¯¹è±¡ï¼Œå…¶ä¸­çš„ <code>strExp</code> å±æ€§æ˜¯è·¯å¾„å’Œé€šé…ç¬¦è§„åˆ™çš„å­—ç¬¦ä¸²æ•°ç»„ï¼Œè€Œ <code>regExp</code> å±æ€§æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²æ•°ç»„ã€‚</p><ul><li>æ ¹æ® URL è·¯å¾„ï¼Œå…³é—­æŸç¯‡æ–‡ç« çš„å¯¼æµåŠŸèƒ½ </li></ul><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = {</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    [<span class="string">'vuepress-plugin-readmore-popular'</span>, {</span><br><span class="line">      <span class="comment">// æ’é™¤ URL ä¸º `/fontend/webpack` çš„æ–‡ç« </span></span><br><span class="line">      <span class="attr">excludes</span>: { <span class="attr">strExp</span>: [<span class="string">'/fontend/webpack'</span>] },</span><br><span class="line">    }]</span><br><span class="line">  ]</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>æ ¹æ® URL é€šé…ç¬¦ï¼Œå…³é—­æŸä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ç« çš„å¯¼æµåŠŸèƒ½ </li></ul><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = {</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    [<span class="string">'vuepress-plugin-readmore-popular'</span>, {</span><br><span class="line">      <span class="comment">// æ’é™¤ URL ä»¥ `/fontend` å¼€å¤´çš„æ–‡ç« </span></span><br><span class="line">      <span class="comment">// æ’é™¤ URL ä¸º `/backend/python/io` çš„æ–‡ç« </span></span><br><span class="line">      <span class="attr">excludes</span>: { <span class="attr">strExp</span>: [<span class="string">'/fontend/*'</span>, <span class="string">'/backend/*/io'</span>] },</span><br><span class="line">    }]</span><br><span class="line">  ]</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>æ ¹æ® URL æ­£åˆ™è¡¨è¾¾å¼ï¼Œå…³é—­ç¬¦åˆè§„åˆ™çš„æ‰€æœ‰æ–‡ç« çš„å¯¼æµåŠŸèƒ½ </li></ul><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = {</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    [<span class="string">'vuepress-plugin-readmore-popular'</span>, {</span><br><span class="line">      <span class="comment">// æ’é™¤ URL ä¸ä»¥ `/fontend` å¼€å¤´çš„æ–‡ç« </span></span><br><span class="line">      <span class="attr">excludes</span>: { <span class="attr">regExp</span>: [<span class="string">'^(?!\/fontend).*'</span>] },</span><br><span class="line">    }]</span><br><span class="line">  ]</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>æ··åˆä½¿ç”¨ </li></ul><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = {</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    [<span class="string">'vuepress-plugin-readmore-popular'</span>, {</span><br><span class="line">      <span class="attr">excludes</span>: { <span class="attr">strExp</span>: [<span class="string">'/webpack'</span>, <span class="string">'/fontend/*'</span>, <span class="string">'/backend/*/io'</span>], <span class="attr">regExp</span>: [<span class="string">'^(?!\/php).*'</span>] },</span><br><span class="line">    }]</span><br><span class="line">  ]</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><div class="admonition note"><p class="admonition-title">æç¤º</p><ul><li>æ–‡ç«  URL ä¼˜å…ˆåŒ¹é… <code>strExp</code> è§„åˆ™ï¼Œç„¶åå†åŒ¹é… <code>regExp</code> è§„åˆ™</li><li>æ–‡ç«  URL ä¸€æ—¦æ»¡è¶³ <code>strExp</code> è§„åˆ™ï¼Œåˆ™ä¸ä¼šå†åŒ¹é… <code>regExp</code> è§„åˆ™</li><li>å¦‚æœå¸Œæœ›ç¬¦åˆ URL æ’é™¤è§„åˆ™çš„æ–‡ç« æ‰æ·»åŠ å¯¼æµå·¥å…·ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ <code>reverse : true</code> é…ç½®å‚æ•°å®ç°</li></ul></div><h2 id="è‡ªå®šä¹‰æ ·å¼"><a href="#è‡ªå®šä¹‰æ ·å¼" class="headerlink" title="è‡ªå®šä¹‰æ ·å¼"></a>è‡ªå®šä¹‰æ ·å¼</h2><p>æ’ä»¶é»˜è®¤ä½¿ç”¨äº†å®šä¹‰åœ¨ <a href="https://qiniu.techgrow.cn/readmore/dist/vuepress.css">vuepress.css</a> çš„ CSS æ ·å¼ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼è‡ªå®šä¹‰è‡ªå·±çš„æ ·å¼ï¼š</p><ul><li>ç¬¬ä¸€ç§æ–¹å¼ï¼šæ›´æ”¹åšå®¢ä¸»é¢˜çš„ CSS æºç æ–‡ä»¶ï¼Œå°†è‡ªå®šä¹‰çš„é‚£éƒ¨åˆ† CSS æ ·å¼æ·»åŠ åˆ°é‡Œé¢</li><li>ç¬¬äºŒç§æ–¹å¼ï¼šæ ¹æ® <a href="https://qiniu.techgrow.cn/readmore/dist/vuepress.css">vuepress.css</a> åˆ›å»ºè‡ªå·±çš„ CSS æ–‡ä»¶ï¼ˆå®Œæ•´çš„ï¼‰ï¼Œå¹¶å°†å…¶å­˜æ”¾åœ¨è‡ªå·±çš„åšå®¢é‡Œï¼ŒåŒæ—¶é€šè¿‡æ’ä»¶çš„ <code>cssUrl</code> é…ç½®å‚æ•°æ¥æŒ‡å®šå…¶è®¿é—®çš„ URL è·¯å¾„</li></ul><blockquote><p>æç¤ºï¼šä¸ºäº†æ–¹ä¾¿æ—¥åç»´æŠ¤ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼æ¥æ·»åŠ è‡ªå®šä¹‰æ ·å¼</p></blockquote><h2 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h2><div class="admonition note"><p class="admonition-title">é—®é¢˜ä¸€</p><p>VuePress å®‰è£…æ’ä»¶åï¼Œå¼•æµå·¥å…·æ— æ³•ç”Ÿæ•ˆã€‚</p></div><p>è‹¥å¼•æµå·¥å…·æ— æ³•ç”Ÿæ•ˆï¼Œæ­¤æ—¶éœ€è¦ç•™æ„ VuePress ä½¿ç”¨çš„æ˜¯ä¸æ˜¯ç¬¬ä¸‰æ–¹ä¸»é¢˜ã€‚åœ¨ä½¿ç”¨ç¬¬ä¸‰æ–¹ä¸»é¢˜çš„æƒ…å†µä¸‹ï¼Œä¸€èˆ¬éœ€è¦æ ¹æ®ç¬¬ä¸‰æ–¹ä¸»é¢˜æ¥é…ç½®æ’ä»¶çš„ <code>selector</code> å‚æ•°ï¼Œè¯¥å‚æ•°çš„ä½œç”¨æ˜¯æŒ‡å®š JS é€‰æ‹©å™¨æ¥è·å–æ–‡ç« çš„ä¸»ä½“å†…å®¹ï¼Œè¯¦ç»†è¯´æ˜è¯·çœ‹<a href="/posts/92228e7b.html#%E6%8F%92%E4%BB%B6%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E">è¿™é‡Œ</a>ã€‚</p><blockquote><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè‹¥ç”±äº <code>selector</code> å‚æ•°é…ç½®ä¸æ­£ç¡®å¯¼è‡´å¼•æµå·¥å…·æ— æ•ˆï¼Œé‚£ä¹ˆå¼•æµå·¥å…·ä¼šåœ¨æµè§ˆå™¨çš„æ§åˆ¶å°è¾“å‡ºå¦‚ä¸‹çš„è­¦å‘Šä¿¡æ¯ï¼š</p></blockquote><p><img data-src="https://www.techgrow.cn/uploads/2022/02/28/8i4J9HpUUelLo43KLdHphgMHIFQwleNg.png"></p><div class="admonition note"><p class="admonition-title">é—®é¢˜äºŒ</p><p>VuePress å®‰è£…æ’ä»¶åï¼Œæµè§ˆå™¨çš„æ§åˆ¶å°è¾“å‡ºè­¦å‘Šæˆ–è€…é”™è¯¯ä¿¡æ¯ï¼Œä¸”å¼•æµå·¥å…·æ— æ³•ç”Ÿæ•ˆ</p></div><p>æµè§ˆå™¨è®¿é—® VuePress åšå®¢åï¼ŒæŒ‰ä¸‹ <code>F12</code> å¿«æ·é”®è°ƒå‡ºè°ƒè¯•å·¥å…·ï¼Œç„¶ååˆ‡æ¢åˆ° <code>æ§åˆ¶å°</code>ï¼Œæœ€åå°†è­¦å‘Šæˆ–è€…é”™è¯¯ä¿¡æ¯æˆªå›¾ï¼Œå¹¶å‘é€åˆ° <a href="https://www.techgrow.cn/img/wx-group-qr-techgrow.png">å®˜æ–¹å¾®ä¿¡ç¾¤</a>ï¼Œå»ºè®®ç•™è¨€å¤‡æ³¨ VuePress ä¸ VuePress ä¸»é¢˜çš„ç‰ˆæœ¬å·ã€‚</p><div class="admonition note"><p class="admonition-title">é—®é¢˜ä¸‰</p><p>VuePress å®‰è£…æ’ä»¶åï¼Œç§»åŠ¨ç«¯çš„å¼•æµå·¥å…·æ— æ³•ç”Ÿæ•ˆï¼Œè€Œ PC ç«¯å´ç”Ÿæ•ˆ</p></div><p>è€ƒè™‘åˆ°ç”¨æˆ·ä½“éªŒçš„é—®é¢˜ï¼Œåœ¨ç§»åŠ¨ç«¯é»˜è®¤æ˜¯å…³é—­å¼•æµåŠŸèƒ½çš„ï¼Œè¯·çŸ¥æ‚‰ã€‚</p><h2 id="åœ¨çº¿æ¼”ç¤º"><a href="#åœ¨çº¿æ¼”ç¤º" class="headerlink" title="åœ¨çº¿æ¼”ç¤º"></a>åœ¨çº¿æ¼”ç¤º</h2><ul><li><a href="https://docs.techgrow.cn/v1/demo/">å®˜æ–¹ Demo</a></li></ul><h2 id="å®˜æ–¹å¾®ä¿¡ç¾¤"><a href="#å®˜æ–¹å¾®ä¿¡ç¾¤" class="headerlink" title="å®˜æ–¹å¾®ä¿¡ç¾¤"></a>å®˜æ–¹å¾®ä¿¡ç¾¤</h2><p><img data-src="/img/wx-group-qr-techgrow.png"></p>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦ä»‹ç» VuePress v1.x åšå®¢å¦‚ä½•å°†ç½‘ç«™çš„æµé‡å¯¼å‘å¾®ä¿¡å…¬ä¼—å·ï¼Œæ¯” OpenWrite çš„å¯¼æµå·¥å…·æ›´å¼ºå¤§ã€‚</summary>
    
    
    
    
    <category term="é™æ€åšå®¢" scheme="https://www.techgrow.cn/tags/%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
  <entry>
    <title>VuePress æ’ä»¶å¼€å‘</title>
    <link href="https://www.techgrow.cn/posts/2f4cff19.html"/>
    <id>https://www.techgrow.cn/posts/2f4cff19.html</id>
    <published>2022-05-12T12:23:33.000Z</published>
    <updated>2022-05-12T12:23:33.000Z</updated>
    
    <content type="html"><![CDATA[<div id="readmore-container"><!-- toc --><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><div class="admonition note"><p class="admonition-title">åšä¸»å·²å¼€å‘çš„æ’ä»¶</p><ul><li><a href="https://github.com/rqh656418510/vuepress-plugin-baidu-seo">vuepress-plugin-baidu-seo</a> | VuePress v1 ç™¾åº¦ SEO æ’ä»¶ </li><li><a href="https://github.com/rqh656418510/vuepress-plugin-baidu-seo-next">vuepress-plugin-baidu-seo-next</a> | VuePress v2 ç™¾åº¦ SEO æ’ä»¶ </li><li><a href="https://github.com/rqh656418510/vuepress-plugin-readmore-popular">vuepress-plugin-readmore-popular</a> | VuePress v1 å…¬ä¼—å·å¼•æµæ’ä»¶ </li><li><a href="https://github.com/rqh656418510/vuepress-plugin-readmore-popular-next">vuepress-plugin-readmore-popular-next</a> | VuePress v2 å…¬ä¼—å·å¼•æµæ’ä»¶</li></ul></div><span id="more"></span><h2 id="VuePress-å®˜æ–¹æ’ä»¶"><a href="#VuePress-å®˜æ–¹æ’ä»¶" class="headerlink" title="VuePress å®˜æ–¹æ’ä»¶"></a>VuePress å®˜æ–¹æ’ä»¶</h2><h3 id="VuePress-v1-x"><a href="#VuePress-v1-x" class="headerlink" title="VuePress v1.x"></a>VuePress v1.x</h3><ul><li><a href="https://v1.vuepress.vuejs.org/zh/plugin/">VuePress v1.x å®˜æ–¹ä¸­æ–‡æ–‡æ¡£</a></li><li><a href="https://github.com/vuejs/vuepress/tree/master/packages/@vuepress">VuePress v1.x å®˜æ–¹æ’ä»¶çš„ä»£ç ä»“åº“</a></li></ul><h3 id="VuePress-v2-x"><a href="#VuePress-v2-x" class="headerlink" title="VuePress v2.x"></a>VuePress v2.x</h3><ul><li><a href="https://v2.vuepress.vuejs.org/zh/advanced/plugin.html">VuePress v2.x å®˜æ–¹ä¸­æ–‡æ–‡æ¡£</a></li><li><a href="https://github.com/vuepress/vuepress-next/tree/main/packages/@vuepress">VuePress v2.x å®˜æ–¹æ’ä»¶çš„ä»£ç ä»“åº“</a></li></ul><h2 id="VuePress-v1-æ’ä»¶å¼€å‘"><a href="#VuePress-v1-æ’ä»¶å¼€å‘" class="headerlink" title="VuePress v1 æ’ä»¶å¼€å‘"></a>VuePress v1 æ’ä»¶å¼€å‘</h2><h3 id="Vue-ç»„ä»¶å¼•å…¥å†…éƒ¨-JS-æ–‡ä»¶"><a href="#Vue-ç»„ä»¶å¼•å…¥å†…éƒ¨-JS-æ–‡ä»¶" class="headerlink" title="Vue ç»„ä»¶å¼•å…¥å†…éƒ¨ JS æ–‡ä»¶"></a>Vue ç»„ä»¶å¼•å…¥å†…éƒ¨ JS æ–‡ä»¶</h3><p>ç¬¬ä¸€æ­¥ï¼šåœ¨é¡¹ç›®å†…å®šä¹‰ JS æ–‡ä»¶ï¼Œä¾‹å¦‚è¿™é‡Œå®šä¹‰ <code>loadResources.js</code> æ–‡ä»¶ï¼ŒåŒæ—¶é€šè¿‡ <code>export</code> æš´éœ² JS å‡½æ•°ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥Q</span></span><br><span class="line"><span class="keyword">const</span> Q = <span class="built_in">require</span>(<span class="string">'q'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¼‚æ­¥åŠ è½½jsæ–‡ä»¶</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>url å¯¼å…¥jsçš„urlåœ°å€</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>id  scriptæ ‡ç­¾çš„idï¼ˆå¿…é¡»å”¯ä¸€ï¼‰</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="type">{*}</span> </span>exportæ­¤å‡½æ•°æ–¹ä¾¿å…¨å±€è°ƒç”¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">asyncLoadJs</span>(<span class="params">url, id</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> Q.Promise(<span class="function">(<span class="params">resovle, reject</span>) =&gt;</span> {</span><br><span class="line">        <span class="keyword">let</span> srcArr = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'script'</span>);</span><br><span class="line">        <span class="keyword">let</span> hasLoaded = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; srcArr.length; i++) {</span><br><span class="line">            hasLoaded = srcArr[i].id === id;</span><br><span class="line">            <span class="keyword">if</span> (hasLoaded) {</span><br><span class="line">                <span class="built_in">document</span>.getElementById(id).remove();</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">        script.type = <span class="string">'text/javascript'</span>;</span><br><span class="line">        script.src = url;</span><br><span class="line">        script.id = id;</span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(script);</span><br><span class="line"></span><br><span class="line">        script.onload = <span class="function">() =&gt;</span> {</span><br><span class="line">            resovle();</span><br><span class="line">        };</span><br><span class="line">        script.onerror = <span class="function">() =&gt;</span> {</span><br><span class="line">            reject();</span><br><span class="line">        }</span><br><span class="line">    })</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç¬¬äºŒæ­¥ï¼šåœ¨é¡¹ç›®é‡Œå®šä¹‰ Vue ç»„ä»¶ï¼Œä¾‹å¦‚è¿™é‡Œå®šä¹‰ <code>example.vue</code>ï¼ŒåŒæ—¶é€šè¿‡ <code>import</code> å¼•å…¥ä¸Šé¢å®šä¹‰çš„ JS æ–‡ä»¶å³å¯ï¼š</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> { asyncLoadJs } <span class="keyword">from</span> <span class="string">"../js/loadResources.js"</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> {</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">"example"</span>,</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> {</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> {};</span></span><br><span class="line"><span class="javascript">  },</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> {</span></span><br><span class="line"><span class="javascript">    asyncLoadJs(<span class="string">"https://www.example/js/example.js"</span>, <span class="string">"example"</span>);</span></span><br><span class="line"><span class="javascript">  },</span></span><br><span class="line"><span class="javascript">};</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"scss"</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://github.com/mqyqingfeng/Blog/issues/250">ä»é›¶å®ç°ä¸€ä¸ª VuePress æ’ä»¶</a></li><li><a href="https://developer.aliyun.com/article/898487">VuePress åšå®¢ä¼˜åŒ–ä¹‹æ‹“å±• Markdown è¯­æ³•</a></li></ul></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {try {var plugin = new ReadmorePlugin();plugin.init({"id": "readmore-container","blogId": "96641-5333172926158-056","name": "å…¨æ ˆæŠ€æœ¯é©¿ç«™","qrcode": "https://www.techgrow.cn/img/wx_mp_qr.png","keyword": "Tech","lockToc": "yes","type": "hexo","random": "0.9","interval": "30","expires": "365","height": "auto"});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•å¼€å‘ VuePress æ’ä»¶ã€‚</summary>
    
    
    
    
    <category term="é™æ€åšå®¢" scheme="https://www.techgrow.cn/tags/%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="å‰ç«¯" scheme="https://www.techgrow.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>é¡¹ç›®å¼€å‘è®¡åˆ’</title>
    <link href="https://www.techgrow.cn/posts/29d74d90.html"/>
    <id>https://www.techgrow.cn/posts/29d74d90.html</id>
    <published>2022-03-23T14:38:21.000Z</published>
    <updated>2022-08-07T14:38:21.000Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="å¯†ç é”™è¯¯, è¯·é‡æ–°è¾“å…¥." data-whm="æ–‡ç« æ ¡éªŒå¤±è´¥, ä½†ä¸å½±å“é˜…è¯»è§£å¯†åçš„å†…å®¹.">  <script id="hbeData" type="hbeData" data-hmacdigest="23d9649fe997b785dcdcf3ee51848da4a076d0a0396f87dcaffa968edd678a07">4cfab7e4fdfd9afdbf1592f9652b8a194263aa6a7e6b4c103fbd9ff49c09b0448cdca81362464dc5686f95504da6299b6490ac25c35cdeb830b4ba7a9cf2685b33fc39e79fb8f4428211a3627c1ec7a0cbbf24dada87cb794a94c4848262ef48357c8d73a5bf83d40948261328d66e0bff17ffd38d41bcd0d1fc683fc31dd3c80e71868c7bf52ab01e12be51f74475299f4ac9540a69a67d78f5e7c10d4c0b764a171047a5eaf857aa307673cc4c870e17499b5c62dccb724834333eb82019590ad2374fbd15ce6c9c7b5d1dba92e43554f32d1c73942822adecdef87379cbac9e9349bd85119796d6a5c6631f5e516f0478907db61af4f983aa6ad2b5393cf975687eb140a1e9fbb2292575ea2aedd7553199ac383d191771bd23715e460a04bf468193f6e2071f64e22ed4c65c2ac7d8b8639d9771ee6e2498836a50c2cdcc137a9101754df3b9d9b71ae22b063068988f7b452b687a3ca86f1225e78aea53ae9375d1ba81ed8c51c939b3dde59d3e8aefca60992d4c3b0403027a8d42fcf983c2a28e783d128345be7644aa8d307e910d3243bbf5eb15536f73a261eb53d9b3988aa2d107e8ce57128cbeeab9f603f34ed98a0344711549d8dfc12ee7e4f523e9331bbd2fe1b96e28595c8c35d3b74eb5331a584aed77b4b8622ce0ca8e750848cb4a8040e86ff2225802c7a60fd8dc8583da9b1c93ab90607816e3e2d6161fe10290b99286ccaadbe693931db26627ddb0785342c72e70b84d3b14063fbc433c89dc272bb1805a6afbefa59b5c364ca7236c13e24859bc56b7592c597ab88c8e7ba3325fdb35fa868320770c4f2a9970fdde3b8d880f62481faf009a9a609b29577e316fcef1a05f05a5b98e153b8f5f70b17a83238434f9913be36c1d75d46788c69be844d11db6d1ef9d8c21a1ee46cd3f66ba08f208326cbef8cff85cc761e96d9d2f4038f7da668fe21cd2c7cb762efdfda37d57db491b817ce5e1913781f5a89b768ff1fa4c940e9eb181c735455355ece547985cc6eb85c2ce8762dd1f08a584c6e263aebb49e080d562afa87acfd37f2c4c6e8df2102b83260c1c1e807af8022317710d1a0ab961e3515dad4d8b8f76f364fa5118cd4b4beff058955e587d31f284800745aa0223f543ceea88746733a02cbbec8d16f9847357f64f0c48e22c617e7097b322120bb9d8eed8dc2f78aeedf44976607f15413fa1540e75befbcaefe3f390b9c0c29d8b3e544758561a9603181001fbdbe32d813f3627246b2c8605326a702e7cb1ead44fec4cd01f3510e952400d928571e4677ca15e5a6365318fd8d550ea26c5594c9d1fab911270f7a1f95bfcf368bb28ea7059d33329dfc48c44427bbc86975c9f1a1c437001107f3d5976a77821dbbc28e503a5ab937681820f226296600f71e39b894b3e149b62601683800574527e704711b63626cbc2b24103229bd3cf2af35d6e87234c228eacb0c6870c739a486efdccd24f74467bde3f889bdc7f6024f7591f0885b312bccae928351de2d1a0880dd72a3b5e89ec2da0bae15b92ee6055fd37047a52cbd2f31675c0e298f620848b7b94ee1fd086207456de4e191bed6ce4207ef567ae7d2bbf26578c8af91623c6318badb1a4091497f8c3f9c604b49817d2eec38cea8d6c3efcee3b3594dc52d8930cfc758e297de6fbf087c0df84df1de920a84cb129a7bb8cfa6a68b938307d4a7e93ae1f03ce5605e3fce71afbfc5e562a727dfb9069fe0dfd0ad019fb4c91724c89af86caafb1a6b508831c6df3a64bf795c1dc72e507f69cb37566cff77899cbd899ddbe626c6bd952db75b3c0e3639f5fb1c1d19ed5c3548e68a1cbfca1f80c91452aee5a8dbfc0d30c848bc880a88be0d6446537e42de4400a5d5b64bb57d0015f1e5fa10b23a8b70d0c1a41dbb9d20348cbc68f1d65d997d9852cfca10aefa13da27cc7b0f6a3653024bd33b6729090c4fb4be980f0425598092cc6e659c017e61f644eb1a80fa0bc5dd1aae99a51445e0f55e853748ac793d53e0033673d62072c08e64b9642f9d99a5f0f23b0a1073dde8dd7e76cb0995722928a0ef6a71b3b59ea40b341bc6a4c36695bb727f3750d47f1a203deba8f3d4f620df41395c5f120ac488962f5fd3db4f372e2f17682d264ebef75dc8b596acd6bd54c6fb4a8c1119166bc85444e491b1cc17b0f81547f4796b8007254f5a895df434e830fdb2d1d95c732b3231f1f8c2e60c24977f876bf299e90269905dec1ea004a71d1ed82c851972cc2b87fee07bb7a3ea05199b949a753f7990c59cdf21d83e1bea50e6c59a2f8658ac70722d4bc2b72435054c63ce46c03dea67b5430fd7a5c91c71ebd902a7e949c8f063303ac110a20191b246df42dfd10d2eec37c8a891d1ca8b97f6ffcf776531dbd156effd631f428e23ea4ad8f5b6521bfb61c37837377bd6c178047b2971c8e1fe4ed143a1f8cbca9b9a2058b42df1fa282b63b9fbb240de487e3d647c8e56066f1d46b10cbcc7fcd6d7a63a14b88d9b946b313890343ebfcbd1bf1f7dc78f94f6e04591ab5021846f41ae1dcde6e7a81c0dc1638b1ae0235b5f7506b1d81d89ced8d80356e58221d8d3f05dbf072e513cd2454bff7bd8e22dca397753afa6ee4a609c16afd34e44d45911484e32079c7b683b9b3814f2a5e76a42d88ff3fcda41a8645d670a36b56ce53d9b2d2fe13a3f750d76939c7366cd224201e04c2198df501ca101e3c706f4fe19ad42cf7f4e6a6f755b0431b3f7e7c189427c576234e068e461c84d7bba04c1c3a308482305761869d66752cd1490f66b6b53d570b9aac11be2de7ac29c50aab942375e39ff176ace19cea25783df8c9435dfd9c3df299a73db5c745b7d3acb7970f87906cf8ea3a9ce79fb035f789649678de5d3dfc2221bc7e486575d0a5f2d558e93ae255ded8f29bf5a7c9d90dee719e525816826bc85024ca6443961956a743ad20648472c1ad850ea4d34e71ebfb4736c3e1028fd578cdff195319b05ec5806be65a8865f4a634c42175c99944f87248aa5d122c159396bf40d579033c02be840305d2371fcad71cc2fc33cf787f947fb37b3259225ffff068011a0c5d2bbb1333f244026b315710b2bf1ec8ff111ef93fa3d843cd6b0a1ef945cb35f73711391061d148be99917c9c84856b9e383942039e77973dcecc9808c36884679ace8bb5d8b64e1ab273d18d0f5362045176f6f74f7b1ff64ed65ca0692b21839435304810bfd14f9ff2ec035b99bf0c1b3a7393c4c9978acd69bda7a9b7c551a464b3a2791591acd71f6dab219096386d8abcbfb5dd1c4dd5ceac20e0073e54875f80108368e0a5256eee80ea2fe1092a9cf04cf5a2ac6b9cd2f1d1c2a88fd6cdafeb3ba798f1631752b2acc9f69a097f39daffe816a082d324c96f3793145517c1537e667ff9bd6d31b5213a7902093c9aa111bb95b882b0d00c3b4233d8d4718c2c1f546aacc9ff214bbe298cc97280b9faaf1f226efdf14ba4de4c7beeeb8182339f6e82e7a262fe7150ee81e0ce7f2517fc13e2cb72c30a8b590a9d3effc0a0bc0204fc42ce61b240cf597b1734aa9fa6ce5da171f203f3cbf067c8755a072a1a2bafcacb81e2897de260c25710f452554098573d5e6a35c6fe22bb48a270a2d2b0c516dc5096572685284b55cd4bd951a53f30917d29a06f765ccb669f0f735efde450d0a9a2b720d993a6a0cd436de0f1a2e03c32e7d2edf555024e30cae08f3380970ee3c26e51985748d86f7ad1868d0429f9df0b3e359f8001278d07cf8e08154612f3202757d4fc0d85a7f40bd86e21de9c29ca0b8604113f8cb3d4b5c67c96dbed485b7ac6036cbe276c591b716c37ebe2a757727c91c3bd04b31818c40009df81a4d12552c2a174113b3686a91ac72ff2b3e205cd19c752a84353b24f803e30818fc14817b3eca0f11a17e0aceff8a374f68d757c471e8c7a874563a2b28845431ea4c27cf4eae976f2deeee437d1dcb842ea0b9184ced4d1269e4dda2e76b12cbb48c88684fc1b5375eb520d679104dc4a8b1e29c955c42e85820f5a4e1fc35da35fa9e2e5033aa33cae1d031ac45f9a099881a3d57d1cafbb3680b7f46098e4062d8383a2a3d616b6886dd75420eff38c1f658cf958a87a2216988460569a769ff7f03121c06c5e75d4a618162a6ba6502723340889743f3b54119821b8901c97131924d010c6979851900fe3fd64a85a9044cd8508faa41d64b7f6c2ed3c65335bc7626bb26477565d638b6e3bf832098553c788155560839dfd86a413b2b7b26f9b05d941211df8b51e1778c3820d57f17f7b9d5c7c076706cc0bd4c127f9b83d66a93cc3e7e3dcf14d4d2729b7feb6b8acfa0fb3db7d8e2ac20e876f6707e1ed4660f86d144e74f3dde69ba9ed73208c98e2f3af254b534063c252d606e97f82d985785ab29c80185f141fecb3b3f23de72f6e954a7c507de364db9260bcac0f603385cf0318e9f20e30673bbd9cc49ba807ec1153496fec33be67c1a5441388e127c34d22744d3af8564616c101ff605b9dbc809f79b5fb228e9495b023b925369977e5ecd9f95e5e1da012da90ad19cd689676ef15a592d13c9b6703363d90870a693f460767a5612f3482a0392fde04e07aef79053f9bd73fadd965964e5f84f99f03fa41962bc3089402b47b3bdb755bcc4a6b2732b227d4fdfd1d2f2ccf87f0939f1308da381f116a19f25f2931c1ee6c418fad062ea91bfa4b6747a68e8c9ee6972e90c2cb3bf8d01b342d780df520a457d616cd88f48e35d41ec2baaa3121525bd03c98daa28cdad46b7e7ab3a02021c5cf6abce6500e541619a1f21f4283c291c9835bedbe37d74c2dc3490a61b7e7</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-surge">      <input class="hbe hbe-input-field hbe-input-field-surge" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-surge" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-surge" data-content="è¯· è¾“ å…¥ é˜… è¯» å¯† ç .">è¯· è¾“ å…¥ é˜… è¯» å¯† ç .</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-surge" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M1200,9c0,0-305.005,0-401.001,0C733,9,675.327,4.969,598,4.969C514.994,4.969,449.336,9,400.333,9C299.666,9,0,9,0,9v43c0,0,299.666,0,400.333,0c49.002,0,114.66,3.484,197.667,3.484c77.327,0,135-3.484,200.999-3.484C894.995,52,1200,52,1200,52V9z"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦è®°å½•è¿‘æœŸçš„é¡¹ç›®å¼€å‘è®¡åˆ’ã€‚</summary>
    
    
    
    <category term="hide" scheme="https://www.techgrow.cn/categories/hide/"/>
    
    
    <category term="åŠ å¯†åšå®¢" scheme="https://www.techgrow.cn/tags/%E5%8A%A0%E5%AF%86%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
  <entry>
    <title>Centos7 ä½¿ç”¨ Rsync åŒæ­¥æ–‡ä»¶</title>
    <link href="https://www.techgrow.cn/posts/a8ab361e.html"/>
    <id>https://www.techgrow.cn/posts/a8ab361e.html</id>
    <published>2022-03-19T13:48:23.000Z</published>
    <updated>2022-03-19T13:48:23.000Z</updated>
    
    <content type="html"><![CDATA[<div id="readmore-container"><!-- toc --><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Rsync æ˜¯ä¸€ä¸ªå¢é‡å¤‡ä»½å·¥å…·ï¼Œå¯å‹ç¼©æ•°æ®ä¼ è¾“ï¼Œé€Ÿåº¦å¿«ä¸”å¢é‡å¤‡ä»½ï¼Œå ç”¨æµé‡å°‘ã€‚</p><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><h3 id="åˆ›å»ºç”¨æˆ·"><a href="#åˆ›å»ºç”¨æˆ·" class="headerlink" title="åˆ›å»ºç”¨æˆ·"></a>åˆ›å»ºç”¨æˆ·</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºç”¨æˆ·ç»„</span></span><br><span class="line"><span class="keyword"># groupadd</span> www</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºç”¨æˆ·</span></span><br><span class="line"><span class="keyword"># useradd</span><span class="params"> -g</span> www www<span class="params">  -s</span> /bin/<span class="literal">false</span></span><br></pre></td></tr></tbody></table></figure><span id="more"></span><h3 id="åˆ›å»ºé…ç½®æ–‡ä»¶"><a href="#åˆ›å»ºé…ç½®æ–‡ä»¶" class="headerlink" title="åˆ›å»ºé…ç½®æ–‡ä»¶"></a>åˆ›å»ºé…ç½®æ–‡ä»¶</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºRsyncæœåŠ¡å™¨ä¿¡æ¯æç¤ºæ–‡ä»¶</span></span><br><span class="line"><span class="keyword"># echo</span> <span class="string">"Welcome To Access"</span> &gt; /etc/rsyncd.motd</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºRsyncæœåŠ¡å™¨å¯†ç æ–‡ä»¶ï¼Œå…¶ä¸­ RsyncUser æ˜¯ç”¨æˆ·åï¼Œ123456 æ˜¯å¯†ç </span></span><br><span class="line"><span class="keyword"># echo</span> <span class="string">"RsyncUser:123456"</span> &gt; /etc/rsyncd.secrets</span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="keyword"># Rsync</span>æœåŠ¡å™¨å¯†ç æ–‡ä»¶æˆæƒï¼Œæ‰€å±çš„ç”¨æˆ·å’Œç”¨æˆ·ç»„å¿…é¡»éƒ½æ˜¯ rootï¼ŒåŒæ—¶æƒé™å¿…é¡»ä¸º 600</span><br><span class="line"><span class="keyword"># chown</span> root:root /etc/rsyncd.secrets</span><br><span class="line"><span class="keyword"># chmod</span> 600 /etc/rsyncd.secrets</span><br></pre></td></tr></tbody></table></figure><h2 id="å®‰è£…-Rsync"><a href="#å®‰è£…-Rsync" class="headerlink" title="å®‰è£… Rsync"></a>å®‰è£… Rsync</h2><h3 id="å®‰è£…-Rsync-æœåŠ¡"><a href="#å®‰è£…-Rsync-æœåŠ¡" class="headerlink" title="å®‰è£… Rsync æœåŠ¡"></a>å®‰è£… Rsync æœåŠ¡</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…</span></span><br><span class="line"><span class="keyword">#&nbsp;yum</span> install rsync</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€æœºè‡ªå¯åŠ¨</span></span><br><span class="line"><span class="keyword"># systemctl</span> <span class="built_in">enable</span> rsyncd</span><br></pre></td></tr></tbody></table></figure><div class="admonition warning"><p class="admonition-title">æ³¨æ„</p><p>è¿™é‡Œè¿˜éœ€è¦æ›´æ”¹ systemd çš„é…ç½®æ–‡ä»¶ï¼ŒåŠ å…¥ä»¥ä¸‹å†…å®¹ï¼Œå¦åˆ™ Rsync æœåŠ¡å¼€æœºæ— æ³•æ­£å¸¸è‡ªå¯åŠ¨ã€‚</p></div><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ›´æ”¹systemdçš„é…ç½®æ–‡ä»¶ï¼ŒåŠ å…¥ä»¥ä¸‹å†…å®¹</span></span><br><span class="line"><span class="keyword"># vim</span> /usr/lib/systemd/system/rsyncd.service</span><br><span class="line">[Unit]</span><br><span class="line">...</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®©é…ç½®æ–‡ä»¶ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="keyword"># systemctl</span> daemon-reload</span><br></pre></td></tr></tbody></table></figure><h3 id="é…ç½®-Rsync-æœåŠ¡"><a href="#é…ç½®-Rsync-æœåŠ¡" class="headerlink" title="é…ç½® Rsync æœåŠ¡"></a>é…ç½® Rsync æœåŠ¡</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¤‡ä»½é»˜è®¤çš„é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="keyword"># cp</span> /etc/rsyncd.conf /etc/rsyncd.conf.bak</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼ˆè¯·è‡ªè¡Œæ ¹æ®å®é™…æƒ…å†µæ›´æ”¹å¯¹åº”çš„é…ç½®å†…å®¹ï¼‰</span></span><br><span class="line"><span class="keyword"># vim</span> /etc/rsyncd.conf</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"># è®¾ç½®æœåŠ¡å™¨ä¿¡æ¯æç¤ºæ–‡ä»¶åç§°ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­ç¼–å†™æç¤ºä¿¡æ¯</span><br><span class="line">motd file = /etc/rsyncd.motd</span><br><span class="line"># å¼€å¯Rsyncæ•°æ®ä¼ è¾“æ—¥å¿—åŠŸèƒ½</span><br><span class="line">transfer logging = yes</span><br><span class="line"># è®¾ç½®æ—¥å¿—æ–‡ä»¶åç§°ï¼Œå¯ä»¥é€šè¿‡log formatå‚æ•°è®¾ç½®æ—¥å¿—æ ¼å¼</span><br><span class="line">log file =/var/log/rsyncd.log</span><br><span class="line"># è®¾ç½®Rsyncè¿›ç¨‹å·ä¿å­˜æ–‡ä»¶åç§°</span><br><span class="line">pid file =/var/run/rsyncd.pid</span><br><span class="line"># è®¾ç½®é”æ–‡ä»¶åç§°</span><br><span class="line">lock file =/var/run/rsync.lock</span><br><span class="line"># è®¾ç½®æœåŠ¡å™¨ç›‘å¬çš„ç«¯å£å·ï¼Œé»˜è®¤ä¸º873 </span><br><span class="line">port = 873</span><br><span class="line"># è®¾ç½®æœåŠ¡å™¨æ‰€ç›‘å¬ç½‘å¡æ¥å£çš„IPåœ°å€ï¼ˆå†…ç½‘IPï¼‰</span><br><span class="line">address = 172.0.25.18</span><br><span class="line"># è®¾ç½®è¿›è¡Œæ•°æ®ä¼ è¾“æ—¶æ‰€ä½¿ç”¨çš„è´¦æˆ·åç§°æˆ–IDå·ï¼Œé»˜è®¤ä½¿ç”¨nobody </span><br><span class="line">uid = www</span><br><span class="line"># è®¾ç½®è¿›è¡Œæ•°æ®ä¼ è¾“æ—¶æ‰€ä½¿ç”¨çš„ç»„åç§°æˆ–GIDå·ï¼Œé»˜è®¤ä½¿ç”¨nobody </span><br><span class="line">gid = www</span><br><span class="line"># è®¾ç½®user chrootä¸ºyesåï¼Œrsyncä¼šé¦–å…ˆè¿›è¡Œchrootè®¾ç½®ï¼Œå°†æ ¹æ˜ å°„åˆ°pathå‚æ•°è·¯å¾„ä¸‹ï¼Œå¯¹å®¢æˆ·ç«¯è€Œè¨€ï¼Œç³»ç»Ÿçš„æ ¹å°±æ˜¯pathå‚æ•°æ‰€æŒ‡å®šçš„è·¯å¾„ã€‚ä½†è¿™æ ·åšéœ€è¦rootæƒé™ï¼Œå¹¶ä¸”åœ¨åŒæ­¥ç¬¦å·è¿æ¥èµ„æ–™æ—¶ä»…ä¼šåŒæ­¥åç§°ï¼Œè€Œå†…å®¹å°†ä¸ä¼šåŒæ­¥ã€‚ </span><br><span class="line">use chroot = no</span><br><span class="line"># æ˜¯å¦å…è®¸å®¢æˆ·ç«¯ä¸Šä¼ æ•°æ®ï¼Œè¿™é‡Œè®¾ç½®ä¸ä¸ºåªè¯»ã€‚ </span><br><span class="line">read only = no</span><br><span class="line"># è®¾ç½®å¹¶å‘è¿æ¥æ•°ï¼Œ0ä»£è¡¨æ— é™åˆ¶ã€‚è¶…å‡ºå¹¶å‘æ•°åï¼Œå¦‚æœä¾ç„¶æœ‰å®¢æˆ·ç«¯è¿æ¥è¯·æ±‚ï¼Œåˆ™å°†ä¼šæ”¶åˆ°ç¨åé‡è¯•çš„æç¤ºæ¶ˆæ¯ </span><br><span class="line">max connections = 10</span><br><span class="line"># æ¨¡å—ï¼ŒRsyncé€šè¿‡æ¨¡å—å®šä¹‰åŒæ­¥çš„ç›®å½•ï¼Œæ¨¡å—ä»¥[name]çš„å½¢å¼å®šä¹‰ï¼Œè¿™ä¸Sambaå®šä¹‰å…±äº«ç›®å½•æ˜¯ä¸€æ ·çš„æ•ˆæœï¼Œåœ¨Rsyncä¸­ä¹Ÿå¯ä»¥å®šä¹‰å¤šä¸ªæ¨¡å—</span><br><span class="line">[blog]</span><br><span class="line"># commentå®šä¹‰æ³¨é‡Šè¯´æ˜å­—ä¸² </span><br><span class="line">comment = rsync blog files</span><br><span class="line"># åŒæ­¥ç›®å½•çš„çœŸå®è·¯å¾„é€šè¿‡pathæŒ‡å®š </span><br><span class="line">path = /home/www/blog</span><br><span class="line"># å¿½ç•¥ä¸€äº›IOé”™è¯¯ </span><br><span class="line">ignore errors</span><br><span class="line"># excludeå¯ä»¥æŒ‡å®šä¾‹å¤–çš„ç›®å½•ï¼Œå³å°†commonç›®å½•ä¸‹çš„æŸä¸ªç›®å½•è®¾ç½®ä¸ºä¸åŒæ­¥æ•°æ® </span><br><span class="line"># exclude = test/ </span><br><span class="line"># è®¾ç½®å…è®¸è¿æ¥æœåŠ¡å™¨çš„è´¦æˆ·ï¼Œè´¦æˆ·å¯ä»¥æ˜¯ç³»ç»Ÿä¸­ä¸å­˜åœ¨çš„ç”¨æˆ· </span><br><span class="line">auth users = RsyncUser</span><br><span class="line"># è®¾ç½®å¯†ç æ–‡ä»¶åç§°ï¼Œæ³¨æ„è¯¥æ–‡ä»¶çš„æƒé™è¦æ±‚ä¸ºåªè¯»ï¼Œå»ºè®®æƒé™ä¸º600ï¼Œä»…åœ¨è®¾ç½®auth userså‚æ•°åæœ‰æ•ˆ </span><br><span class="line">secrets file = /etc/rsyncd.secrets</span><br><span class="line"># è®¾ç½®å…è®¸å“ªäº›ä¸»æœºå¯ä»¥åŒæ­¥æ•°æ®ï¼Œå¯ä»¥æ˜¯å•ä¸ªIPï¼Œä¹Ÿå¯ä»¥æ˜¯ç½‘æ®µï¼Œå¤šä¸ªIPä¸ç½‘æ®µä¹‹é—´ä½¿ç”¨ç©ºæ ¼åˆ†éš” </span><br><span class="line">hosts allow = *</span><br><span class="line"># è®¾ç½®æ‹’ç»æ‰€æœ‰ï¼ˆé™¤hosts allowå®šä¹‰çš„ä¸»æœºå¤–ï¼‰ </span><br><span class="line"># hosts deny = *</span><br><span class="line"># å®¢æˆ·ç«¯è¯·æ±‚æ˜¾ç¤ºæ¨¡å—åˆ—è¡¨æ—¶ï¼Œæœ¬æ¨¡å—åç§°æ˜¯å¦æ˜¾ç¤ºï¼Œé»˜è®¤ä¸ºtrue </span><br><span class="line">list = true</span><br></pre></td></tr></tbody></table></figure><h3 id="å¯åŠ¨-Rsync-æœåŠ¡"><a href="#å¯åŠ¨-Rsync-æœåŠ¡" class="headerlink" title="å¯åŠ¨ Rsync æœåŠ¡"></a>å¯åŠ¨ Rsync æœåŠ¡</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨æœåŠ¡</span></span><br><span class="line"><span class="keyword"># systemctl</span> start rsyncd</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æœåŠ¡çš„è¿è¡ŒçŠ¶æ€</span></span><br><span class="line"><span class="keyword"># systemctl</span> status rsyncd</span><br></pre></td></tr></tbody></table></figure><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç®¡ç† Rsync æœåŠ¡ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…³é—­æœåŠ¡</span></span><br><span class="line"><span class="keyword"># systemctl</span> stop rsyncd</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯æœåŠ¡</span></span><br><span class="line"><span class="keyword"># systemctl</span> restart rsyncd</span><br></pre></td></tr></tbody></table></figure><h3 id="é…ç½®ç³»ç»Ÿé˜²ç«å¢™"><a href="#é…ç½®ç³»ç»Ÿé˜²ç«å¢™" class="headerlink" title="é…ç½®ç³»ç»Ÿé˜²ç«å¢™"></a>é…ç½®ç³»ç»Ÿé˜²ç«å¢™</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¼€æ”¾Rsyncç›‘å¬çš„ç«¯å£ï¼ˆé»˜è®¤ç«¯å£æ˜¯873ï¼‰</span></span><br><span class="line"><span class="keyword"># firewall</span>-cmd<span class="params"> --permanent</span><span class="params"> --add</span>-port=873/tcp</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®©é˜²ç«å¢™è§„åˆ™ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="keyword"># firewall</span>-cmd<span class="params"> --reload</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰å¼€æ”¾çš„ç«¯å£</span></span><br><span class="line"><span class="keyword"># firewall</span>-cmd<span class="params"> --list</span>-ports</span><br></pre></td></tr></tbody></table></figure><h2 id="æµ‹è¯•æ–‡ä»¶åŒæ­¥æœåŠ¡"><a href="#æµ‹è¯•æ–‡ä»¶åŒæ­¥æœåŠ¡" class="headerlink" title="æµ‹è¯•æ–‡ä»¶åŒæ­¥æœåŠ¡"></a>æµ‹è¯•æ–‡ä»¶åŒæ­¥æœåŠ¡</h2><div class="admonition note"><p class="admonition-title">æç¤º</p><p>åœ¨ä¸‹è¿°çš„æ¡ˆä¾‹é‡Œï¼Œå„å‘½ä»¤å‚æ•°çš„è¯´æ˜å¦‚ä¸‹ï¼š</p><ul><li><code>183.242.11.186</code>ï¼šæœåŠ¡å™¨çš„ IP åœ°å€</li><li><code>blog</code>ï¼šåœ¨ <code>/etc/rsyncd.conf</code> é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„æ¨¡å—åç§°</li><li><code>RsyncUser</code>ï¼šåœ¨ <code>/etc/rsyncd.secrets</code> é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„ç”¨æˆ·å</li><li><code>--delete</code>ï¼šè¡¨ç¤ºåŒæ­¥æ–‡ä»¶æ—¶ï¼Œåˆ é™¤ç›®æ ‡ç›®å½•æ¯”æºç›®å½•å¤šä½™çš„æ–‡ä»¶</li></ul></div><h3 id="åŒæ­¥ç›®å½•æˆæƒ"><a href="#åŒæ­¥ç›®å½•æˆæƒ" class="headerlink" title="åŒæ­¥ç›®å½•æˆæƒ"></a>åŒæ­¥ç›®å½•æˆæƒ</h3><p>åœ¨æœåŠ¡å™¨ä¸Šï¼Œç¡®ä¿ç”¨æˆ·æ‹¥æœ‰åœ¨ <code>/etc/rsyncd.conf</code> é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„ <code>path</code> åŒæ­¥ç›®å½•çš„è®¿é—®æƒé™ã€‚</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŒæ­¥ç›®å½•æˆæƒ</span></span><br><span class="line"><span class="keyword"># chown</span><span class="params"> -R</span> www:www /home/www/blog</span><br></pre></td></tr></tbody></table></figure><h3 id="å®¢æˆ·ç«¯åŒæ­¥æœåŠ¡å™¨æ–‡ä»¶åˆ°æœ¬åœ°"><a href="#å®¢æˆ·ç«¯åŒæ­¥æœåŠ¡å™¨æ–‡ä»¶åˆ°æœ¬åœ°" class="headerlink" title="å®¢æˆ·ç«¯åŒæ­¥æœåŠ¡å™¨æ–‡ä»¶åˆ°æœ¬åœ°"></a>å®¢æˆ·ç«¯åŒæ­¥æœåŠ¡å™¨æ–‡ä»¶åˆ°æœ¬åœ°</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®¢æˆ·ç«¯åŒæ­¥æœåŠ¡å™¨çš„æŸä¸ªæ–‡ä»¶åˆ°æœ¬åœ°</span></span><br><span class="line"><span class="keyword">$ rsync</span><span class="params"> -vzrtopg</span><span class="params"> --progress</span> RsyncUser@183.242.11.186::blog/index.html ./</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®¢æˆ·ç«¯åŒæ­¥æœåŠ¡å™¨çš„æŸä¸ªç›®å½•åˆ°æœ¬åœ°</span></span><br><span class="line"><span class="keyword">$ rsync</span><span class="params"> -vzrtopg</span><span class="params"> --progress</span> RsyncUser@183.242.11.186::blog/posts/ ./posts/</span><br></pre></td></tr></tbody></table></figure><h3 id="å®¢æˆ·ç«¯åŒæ­¥æœ¬åœ°æ–‡ä»¶åˆ°æœåŠ¡å™¨"><a href="#å®¢æˆ·ç«¯åŒæ­¥æœ¬åœ°æ–‡ä»¶åˆ°æœåŠ¡å™¨" class="headerlink" title="å®¢æˆ·ç«¯åŒæ­¥æœ¬åœ°æ–‡ä»¶åˆ°æœåŠ¡å™¨"></a>å®¢æˆ·ç«¯åŒæ­¥æœ¬åœ°æ–‡ä»¶åˆ°æœåŠ¡å™¨</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®¢æˆ·ç«¯åŒæ­¥æœ¬åœ°çš„æŸä¸ªæ–‡ä»¶åˆ°æœåŠ¡å™¨</span></span><br><span class="line"><span class="keyword">$ rsync</span><span class="params"> -rlptDv</span> index.html RsyncUser@183.242.11.186::blog/</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®¢æˆ·ç«¯åŒæ­¥æœ¬åœ°çš„æŸä¸ªç›®å½•åˆ°æœåŠ¡å™¨ï¼ˆæœ¬åœ°çš„ç›®å½•è·¯å¾„å¿…é¡»ä¸ä»¥'/'ç»“å°¾ï¼‰</span></span><br><span class="line"><span class="keyword">$ rsync</span><span class="params"> -avzP</span><span class="params"> --delete</span> ./posts RsyncUser@183.242.11.186::blog/</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®¢æˆ·ç«¯åŒæ­¥æœ¬åœ°æŸä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åˆ°æœåŠ¡å™¨ï¼ˆæœ¬åœ°çš„ç›®å½•è·¯å¾„å¿…é¡»ä»¥'/'ç»“å°¾ï¼‰</span></span><br><span class="line"><span class="keyword">$ rsync</span><span class="params"> -avzP</span><span class="params"> --delete</span> ./posts/ RsyncUser@183.242.11.186::blog/</span><br></pre></td></tr></tbody></table></figure><h2 id="è®¾ç½®åŒæ­¥æ—¶ä¸æ‰‹åŠ¨è¾“å…¥å¯†ç "><a href="#è®¾ç½®åŒæ­¥æ—¶ä¸æ‰‹åŠ¨è¾“å…¥å¯†ç " class="headerlink" title="è®¾ç½®åŒæ­¥æ—¶ä¸æ‰‹åŠ¨è¾“å…¥å¯†ç "></a>è®¾ç½®åŒæ­¥æ—¶ä¸æ‰‹åŠ¨è¾“å…¥å¯†ç </h2><p>åœ¨å®¢æˆ·ç«¯åŒæ­¥æ–‡ä»¶æ—¶æŒ‡å®šå¯†ç æ–‡ä»¶ï¼Œè¿™æ ·å¯ä»¥é¿å…æ¯æ¬¡éƒ½æ‰‹åŠ¨è¾“å…¥å¯†ç ã€‚</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨æœ¬åœ°åˆ›å»ºå¯†ç æ–‡ä»¶ï¼Œå…¶ä¸­ 123456 æ˜¯å¯†ç ï¼Œè¿™é‡Œä¸éœ€è¦æŒ‡å®šç”¨æˆ·å</span></span><br><span class="line"><span class="keyword"># echo</span> <span class="string">"123456"</span> &gt; /etc/rsyncd.password</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯†ç æ–‡ä»¶æˆæƒï¼Œæ‰€å±çš„ç”¨æˆ·å’Œç”¨æˆ·ç»„å¿…é¡»éƒ½æ˜¯ rootï¼ŒåŒæ—¶æƒé™å¿…é¡»ä¸º 600</span></span><br><span class="line"><span class="keyword"># chown</span> root:root /etc/rsyncd.password</span><br><span class="line"><span class="keyword"># chmod</span> 600 /etc/rsyncd.password</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®¢æˆ·ç«¯åŒæ­¥æœåŠ¡å™¨çš„æŸä¸ªæ–‡ä»¶åˆ°æœ¬åœ°ï¼ˆæŒ‡å®šå¯†ç æ–‡ä»¶ï¼‰</span></span><br><span class="line"><span class="keyword"># rsync</span><span class="params"> -vzrtopg</span><span class="params"> --progress</span> RsyncUser@183.242.11.186::blog/index.html ./<span class="params"> --password</span>-file=/etc/rsyncd.password</span><br></pre></td></tr></tbody></table></figure><div class="admonition note"><p class="admonition-title">æç¤º</p><p>é™¤äº†ä¸Šè¿°çš„æ–¹æ³•ä¹‹å¤–ï¼Œè¿˜å¯é€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡çš„æ–¹å¼ï¼Œé¿å…æ¯æ¬¡éƒ½æ‰‹åŠ¨è¾“å…¥å¯†ç ã€‚</p></div><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®å¯†ç </span></span><br><span class="line"><span class="keyword"># export</span> RSYNC_PASSWORD=<span class="string">"123456"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®¢æˆ·ç«¯åŒæ­¥æœåŠ¡å™¨çš„æŸä¸ªæ–‡ä»¶åˆ°æœ¬åœ°</span></span><br><span class="line"><span class="keyword"># rsync</span><span class="params"> -vzrtopg</span><span class="params"> --progress</span> RsyncUser@183.242.11.186::blog/index.html ./</span><br></pre></td></tr></tbody></table></figure><h2 id="ä¸åŒæ­¥æ–‡ä»¶çš„æ‰€æœ‰è€…å’Œç”¨æˆ·ç»„ä¿¡æ¯"><a href="#ä¸åŒæ­¥æ–‡ä»¶çš„æ‰€æœ‰è€…å’Œç”¨æˆ·ç»„ä¿¡æ¯" class="headerlink" title="ä¸åŒæ­¥æ–‡ä»¶çš„æ‰€æœ‰è€…å’Œç”¨æˆ·ç»„ä¿¡æ¯"></a>ä¸åŒæ­¥æ–‡ä»¶çš„æ‰€æœ‰è€…å’Œç”¨æˆ·ç»„ä¿¡æ¯</h2><p>åœ¨ <code>rsync -a dir/ remote:/dir/</code> å‘½ä»¤ä¸­ï¼Œ<code>-a</code> ç›¸å½“äº <code>-rlptgoD</code>ï¼Œå„å‚æ•°é€‰é¡¹çš„è¯´æ˜å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-o, --owner                 preserve owner (super-user only)</span><br><span class="line">-g, --group                 preserve group</span><br><span class="line">-r, --recursive             recurse into directories</span><br><span class="line">-l, --links                 copy symlinks as symlinks</span><br><span class="line">-p, --perms                 preserve permissions</span><br><span class="line">-t, --times                 preserve modification times</span><br><span class="line">-D                          same as --devices --specials</span><br><span class="line">    --devices               preserve device files (super-user only)</span><br><span class="line">    --specials              preserve special files</span><br></pre></td></tr></tbody></table></figure><p>è‹¥å¸Œæœ›ä¸åŒæ­¥æ–‡ä»¶çš„æ‰€æœ‰è€…å’Œç”¨æˆ·ç»„ä¿¡æ¯ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡ç§»é™¤ <code>-o</code> å’Œ <code>-g</code> å‚æ•°é€‰é¡¹æ¥å®ç°ï¼Œç¤ºä¾‹å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">$ rsync</span><span class="params"> -a</span><span class="params"> --no</span>-o<span class="params"> --no</span>-g dir/ remote:/dir/</span><br></pre></td></tr></tbody></table></figure><h2 id="ç”¨å‚æ•°æ§åˆ¶-Rsync-åŒæ­¥æ—¶çš„æ¯”è¾ƒç®—æ³•"><a href="#ç”¨å‚æ•°æ§åˆ¶-Rsync-åŒæ­¥æ—¶çš„æ¯”è¾ƒç®—æ³•" class="headerlink" title="ç”¨å‚æ•°æ§åˆ¶ Rsync åŒæ­¥æ—¶çš„æ¯”è¾ƒç®—æ³•"></a>ç”¨å‚æ•°æ§åˆ¶ Rsync åŒæ­¥æ—¶çš„æ¯”è¾ƒç®—æ³•</h2><p>Rsync é»˜è®¤åªä¼šæ¯”è¾ƒæ–‡ä»¶å¤§å°å’Œæœ€åä¿®æ”¹æ—¶é—´ï¼Œåªè¦è¿™ä¸¤è€…ä¸€æ ·ï¼ŒRsync å°±è®¤ä¸ºæ–‡ä»¶ç›¸åŒï¼›æ­¤æ—¶å¦‚æœå…¶å®ƒå±æ€§ï¼ˆåŒ…æ‹¬æ–‡ä»¶å†…å®¹ï¼‰çš„ä¸åŒï¼Œå¹¶ä¸ä¼šè®© Rsync åŒæ­¥è¯¥æ–‡ä»¶ã€‚æ‰€ä»¥ï¼Œå¦‚æœæœ¬åœ°æ–‡ä»¶ä¸è¿œç¨‹æ–‡ä»¶å¤§å°ä¸€æ ·ï¼Œä¿®æ”¹æ—¶é—´ä¹Ÿä¸€æ ·ï¼Œé‚£ä¹ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œå³ä½¿æ–‡ä»¶å†…å®¹ä¸ä¸€æ ·çš„æ–‡ä»¶ä¹Ÿä¸åŒè¢«åŒæ­¥ã€‚é€šè¿‡è®¾ç½®åˆé€‚çš„å‚æ•°ï¼Œå¯ä»¥æ§åˆ¶ Rsync çš„æ¯”è¾ƒç®—æ³•ï¼Œå…¶ä¸­ Rsync ä½¿ç”¨ä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤æ¥æ¯”è¾ƒæ–‡ä»¶ï¼š</p><ul><li>a) æ¯”è¾ƒæ–‡ä»¶å¤§å°</li><li> b) æ¯”è¾ƒæ–‡ä»¶æœ€åä¿®æ”¹æ—¥æœŸ</li><li> c) æ¯”è¾ƒæ–‡ä»¶å†…å®¹ï¼Œé€šè¿‡ <code>checksum</code>ï¼Œä¾‹å¦‚ä½¿ç”¨ <code>md5sum</code></li></ul><p>å¯ä»¥ç”¨å‚æ•°æ¥æ§åˆ¶ Rsync æ‰§è¡Œä¸Šé¢çš„å“ªäº›æ­¥éª¤ï¼š</p><ul><li>é»˜è®¤çš„æ¯”è¾ƒç®—æ³•åªæ‰§è¡Œ a å’Œ b</li><li> å‚æ•° <code>--size-only</code> åªæ£€æŸ¥ a ï¼Œå³åªè¦æ–‡ä»¶å¤§å°ä¸€æ ·ï¼Œå³ä½¿ä¿®æ”¹æ—¥æœŸä¸ä¸€æ ·ï¼Œå°±è®¤ä¸ºæ–‡ä»¶ä¸€æ ·ï¼Œæ›´ä¸ä¼šå»æ£€æŸ¥æ–‡ä»¶å†…å®¹</li><li>å‚æ•° <code>--ignore-times</code> æ˜¯å¿½ç•¥æ‰€æœ‰æ£€æŸ¥ï¼Œç›´æ¥è®¤ä¸ºæ–‡ä»¶éƒ½ä¸ä¸€æ ·ï¼Œç„¶åæ€»æ˜¯å¤åˆ¶æ–‡ä»¶</li><li>å‚æ•° <code>--checksum</code> æ˜¯åœ¨ a çš„åŸºç¡€ä¸Šæ‰§è¡Œ c ï¼Œæ¯”è¾ƒæ–‡ä»¶å†…å®¹ã€‚å¦‚æœæ–‡ä»¶å¤§å°ä¸ä¸€æ ·ï¼Œå¯ä»¥ç¡®ä¿å†…å®¹ä¸ä¸€æ ·ã€‚å¦‚æœæ–‡ä»¶å¤§å°ä¸€æ ·ï¼Œé‚£ä¹ˆç›´æ¥æ¯”è¾ƒæ–‡ä»¶å†…å®¹ï¼Œä¸ä¼šæ‰§è¡Œ b ä¸­çš„æ¯”è¾ƒæœ€åä¿®æ”¹æ—¶é—´ã€‚è¯¥æ–¹æ³•æœ€å®‰å…¨ï¼Œä½†éœ€è¦è¯»å–ä¸¤è¾¹çš„æ–‡ä»¶å†…å®¹ï¼ŒæŸäº›æƒ…å†µä¸‹è¦æ…¢å¾ˆå¤šï¼ˆå°¤å…¶æ˜¯æœ€åæ¯”è¾ƒå‡ºæ¥çš„æ–‡ä»¶å†…å®¹ä¸€æ ·çš„æƒ…å†µï¼‰</li></ul><p>å‘½ä»¤å‚æ•°çš„ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">$ rsync</span><span class="params"> -avzP</span><span class="params"> --delete</span><span class="params"> --checksum</span> dir/ remote:/dir/</span><br></pre></td></tr></tbody></table></figure><h2 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h2><h3 id="delete-å‚æ•°ä¸ç”Ÿæ•ˆ"><a href="#delete-å‚æ•°ä¸ç”Ÿæ•ˆ" class="headerlink" title="delete å‚æ•°ä¸ç”Ÿæ•ˆ"></a>delete å‚æ•°ä¸ç”Ÿæ•ˆ</h3><ul><li><a href="https://askubuntu.com/questions/609968/rsync-delete-option-doesnt-delete-files-in-target-directory">Rsync â€“delete option doesnâ€™t delete files in target directory</a></li></ul></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {try {var plugin = new ReadmorePlugin();plugin.init({"id": "readmore-container","blogId": "96641-5333172926158-056","name": "å…¨æ ˆæŠ€æœ¯é©¿ç«™","qrcode": "https://www.techgrow.cn/img/wx_mp_qr.png","keyword": "Tech","lockToc": "yes","type": "hexo","random": "0.9","interval": "30","expires": "365","height": "auto"});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦ä»‹ç» Centos7 å¦‚ä½•ä½¿ç”¨ Rsync åŒæ­¥æ–‡ä»¶ã€‚</summary>
    
    
    
    
    <category term="Centos" scheme="https://www.techgrow.cn/tags/Centos/"/>
    
  </entry>
  
  <entry>
    <title>Centos7 å®‰è£… Edge æµè§ˆå™¨</title>
    <link href="https://www.techgrow.cn/posts/350db602.html"/>
    <id>https://www.techgrow.cn/posts/350db602.html</id>
    <published>2022-03-08T13:48:23.000Z</published>
    <updated>2022-03-08T13:48:23.000Z</updated>
    
    <content type="html"><![CDATA[<div id="readmore-container"><!-- toc --><h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p>åœ¨ Edge çš„ <a href="https://www.microsoftedgeinsider.com/zh-cn/download/?platform=linux">å®˜ç½‘</a>ï¼Œæ‰‹åŠ¨ä¸‹è½½æœ€æ–°ç‰ˆçš„ RPM å®‰è£…åŒ…ï¼Œæˆ–è€…ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œä¸‹è½½ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">$ wget</span> https://packages.microsoft.com/yumrepos/edge/microsoft-edge-dev-101.0.1193.0-1.x86_64.rpm</span><br></pre></td></tr></tbody></table></figure><span id="more"></span><h2 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword"># yum</span> install libatomic</span><br></pre></td></tr></tbody></table></figure><div class="admonition note"><p class="admonition-title">æç¤º</p><p>è‹¥ä¸æå‰å®‰è£… <code>libatomic</code> åº“ï¼Œåˆ™å®‰è£… Edge æ—¶ä¼šå‡ºç°ä»¥ä¸‹é”™è¯¯ä¿¡æ¯ã€‚</p></div><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">é”™è¯¯ï¼šä¾èµ–æ£€æµ‹å¤±è´¥ï¼š</span><br><span class="line">libatomic.so.1()(64bit) è¢« microsoft-edge-dev-101.0.1193.0-1.x86_64 éœ€è¦</span><br><span class="line">libatomic.so.1(LIBATOMIC_1.0)(64bit) è¢« microsoft-edge-dev-101.0.1193.0-1.x86_64 éœ€è¦</span><br></pre></td></tr></tbody></table></figure><h2 id="å®‰è£…-Edge-æµè§ˆå™¨"><a href="#å®‰è£…-Edge-æµè§ˆå™¨" class="headerlink" title="å®‰è£… Edge æµè§ˆå™¨"></a>å®‰è£… Edge æµè§ˆå™¨</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword"># rpm</span><span class="params"> -ivh</span> microsoft-edge-dev-101.0.1193.0-1.x86_64.rpm</span><br></pre></td></tr></tbody></table></figure></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {try {var plugin = new ReadmorePlugin();plugin.init({"id": "readmore-container","blogId": "96641-5333172926158-056","name": "å…¨æ ˆæŠ€æœ¯é©¿ç«™","qrcode": "https://www.techgrow.cn/img/wx_mp_qr.png","keyword": "Tech","lockToc": "yes","type": "hexo","random": "0.9","interval": "30","expires": "365","height": "auto"});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦ä»‹ç»Centos7å¦‚ä½•å®‰è£…Edgeæµè§ˆå™¨ã€‚</summary>
    
    
    
    <category term="hide" scheme="https://www.techgrow.cn/categories/hide/"/>
    
    
    <category term="Centos" scheme="https://www.techgrow.cn/tags/Centos/"/>
    
  </entry>
  
  <entry>
    <title>Hexo åšå®¢å¯¼æµå¾®ä¿¡å…¬ä¼—å·</title>
    <link href="https://www.techgrow.cn/posts/c86372a2.html"/>
    <id>https://www.techgrow.cn/posts/c86372a2.html</id>
    <published>2022-03-04T14:13:21.000Z</published>
    <updated>2022-03-04T14:13:21.000Z</updated>
    
    <content type="html"><![CDATA[<!-- toc --><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Hexo åšå®¢å»ºè®®å®‰è£… <a href="https://github.com/rqh656418510/hexo-readmore">hexo-readmore</a> æ’ä»¶ï¼Œå°† <a href="https://open.techgrow.cn/">TechGrow</a> çš„å…è´¹å¾®ä¿¡å…¬ä¼—å·å¯¼æµå·¥å…·æ•´åˆåˆ°åšå®¢ä¸­ï¼Œç”¨æˆ·æ‰«ç å…³æ³¨å¾®ä¿¡å…¬ä¼—å·åå¯ä»¥è§£é”å…¨ç«™æ–‡ç« ï¼Œè®©å¾®ä¿¡å…¬ä¼—å·çš„ç²‰ä¸æ•°èººç€å¢é•¿ã€‚</p><div class="admonition note"><p class="admonition-title">æç¤º</p><p>TechGrow å¼€æ”¾å¹³å°çš„ <a href="https://docs.techgrow.cn/v1/wechat/hexo/">å®˜æ–¹æ–‡æ¡£</a></p></div><h2 id="ç‰¹è‰²åŠŸèƒ½"><a href="#ç‰¹è‰²åŠŸèƒ½" class="headerlink" title="ç‰¹è‰²åŠŸèƒ½"></a>ç‰¹è‰²åŠŸèƒ½</h2><ul><li><input checked="" disabled="" type="checkbox"> å…¼å®¹ä¸»æµçš„ Hexo ä¸»é¢˜</li><li><input checked="" disabled="" type="checkbox"> æ”¯æŒéšæœºä¸ºåšå®¢æ·»åŠ å¼•æµåŠŸèƒ½</li><li><input checked="" disabled="" type="checkbox"> æ”¯æŒå…³é—­æŸç¯‡æ–‡ç« çš„å¼•æµåŠŸèƒ½</li><li><input checked="" disabled="" type="checkbox"> æ”¯æŒæŸ¥è¯¢ç”¨æˆ·è§£é”æ–‡ç« çš„å†å²è®°å½•</li><li><input checked="" disabled="" type="checkbox"> æ”¯æŒè‡ªå®šä¹‰æˆ–è€…åŠ¨æ€è®¡ç®—æ–‡ç« å†…å®¹çš„é¢„è§ˆé«˜åº¦</li><li><input checked="" disabled="" type="checkbox"> æ”¯æŒè‡ªå®šä¹‰ CSS æ ·å¼ï¼Œè½»æ¾é€‚é…ä¸åŒé£æ ¼çš„åšå®¢</li></ul><span id="more"></span><h2 id="æ³¨å†Œåšå®¢"><a href="#æ³¨å†Œåšå®¢" class="headerlink" title="æ³¨å†Œåšå®¢"></a>æ³¨å†Œåšå®¢</h2><p>æµè§ˆå™¨è®¿é—® <a href="https://open.techgrow.cn/">TechGrow</a> çš„å®˜ç½‘ ï¼Œæ³¨å†Œå¹¶ç™»å½•è´¦å·åï¼Œè¿›å…¥åšå®¢çš„åå°ç®¡ç†é¡µé¢ã€‚é¦–å…ˆç‚¹å‡»å·¦ä¾§çš„èœå• <code>åšå®¢æ³¨å†Œ</code>ï¼Œç„¶åç‚¹å‡» <code>æ–°å¢</code> æŒ‰é’®ï¼Œæ·»åŠ è‡ªå·±åšå®¢çš„ä¿¡æ¯ã€‚åšå®¢æ³¨å†ŒæˆåŠŸåï¼Œè®°å½•ä¸‹ <code>åšå®¢ ID</code>ï¼Œåé¢çš„æ­¥éª¤ä¼šä½¿ç”¨åˆ°</p><p><img data-src="https://www.techgrow.cn/uploads/2022/02/28/717e14eb59dd44dea62d6a0b7549abfd.png"></p><h2 id="è®¾ç½®å…¬ä¼—å·"><a href="#è®¾ç½®å…¬ä¼—å·" class="headerlink" title="è®¾ç½®å…¬ä¼—å·"></a>è®¾ç½®å…¬ä¼—å·</h2><p>åœ¨å¾®ä¿¡å…¬ä¼—å·çš„åå°ç®¡ç†é¡µé¢ï¼Œèœå•æ é‡Œé€‰æ‹© <code>è‡ªåŠ¨å›å¤</code> - <code>å…³é”®è¯å›å¤</code>ï¼Œå¯ç”¨ <code>è‡ªåŠ¨å›å¤</code>ï¼Œç„¶åç‚¹å‡» <code>æ·»åŠ å›å¤</code> æŒ‰é’®ï¼š</p><p><img data-src="https://www.techgrow.cn/uploads/2022/02/28/em64p7w8wlqtt0rsjop0jjeywx29m25w.png"></p><p>å¡«å†™ <code>è§„åˆ™åç§°</code>ã€<code>å…³é”®è¯ï¼ˆå½“åˆä½ åœ¨ TechGrow ä¸­è®¾ç½®çš„ï¼‰</code>ã€<code>å›å¤å†…å®¹</code> é€‰æ‹© <code>æ–‡å­—</code>ï¼Œç„¶å <code>å›å¤æ–‡å­—</code> çš„å†…å®¹å¡«å†™è·å–åšå®¢è§£é”éªŒè¯ç çš„é“¾æ¥ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼ˆè¯·è‡ªè¡Œæ›´æ”¹ <code>xxxxx-xxxxxxxxx-xxx</code> ä¸ºä½ ç”³è¯·åˆ°çš„åšå®¢ IDï¼‰</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://open.techgrow.cn/#/readmore/captcha/generate?blogId=xxxxx-xxxxxxxxx-xxx"</span>&gt;</span>ç‚¹å‡»é“¾æ¥ï¼Œè·å–åšå®¢è§£é”éªŒè¯ç <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><img data-src="https://www.techgrow.cn/uploads/2022/02/28/yd89wbdji196ixtwzgzamw37fbein1ia.png"></p><p>æ­¤æ—¶ï¼Œå½“è¯»è€…å…³æ³¨ä½ çš„å¾®ä¿¡å…¬ä¼—å·ï¼Œå¹¶è¾“å…¥å…³é”®è¯åï¼ˆæ¯”å¦‚æˆ‘è®¾ç½®çš„å…³é”®è¯å°±æ˜¯ <code>tech</code>ï¼‰ï¼Œé‚£ä¹ˆè¯»è€…å°±ä¼šè‡ªåŠ¨æ¥æ”¶åˆ°è·å–åšå®¢è§£é”éªŒè¯ç çš„é“¾æ¥</p><h2 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h2><ul><li>è¿è¡Œ <code>npm install</code> å‘½ä»¤å®‰è£…æ’ä»¶åˆ°æœ¬åœ°é¡¹ç›® </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-readmore --save</span><br></pre></td></tr></tbody></table></figure><h2 id="é…ç½®-Hexo"><a href="#é…ç½®-Hexo" class="headerlink" title="é…ç½® Hexo"></a>é…ç½® Hexo</h2><p>ç¼–è¾‘ Hexo è‡ªèº«çš„ <code>_config.yml</code> é…ç½®æ–‡ä»¶ï¼Œæ–°å¢æ’ä»¶çš„é…ç½®ä¿¡æ¯ï¼ˆè¯·è‡ªè¡Œæ›´æ”¹åšå®¢ç›¸å…³çš„ä¿¡æ¯ï¼‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight yml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">readmore:</span></span><br><span class="line">  <span class="comment"># æ˜¯å¦å¯ç”¨</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># å·²ç”³è¯·çš„åšå®¢ ID</span></span><br><span class="line">  <span class="attr">blogId:</span> <span class="string">'18762-1609305354821-257'</span></span><br><span class="line">  <span class="comment"># å·²ç”³è¯·çš„å¾®ä¿¡å…¬ä¼—å·åç§°</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">'å…¨æ ˆæŠ€æœ¯é©¿ç«™'</span></span><br><span class="line">  <span class="comment"># å·²ç”³è¯·çš„å¾®ä¿¡å…¬ä¼—å·å›å¤å…³é”®è¯</span></span><br><span class="line">  <span class="attr">keyword:</span> <span class="string">'tech'</span></span><br><span class="line">  <span class="comment"># å·²ç”³è¯·çš„å¾®ä¿¡å…¬ä¼—å·äºŒç»´ç å›¾ç‰‡</span></span><br><span class="line">  <span class="attr">qrcode:</span> <span class="string">'https://www.techgrow.cn/img/wx_mp_qr.png'</span></span><br><span class="line">  <span class="comment"># è‡ªå®šä¹‰çš„ JS èµ„æºé“¾æ¥ï¼Œå¯ç”¨äº CDN åŠ é€Ÿ</span></span><br><span class="line">  <span class="attr">libUrl:</span> <span class="string">'https://qiniu.techgrow.cn/readmore/dist/readmore.js'</span></span><br><span class="line">  <span class="comment"># è‡ªå®šä¹‰çš„ CSS èµ„æºé“¾æ¥ï¼Œå¯ç”¨äºé€‚é…ä¸åŒé£æ ¼çš„åšå®¢</span></span><br><span class="line">  <span class="attr">cssUrl:</span> <span class="string">'https://qiniu.techgrow.cn/readmore/dist/hexo.css'</span></span><br><span class="line">  <span class="comment"># æ–‡ç« å†…å®¹çš„é¢„è§ˆé«˜åº¦</span></span><br><span class="line">  <span class="attr">height:</span> <span class="string">'auto'</span></span><br><span class="line">  <span class="comment"># æ–‡ç« è§£é”åå‡­è¯çš„æœ‰æ•ˆå¤©æ•°</span></span><br><span class="line">  <span class="attr">expires:</span> <span class="number">365</span></span><br><span class="line">  <span class="comment"># å®šæ—¶æ ¡éªŒå‡­è¯æœ‰æ•ˆæ€§çš„æ—¶é—´é—´éš”ï¼ˆç§’ï¼‰</span></span><br><span class="line">  <span class="attr">interval:</span> <span class="number">60</span></span><br><span class="line">  <span class="comment"># æ¯ç¯‡æ–‡ç« éšæœºæ·»åŠ å¾®ä¿¡å…¬ä¼—å·å¼•æµå·¥å…·çš„æ¦‚ç‡ï¼Œæœ‰æ•ˆèŒƒå›´åœ¨ 0.1 ~ 1 ä¹‹é—´ï¼Œ1 åˆ™è¡¨ç¤ºæ‰€æœ‰æ–‡ç« é»˜è®¤éƒ½è‡ªåŠ¨æ·»åŠ å¼•æµå·¥å…·</span></span><br><span class="line">  <span class="attr">random:</span> <span class="number">1</span></span><br></pre></td></tr></tbody></table></figure><p>æˆ–è€…æ‰“å¼€ TechGrow çš„<a href="https://open.techgrow.cn/#/readmore/website/register">åšå®¢åå°ç®¡ç†é¡µé¢</a>ï¼Œç‚¹å‡»åšå®¢åˆ—è¡¨ä¸­å³ä¾§çš„ <code>ä½¿ç”¨</code> é“¾æ¥ï¼Œå°†çª—å£é‡Œçš„ YAML é…ç½®å†…å®¹å¤åˆ¶åˆ° Hexo è‡ªèº«çš„ <code>_config.yml</code> é…ç½®æ–‡ä»¶å³å¯</p><h2 id="å‚æ•°è¯´æ˜"><a href="#å‚æ•°è¯´æ˜" class="headerlink" title="å‚æ•°è¯´æ˜"></a>å‚æ•°è¯´æ˜</h2><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>å¿…å¡«</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td> enable</td><td>Boolean</td><td> æ˜¯</td><td><code>false</code></td><td>-</td></tr><tr><td>blogId</td><td>String</td><td> æ˜¯</td><td></td><td> -</td></tr><tr><td>name</td><td>String</td><td> æ˜¯</td><td></td><td> -</td></tr><tr><td>keyword</td><td>String</td><td> æ˜¯</td><td></td><td> -</td></tr><tr><td>qrcode</td><td>String</td><td> æ˜¯</td><td></td><td> -</td></tr><tr><td>libUrl</td><td>String</td><td> å¦</td><td><code>https://qiniu.techgrow.cn/readmore/dist/readmore.js</code></td><td>-</td></tr><tr><td>cssUrl</td><td>String</td><td> å¦</td><td><code>https://qiniu.techgrow.cn/readmore/dist/hexo.css</code></td><td>-</td></tr><tr><td>height</td><td>String / Number</td><td> å¦</td><td><code>auto</code></td><td>-</td></tr><tr><td>expires</td><td>Number</td><td> å¦</td><td><code>365</code></td><td>-</td></tr><tr><td>interval</td><td>Number</td><td> å¦</td><td><code>60</code></td><td>-</td></tr><tr><td>random</td><td>Number</td><td> å¦</td><td><code>1</code></td><td>-</td></tr></tbody></table><h2 id="æ„å»º-Hexo"><a href="#æ„å»º-Hexo" class="headerlink" title="æ„å»º Hexo"></a>æ„å»º Hexo</h2><ul><li>è¿è¡Œ <code>hexo clean</code> å‘½ä»¤æ¸…ç†æœ¬åœ°åšå®¢ </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br></pre></td></tr></tbody></table></figure><ul><li>è¿è¡Œ <code>hexo generate</code> å‘½ä»¤æ„å»ºæœ¬åœ°åšå®¢ </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></tbody></table></figure><ul><li>è¿è¡Œ <code>hexo server</code> å‘½ä»¤å¯åŠ¨æœ¬åœ°åšå®¢æœåŠ¡ </li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></tbody></table></figure><h2 id="éªŒè¯æ’ä»¶æ•ˆæœ"><a href="#éªŒè¯æ’ä»¶æ•ˆæœ" class="headerlink" title="éªŒè¯æ’ä»¶æ•ˆæœ"></a>éªŒè¯æ’ä»¶æ•ˆæœ</h2><p>æ‰“å¼€æ–‡ç« é¡µé¢ï¼Œè‹¥æ–‡ç« è‡ªåŠ¨éšè—äº†éƒ¨åˆ†å†…å®¹ï¼Œå¹¶ä¸”å‡ºç°äº† <code>é˜…è¯»å…¨æ–‡</code> æŒ‰é’®ï¼Œåˆ™è¯´æ˜å¯¼æµæ’ä»¶æ­£å¸¸è¿è¡Œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img data-src="https://www.techgrow.cn/uploads/2022/02/28/3f53ab36dfa84fb99a6508ae46e5373a.png"></p><p>ç‚¹å‡» <code>é˜…è¯»å…¨æ–‡</code> æŒ‰é’®ï¼Œä¼šå¼¹å‡ºå¾®ä¿¡å…¬ä¼—å·çš„äºŒç»´ç çª—å£ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img data-src="https://www.techgrow.cn/uploads/2022/02/28/202980a480fd463c814a31d5cc3fb2a1.png"></p><h2 id="å–æ¶ˆé˜…è¯»é™åˆ¶"><a href="#å–æ¶ˆé˜…è¯»é™åˆ¶" class="headerlink" title="å–æ¶ˆé˜…è¯»é™åˆ¶"></a>å–æ¶ˆé˜…è¯»é™åˆ¶</h2><p>è‹¥å¸Œæœ›å…³é—­æŸç¯‡æ–‡ç« çš„å¾®ä¿¡å…¬ä¼—å·å¯¼æµåŠŸèƒ½ï¼Œå¯ä»¥åœ¨æ–‡ç« çš„å¤´æ¨¡æ¿ä¸­ä½¿ç”¨ <code>readmore: false</code> é…ç½®å±æ€§ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:  Hexoç‰ˆæœ¬å‡çº§æ•™ç¨‹</span><br><span class="line">tags: [Hexo]</span><br><span class="line">readmore: false</span><br><span class="line">keywords: [Hexo, ç‰ˆæœ¬å‡çº§]</span><br><span class="line">date: 2022-01-12 22:25:49</span><br><span class="line">updated: 2022-01-12 22:25:49</span><br><span class="line">---</span><br></pre></td></tr></tbody></table></figure><h2 id="è‡ªå®šä¹‰æ ·å¼"><a href="#è‡ªå®šä¹‰æ ·å¼" class="headerlink" title="è‡ªå®šä¹‰æ ·å¼"></a>è‡ªå®šä¹‰æ ·å¼</h2><p>æ’ä»¶é»˜è®¤ä½¿ç”¨äº†å®šä¹‰åœ¨ <a href="https://qiniu.techgrow.cn/readmore/dist/hexo.css">hexo.css</a> çš„ CSS æ ·å¼ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼è‡ªå®šä¹‰è‡ªå·±çš„æ ·å¼ï¼š</p><ul><li>ç¬¬ä¸€ç§æ–¹å¼ï¼šæ›´æ”¹åšå®¢ä¸»é¢˜çš„ CSS æºç æ–‡ä»¶ï¼Œå°†è‡ªå®šä¹‰çš„é‚£éƒ¨åˆ† CSS æ ·å¼æ·»åŠ åˆ°é‡Œé¢</li><li>ç¬¬äºŒç§æ–¹å¼ï¼šæ ¹æ® <a href="https://qiniu.techgrow.cn/readmore/dist/hexo.css">hexo.css</a> åˆ›å»ºè‡ªå·±çš„ CSS æ–‡ä»¶ï¼ˆå®Œæ•´çš„ï¼‰ï¼Œå¹¶å°†å…¶å­˜æ”¾åœ¨è‡ªå·±çš„åšå®¢é‡Œï¼ŒåŒæ—¶é€šè¿‡æ’ä»¶çš„ <code>cssUrl</code> é…ç½®å‚æ•°æ¥æŒ‡å®šå…¶è®¿é—®çš„ URL è·¯å¾„</li></ul><h2 id="å·²å…¼å®¹çš„ä¸»é¢˜"><a href="#å·²å…¼å®¹çš„ä¸»é¢˜" class="headerlink" title="å·²å…¼å®¹çš„ä¸»é¢˜"></a>å·²å…¼å®¹çš„ä¸»é¢˜</h2><ul><li><a href="https://github.com/next-theme/hexo-theme-next">NexT</a></li><li><a href="https://github.com/litten/hexo-theme-yilia">Yilia</a></li><li><a href="https://github.com/ppoffice/hexo-theme-icarus">Icarus</a></li><li><a href="https://github.com/blinkfox/hexo-theme-matery">Matery</a></li><li><a href="https://github.com/fluid-dev/hexo-theme-fluid">Fluid</a></li><li><a href="https://github.com/liuyib/hexo-theme-stun">Stun</a></li></ul><h2 id="åœ¨çº¿æ¼”ç¤º"><a href="#åœ¨çº¿æ¼”ç¤º" class="headerlink" title="åœ¨çº¿æ¼”ç¤º"></a>åœ¨çº¿æ¼”ç¤º</h2><ul><li><a href="/posts/52f22f9b.html">å®˜æ–¹åšå®¢</a></li></ul><h2 id="å®˜æ–¹å¾®ä¿¡ç¾¤"><a href="#å®˜æ–¹å¾®ä¿¡ç¾¤" class="headerlink" title="å®˜æ–¹å¾®ä¿¡ç¾¤"></a>å®˜æ–¹å¾®ä¿¡ç¾¤</h2><p><img data-src="/img/wx-group-qr-techgrow.png"></p>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä¸»è¦ä»‹ç» Hexo åšå®¢å¦‚ä½•å°†ç½‘ç«™çš„æµé‡å¯¼å‘å¾®ä¿¡å…¬ä¼—å·ï¼Œæ¯” OpenWrite çš„å¯¼æµå·¥å…·æ›´å¼ºå¤§ã€‚</summary>
    
    
    
    <category term="hide" scheme="https://www.techgrow.cn/categories/hide/"/>
    
    
    <category term="é™æ€åšå®¢" scheme="https://www.techgrow.cn/tags/%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
</feed>
