<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.0"><link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic%7CRoboto+Slab:300,300italic,400,400italic,700,700italic%7CRoboto+Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/@fortawesome/fontawesome-free/css/all.min.css" integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin="anonymous"><link rel="stylesheet" href="/lib/animate.css/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"www.techgrow.cn","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.13.0","exturl":false,"sidebar":{"position":"left","width":300,"display":"always","padding":18,"offset":12},"copycode":{"enable":true,"style":"flat"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script><meta name="description" content="Debian安装Apache与Subversion详解。"><meta property="og:type" content="article"><meta property="og:title" content="Debian 安装 Apache 与 Subversion"><meta property="og:url" content="https://www.techgrow.cn/posts/1b3fbf25.html"><meta property="og:site_name" content="Clay 的技术博客"><meta property="og:description" content="Debian安装Apache与Subversion详解。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2019-01-26T03:01:45.000Z"><meta property="article:modified_time" content="2022-07-30T11:28:53.239Z"><meta property="article:author" content="Clay"><meta property="article:tag" content="Debian"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.techgrow.cn/posts/1b3fbf25.html"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://www.techgrow.cn/posts/1b3fbf25.html","path":"posts/1b3fbf25.html","title":"Debian 安装 Apache 与 Subversion"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Debian 安装 Apache 与 Subversion | Clay 的技术博客</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-135294383-1"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-135294383-1","only_pageview":false}</script><script src="/js/third-party/analytics/google-analytics.js"></script><script class="next-config" data-name="baidu_analytics" type="application/json">"84c09b30349a65573c5c642ff336969b"</script><script src="/js/third-party/analytics/baidu-analytics.js"></script><link rel="dns-prefetch" href="https://waline.techgrow.cn:9360"><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><style>.admonition{margin:1.5625em 0;padding:.6rem;overflow:hidden;font-size:.64rem;page-break-inside:avoid;border-left:.3rem solid #42b983;border-radius:.3rem;box-shadow:0 .1rem .4rem rgba(0,0,0,.05),0 0 .05rem rgba(0,0,0,.1);background-color:#fafafa}p.admonition-title{position:relative;margin:-.6rem -.6rem .8em -.6rem!important;padding:.4rem .6rem .4rem 2.5rem;font-weight:700;background-color:rgba(66,185,131,.1)}.admonition-title::before{position:absolute;top:.9rem;left:1rem;width:12px;height:12px;background-color:#42b983;border-radius:50%;content:' '}.info>.admonition-title,.todo>.admonition-title{background-color:rgba(0,184,212,.1)}.attention>.admonition-title,.caution>.admonition-title,.warning>.admonition-title{background-color:rgba(255,145,0,.1)}.error>.admonition-title,.fail>.admonition-title,.failure>.admonition-title,.missing>.admonition-title{background-color:rgba(255,82,82,.1)}.admonition.info,.admonition.todo{border-color:#00b8d4}.admonition.attention,.admonition.caution,.admonition.warning{border-color:#ff9100}.admonition.error,.admonition.fail,.admonition.failure,.admonition.missing{border-color:#ff5252}.info>.admonition-title::before,.todo>.admonition-title::before{background-color:#00b8d4;border-radius:50%}.attention>.admonition-title::before,.caution>.admonition-title::before,.warning>.admonition-title::before{background-color:#ff9100;border-radius:50%}.error>.admonition-title::before,.fail>.admonition-title::before,.failure>.admonition-title::before,.missing>.admonition-title::before{background-color:#ff5252;border-radius:50%}.admonition>:last-child{margin-bottom:0!important}</style><link rel="alternate" href="/atom.xml" title="Clay 的技术博客" type="application/atom+xml"><style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><script src="/lib/jquery/dist/jquery.min.js"></script><script data-pjax>!function(){var t=window.location.host;if(-1==t.indexOf("127.0.0.1")&&-1==t.indexOf("localhost")){var o=document.createElement("script"),e=window.location.protocol.split(":")[0];o.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(o,n)}}()</script><link rel="stylesheet" href="/lib/aplayer/dist/APlayer.min.css"><div id="aplayer" style="display:none"></div><script src="/lib/aplayer/dist/APlayer.min.js"></script><script src="/lib/aplayer/dist/color-thief.js"></script><script src="/lib/aplayer-init.js"></script><script src="https://res.wx.qq.com/open/js/jweixin-1.4.0.js"></script><script>function getTitle(){var t=jQuery("meta[property='og:title']");return t?t.attr("content"):""}function getDesc(){var t=jQuery("meta[property='og:description']");return t?t.attr("content"):""}function randomString(t){for(var e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=e.length,i="",r=0;r<t;++r)i+=e.charAt(Math.floor(Math.random()*n));return i}function initWx(t){wx.config({debug:!1,appId:t.appId,nonceStr:t.nonceStr,signature:t.signature,timestamp:t.timestamp,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ"]}),wx.ready(function(){wx.onMenuShareTimeline({title:t.title,link:t.link,imgUrl:t.imgUrl,success:function(){}}),wx.onMenuShareAppMessage({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl,type:"link",dataUrl:"",success:function(){}}),wx.onMenuShareQQ({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl,success:function(){},cancel:function(){}})}),wx.error(function(t){})}jQuery(function(){var e=getDesc(),n=getTitle(),i=randomString(16),r=(new Date).getTime(),a=window.location.href,t="https://open.techgrow.cn/app/api/wechat/js/signature?url="+a+"&noncestr="+i+"&timestamp="+r;jQuery.getJSON(t,function(t){initWx({desc:e,title:n,link:a,nonceStr:i,timestamp:r,signature:t.data,appId:"wx1fcf69355af43d41",imgUrl:"https://www.techgrow.cn/img/wx_share.jpg"})})})</script><div style="display:none"><img src="https://www.techgrow.cn/img/wx_share.jpg" alt></div><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Clay 的技术博客</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">用进废退 | 艺不压身</p></div><div class="site-nav-right"><div class="toggle popup-trigger"></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-search"><a href="/search" rel="section"><i class="fa fa-search fa-fw"></i>搜索</a></li><li class="menu-item menu-item-links"><a href="/links" rel="section"><i class="fas fa-link fa-fw"></i>友链</a></li><li class="menu-item menu-item-openplatform"><a href="https://open.techgrow.cn/" rel="external nofollow" target="_blank"><i class="fa fa-toolbox fa-fw"></i>开放平台</a></li><li class="menu-item menu-item-readingnotes"><a href="https://docs.techgrow.cn/notes/" rel="external nofollow" target="_blank"><i class="fa fa-book-open-reader fa-fw"></i>读书笔记</a></li><li class="menu-item menu-item-commentmanage"><a href="https://waline.techgrow.cn:9360/ui/login?lng=zh-cn" rel="external nofollow" target="_blank"><i class="fa fa-comment fa-fw"></i>评论管理</a></li></ul></nav></div><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-overview-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Clay" src="/img/head.jpg"></div><div class="site-state-wrap site-overview-item animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <span class="site-state-item-count">410</span> <span class="site-state-item-name">文章</span></div><div class="site-state-item site-state-tags"> <span class="site-state-item-count">43</span> <span class="site-state-item-name">标签</span></div></nav></div><div class="links-of-author site-overview-item animated"><span class="links-of-author-item"><a href="https://github.com/rqh656418510" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;rqh656418510" rel="external nofollow" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:rong656418510@gmail.com" title="E-Mail → mailto:rong656418510@gmail.com" rel="external nofollow" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span><span class="links-of-author-item"><a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-rss fa-fw"></i> RSS</a></span><span class="links-of-author-item"><a href="/sitemap.xml" title="SiteMap → &#x2F;sitemap.xml"><i class="fa fa-sitemap fa-fw"></i> SiteMap</a></span></div></div></div></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div> <a href="https://github.com/rqh656418510" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="external nofollow" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"/></svg></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.techgrow.cn/posts/1b3fbf25.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/img/head.jpg"><meta itemprop="name" content="Clay"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Clay 的技术博客"><meta itemprop="description" content="专注于 Java、前端、移动端、微服务、分布式系统、数据库、系统架构、人工智能、大数据、云计算、物联网、虚拟化学习的技术博客。"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Debian 安装 Apache 与 Subversion | Clay 的技术博客"><meta itemprop="description" content="Debian安装Apache与Subversion详解。"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> Debian 安装 Apache 与 Subversion</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-01-26 11:01:45" itemprop="dateCreated datePublished" datetime="2019-01-26T11:01:45+08:00">2019-01-26</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-07-30 19:28:53" itemprop="dateModified" datetime="2022-07-30T19:28:53+08:00">2022-07-30</time></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv"><span class="post-meta-item-icon"><i class="far fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">评论数：</span><a title="waline" href="/posts/1b3fbf25.html#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/posts/1b3fbf25.html" itemprop="commentCount"></span></a></span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>528</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><div id="readmore-container"><blockquote><p><strong>前言</strong></p></blockquote><p>通过 Apache、Subversion 搭建 SVN 服务器，实现使用 HTTP、SVN 协议访问 SVN 仓库，并进行细粒度的权限控制，本教程适用于 Debian/Ubuntu 系统。</p><blockquote><p><strong>系统环境</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword"># uname</span><span class="params"> -a</span></span><br><span class="line"><span class="keyword"># Linux</span> debian 3.10.0-957.1.3.el7.x86_64 <span class="comment">#1 SMP Thu Nov 29 14:49:43 UTC 2018 x86_64 GNU/Linux</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="keyword"># cat</span> /etc/os-release</span><br><span class="line">PRETTY_NAME=<span class="string">"Debian GNU/Linux 9 (stretch)"</span></span><br><span class="line">NAME=<span class="string">"Debian GNU/Linux"</span></span><br><span class="line">VERSION_ID=<span class="string">"9"</span></span><br><span class="line">VERSION=<span class="string">"9 (stretch)"</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>安装软件</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更新软件索引</span></span><br><span class="line"><span class="keyword"># apt</span>-get update</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装apache</span></span><br><span class="line"><span class="keyword"># apt</span>-get install<span class="params"> -y</span> apache2 apache2-utils</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装subversion，适用于debian</span></span><br><span class="line"><span class="keyword"># apt</span>-get install<span class="params"> -y</span> subversion subversion-tools libapache2-mod-svn</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装subversion，适用于ubuntu</span></span><br><span class="line"><span class="keyword"># apt</span>-get install<span class="params"> -y</span> subversion subversion-tools libapache2-mod-svn libapache2-svn</span><br></pre></td></tr></tbody></table></figure><span id="more"></span><blockquote><p><strong>验证 Apache 是否安装成功</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动apache服务</span></span><br><span class="line"><span class="keyword"># service</span> apache2 start</span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者执行</span></span><br><span class="line"><span class="comment"># /etc/init.d/apache2 start</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看apache是否占用80端口</span></span><br><span class="line"><span class="keyword"># netstat</span><span class="params"> -anp</span>|grep 80</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看防火墙状态</span></span><br><span class="line"><span class="keyword"># ufw</span> status</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果开启了防火墙，则开放80端口</span></span><br><span class="line"><span class="keyword"># ufw</span> allow 80/tcp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 保存防火墙配置</span></span><br><span class="line"><span class="keyword"># ufw</span> reload</span><br><span class="line"></span><br><span class="line"><span class="comment"># 浏览器输入以下地址访问apache服务，如果访问正常则说明apache安装并启动成功</span></span><br><span class="line">http://127.0.0.1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 服务管理命令</span></span><br><span class="line"><span class="comment"># 关闭：service apache2 stop</span></span><br><span class="line"><span class="comment"># 启动：service apache2 start</span></span><br><span class="line"><span class="comment"># 重启：service apache2 restart</span></span><br><span class="line"><span class="comment"># 查看状态：service apache2 status</span></span><br><span class="line"><span class="comment"># 前台方式启动：apachectl -D FOREGROUND</span></span><br><span class="line"><span class="comment"># 取消自启动：update-rc.d apache2 remove</span></span><br><span class="line"><span class="comment"># 开机自启动：update-rc.d apache2 defaults</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 相关目录文件说明：</span></span><br><span class="line"><span class="comment"># 安装目录：/usr/lib/apache2</span></span><br><span class="line"><span class="comment"># 启动脚本路径：/etc/init.d/apache2</span></span><br><span class="line"><span class="comment"># 配置文件目录：/etc/apache2</span></span><br><span class="line"><span class="comment"># 主配置文件：/etc/apache2/apache2.conf</span></span><br><span class="line"><span class="comment"># 端口配置文件：/etc/apache2/ports.conf</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>创建 SVN 仓库，并配置 Apache 的访问权限</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建存放所有SVN仓库的目录</span></span><br><span class="line"><span class="keyword"># mkdir</span> /var/lib/svn</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建SVN仓库jenkins-repo</span></span><br><span class="line"><span class="keyword"># svnadmin</span> create /var/lib/svn/jenkins-repo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将SVN仓库的读写权限授给apache用户</span></span><br><span class="line"><span class="keyword"># chown</span><span class="params"> -R</span> www-data:www-data /var/lib/svn/jenkins-repo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置apache的svn模块，在对应配置文件的末尾追加以下内容</span></span><br><span class="line"><span class="comment"># 这里相当于配置与Apache登录相关的内容（例如登录密码验证），只有dav_svn.passwd指定的用户才有权限访问所有仓库，下面会详细介绍相关配置</span></span><br><span class="line"><span class="keyword"># vim</span> /etc/apache2/mods-enabled/dav_svn.conf</span><br><span class="line">&lt;Location /svn&gt;</span><br><span class="line"> DAV svn</span><br><span class="line"> SVNParentPath /var/lib/svn</span><br><span class="line"> AuthType Basic</span><br><span class="line"> AuthName <span class="string">"Subversion Repository"</span></span><br><span class="line"> AuthUserFile /etc/apache2/dav_svn.passwd</span><br><span class="line"> Require valid-user</span><br><span class="line">&lt;/Location&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建Apache用户的密码文件，将jenkins替换为你自己指定的用户名，回车执行之后输入密码即可</span></span><br><span class="line"><span class="comment"># 注意这里的用户密码和Subversion仓库本身的身份校验机制（authz）没有任何关系，只用于Apache登录校验</span></span><br><span class="line"><span class="keyword"># htpasswd</span><span class="params"> -cm</span> /etc/apache2/dav_svn.passwd jenkins</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改用户密码文件的权限</span></span><br><span class="line"><span class="keyword"># chgrp</span> www-data /etc/apache2/dav_svn.passwd</span><br><span class="line"><span class="keyword"># chmod</span> 660 /etc/apache2/dav_svn.passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启apache服务</span></span><br><span class="line"><span class="keyword"># service</span> apache2 restart</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>mod_dav_svn 模块的其他配置介绍（如果嫌麻烦可忽略）</strong></p></blockquote><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"># 配置文件路径：/etc/apache2/mods-enabled/dav_svn.conf</span><br><span class="line"></span><br><span class="line"># 下面配置中的"SVNParentPath /var/lib/svn"表示/var/lib/svn目录下的每个子目录都是一个仓库（即所有仓库的根目录），同时表示&lt;Location&gt;标签内的任何权限配置都被所有仓库共用；&lt;Location&gt;标签内的/svn，指通过HTTP协议访问时的URL路由</span><br><span class="line">&lt;Location /svn&gt;</span><br><span class="line"> DAV svn</span><br><span class="line"> SVNParentPath /var/lib/svn</span><br><span class="line"> AuthType Basic</span><br><span class="line"> AuthName "Subversion Repository"</span><br><span class="line"> AuthUserFile /etc/apache2/dav_svn.passwd</span><br><span class="line"> Require valid-user</span><br><span class="line">&lt;/Location&gt;</span><br><span class="line"></span><br><span class="line"># 如果想要指定多个仓库，让每个仓库都拥有不同的访问权限配置，那么可以使用多个Location标签，同时需要将标签内的“SVNParentPath”替换为“SVNPath”，并指向具体仓库的目录</span><br><span class="line">&lt;Location /svn/jenkins-repo&gt;</span><br><span class="line"> DAV svn</span><br><span class="line"> SVNPath /var/lib/svn/jenkins-repo</span><br><span class="line"> AuthType Basic</span><br><span class="line"> AuthName "Subversion Repository"</span><br><span class="line"> AuthUserFile /etc/apache2/jenkins_repo.passwd</span><br><span class="line"> Require valid-user</span><br><span class="line">&lt;/Location&gt;</span><br><span class="line"></span><br><span class="line">&lt;Location /svn/python-repo&gt;</span><br><span class="line"> DAV svn</span><br><span class="line"> SVNPath /var/lib/svn/python-repo</span><br><span class="line"> AuthType Basic</span><br><span class="line"> AuthName "Subversion Repository"</span><br><span class="line"> AuthUserFile /etc/apache2/python-repo.passwd</span><br><span class="line"> Require valid-user</span><br><span class="line">&lt;/Location&gt;</span><br><span class="line"></span><br><span class="line"># 如果替换上述"Require valid-user"为"Require user tony robert"，那么只有tony和robert用户可以访问所有仓库</span><br><span class="line">&lt;Location /svn&gt;</span><br><span class="line"> DAV svn</span><br><span class="line"> SVNParentPath /var/lib/svn</span><br><span class="line"> AuthType Basic</span><br><span class="line"> AuthName "Subversion Repository"</span><br><span class="line"> AuthUserFile /etc/apache2/dav_svn.passwd</span><br><span class="line"> Require user tony robert</span><br><span class="line">&lt;/Location&gt;</span><br><span class="line"></span><br><span class="line"># 通过使用&lt;LimitExcept&gt;标签，允许匿名读取所有仓库，而只有认证用户才能对所有仓库进行写操作</span><br><span class="line">&lt;Location /svn&gt;</span><br><span class="line"> DAV svn</span><br><span class="line"> SVNParentPath /var/lib/svn</span><br><span class="line"> AuthType Basic</span><br><span class="line"> AuthName "Subversion Repository"</span><br><span class="line"> AuthUserFile /etc/apache2/dav_svn.passwd</span><br><span class="line"> &lt;LimitExcept GET PROPFIND OPTIONS REPORT&gt;</span><br><span class="line">   Require valid-user</span><br><span class="line"> &lt;/LimitExcept&gt;</span><br><span class="line">&lt;/Location&gt;</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>验证 HTTP SVN 是否可用</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 浏览器输入以下地址来访问SVN仓库，其中/svn是&lt;Location&gt;标签内的值，而jenkins-repo是上面创建的SVN仓库，访问之后页面会提示你输入用户名和密码</span></span><br><span class="line">http://127.0.0.1/svn/jenkins-repo/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置SVN客户端允许以明文方式保存密码到本地磁盘，首次使用svn客户端的情况下可能不存在servers配置文件，此时可忽略配置</span></span><br><span class="line"><span class="keyword">$ vim</span> ~/.subversion/servers</span><br><span class="line">[global]</span><br><span class="line">store-plaintext-passwords = yes</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检出SVN仓库jenkins-repo，指定使用jenkins用户进行登录，其中/svn是&lt;Location&gt;标签内的值，而jenkins-repo是上面创建的SVN仓库，回车之后会提示你输入密码</span></span><br><span class="line"><span class="keyword">$ svn</span> checkout<span class="params"> --username</span> jenkins http://127.0.0.1/svn/jenkins-repo/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入刚检出的仓库目录</span></span><br><span class="line"><span class="keyword">$ cd</span> jenkins-repo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建文件</span></span><br><span class="line"><span class="keyword">$ touch</span> api.version</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将指定文件纳入SVN版本控制</span></span><br><span class="line"><span class="keyword">$ svn</span> add api.version</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将指定文件提交到SVN仓库</span></span><br><span class="line"><span class="keyword">$ svn</span> commit<span class="params"> -m</span> <span class="string">"add file"</span> api.version</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示工作区中目录与文件的状态，如果上述步骤都成功执行，执行该命令后则不会有任何日志信息输出</span></span><br><span class="line"><span class="keyword">$ svn</span> status</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以使用以下命令查询svn命令具体的使用方法</span></span><br><span class="line"><span class="keyword">$ svn</span><span class="params"> --help</span></span><br><span class="line"><span class="keyword">$ svn</span> commit<span class="params"> --help</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 至此，通过Apache、Subversion搭建SVN服务器（HTTP）的步骤算是基本完成了，下面将介绍使用Apache的mod_authz_svn模块对仓库目录进行更细粒度的权限控制，如果不需要细粒度的权限控制，则不用继续往下阅读了。</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>通过 mod_authz_svn 模块对仓库目录的访问进行细粒度权限控制</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进入对应SVN仓库的目录</span></span><br><span class="line"><span class="keyword"># cd</span> /var/lib/svn/jenkins-repo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 每个SVN仓库目录下都有对应的身份校验文件（authz、passwd），由SVN自动创建</span></span><br><span class="line"><span class="keyword"># tree</span> conf</span><br><span class="line">conf</span><br><span class="line">|-- authz</span><br><span class="line">|-- hooks-env.tmpl</span><br><span class="line">|-- passwd</span><br><span class="line">`-- svnserve.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加SVN仓库的用户帐号，注意这里的用户名/密码，需要和访问Apache的用户名/密码一致</span></span><br><span class="line"><span class="comment"># 即用户名/密码需要和"AuthUserFile /etc/apache2/dav_svn.passwd"指定的帐号信息一致</span></span><br><span class="line"><span class="keyword"># vim</span> conf/passwd</span><br><span class="line">[users]</span><br><span class="line">jenkins = 123456</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置SVN仓库的用户组、读写权限</span></span><br><span class="line"><span class="keyword"># vim</span> conf/authz</span><br><span class="line">[groups]</span><br><span class="line">team = jenkins</span><br><span class="line"></span><br><span class="line">[/]</span><br><span class="line">@team = rw</span><br><span class="line"></span><br><span class="line"><span class="comment"># 编辑SVN仓库的配置文件，对应内容修改如下，其中“anon-access”项的值必须为none</span></span><br><span class="line"><span class="keyword"># vim</span> conf/svnserve.conf</span><br><span class="line">[general]</span><br><span class="line">anon-access = none</span><br><span class="line">auth-access = write</span><br><span class="line">password-db = passwd</span><br><span class="line">authz-db = authz</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置authz功能，其中AuthzSVNAccessFile指向的是SVN仓库的authz策略文件，多个SVN仓库可以使用多个&lt;Location&gt;标签进行配置，注意这里使用的是“SVNPath”，而不是"SVNParentPath"</span></span><br><span class="line"><span class="keyword"># vim</span> /etc/apache2/mods-enabled/dav_svn.conf</span><br><span class="line">&lt;Location /svn/jenkins-repo&gt;</span><br><span class="line"> DAV svn</span><br><span class="line"> SVNPath /var/lib/svn/jenkins-repo</span><br><span class="line"> AuthType Basic</span><br><span class="line"> AuthName <span class="string">"Subversion Repository"</span></span><br><span class="line"> AuthUserFile /etc/apache2/jenkins_repo.passwd</span><br><span class="line"> AuthzSVNAccessFile /var/lib/svn/jenkins-repo/conf/authz</span><br><span class="line"> Require valid-user</span><br><span class="line">&lt;/Location&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果使用”SVNParentPath“代替”SVNPath“来指定多个仓库的父目录时，那么所有仓库都将按照指定的策略文件来管理读写权限；此时如果要对具体每个仓库分别配置不同读写权限，authz文件内需要使用如下的语法进行配置：</span></span><br><span class="line">&lt;Location /svn&gt;</span><br><span class="line"> DAV svn</span><br><span class="line"> SVNParentPath /var/lib/svn</span><br><span class="line"> AuthType Basic</span><br><span class="line"> AuthName <span class="string">"Subversion Repository"</span></span><br><span class="line"> AuthUserFile /etc/apache2/dav_svn.passwd</span><br><span class="line"> AuthzSVNAccessFile /etc/svn/svn_authz</span><br><span class="line"> Require valid-user</span><br><span class="line">&lt;/Location&gt;</span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="keyword"># vim</span> /etc/svn/svn_authz</span><br><span class="line">[groups]</span><br><span class="line">project1_committers = paulex richard</span><br><span class="line">project2_committers = jimmy michel</span><br><span class="line"></span><br><span class="line">[repos1:/]</span><br><span class="line">@ project1_committer = rw</span><br><span class="line"></span><br><span class="line">[repos2:/]</span><br><span class="line">@ project2_committer = rw</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启apache服务</span></span><br><span class="line"><span class="keyword"># service</span> apache2 restart</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>启动 Subversion 服务</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 默认情况下，通过Apache、Subversion搭建SVN服务器，如果只需要通过HTTP协议访问SVN仓库，则无需启动Subversion服务，相反如果想通过SVN协议直接访问SVN仓库则需要启动</span></span><br><span class="line"><span class="comment"># 其中/var/lib/svn是所有SVN仓库的父目录，如果直接使用SVN协议，那么SVN仓库的用户登录与读写权限控制默认是通过每个仓库下的passwd、authz、svnserve.conf配置文件分别进行控制，此时与Apache没有任何关系</span></span><br><span class="line"><span class="comment"># 参数 -d 表示后台运行，否则默认前台运行</span></span><br><span class="line"><span class="keyword"># svnserve</span><span class="params"> -d</span><span class="params"> -r</span> /var/lib/svn</span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试SVN客户端使用SVN协议检出仓库jenkins-repo，指定使用jenkins用户进行登录，其中3690是Subversion服务的默认端口</span></span><br><span class="line"><span class="keyword"># svn</span> checkout<span class="params"> --username</span> jenkins svn://127.0.0.1:3690/jenkins-repo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看防火墙状态</span></span><br><span class="line"><span class="keyword"># ufw</span> status</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果开启了防火墙，则开放3690端口</span></span><br><span class="line"><span class="keyword"># ufw</span> allow 3690/tcp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 保存防火墙配置</span></span><br><span class="line"><span class="keyword"># ufw</span> reload</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关于Subversion服务开机自启动的两种方式：</span></span><br><span class="line"><span class="comment"># 方式一：使用第三方工具Supervistor实现Subversion开机自启动</span></span><br><span class="line"><span class="comment"># 方式二：将配置Subversion配置成系统服务，由systemctl管理开机自启动</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Dockerfile 里配置容器启动时默认启动 Apache 与 Subversion</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">RUN <span class="built_in">echo</span> <span class="string">"svnserve -d -r /var/lib/svn"</span> &gt; /usr/<span class="built_in">local</span>/start-servers.sh</span><br><span class="line">RUN <span class="built_in">echo</span> <span class="string">"apachectl -D FOREGROUND"</span> &gt;&gt; /usr/<span class="built_in">local</span>/start-servers.sh</span><br><span class="line">RUN chmod +x /usr/<span class="built_in">local</span>/start-servers.sh</span><br><span class="line">CMD /bin/bash /usr/<span class="built_in">local</span>/start-servers.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># 以后创建并以后台方式启动容器时，Apache与Subversion服务会默认自启动</span></span><br><span class="line"><span class="keyword"># docker</span> run<span class="params"> -d</span><span class="params"> -p</span> 9126:80<span class="params"> -p</span> 4690:3690 ...</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Centos7 安装 Apache&amp;Subversion</strong></p></blockquote><ul><li><a target="_blank" rel="external nofollow" href="https://www.vultr.com/docs/how-to-setup-an-apache-subversion-svn-server-on-centos-7">How to Setup an Apache Subversion (SVN) Server on CentOS 7</a></li><li><a target="_blank" rel="external nofollow" href="https://www.tecmint.com/install-apache-subversion-svn-tortoisesvn-centos-debian-ubuntu">The Ultimate Guide to Setting Up Apache Subversion SVN and TortoiseSVN For Version Control</a></li></ul><blockquote><p><strong>本文引用</strong></p></blockquote><ul><li><a target="_blank" rel="external nofollow" href="https://www.itzgeek.com/how-tos/linux/debian/install-apache-svn-subversion-on-debian-9-ubuntu-16-04.html">Install Apache SVN (Subversion) on Debian 9 / Ubuntu 16.04</a></li><li><a target="_blank" rel="external nofollow" href="https://www.ibm.com/developerworks/cn/java/j-lo-apache-subversion">使用 Apache 和 Subversion 搭建安全的版本控制环境（Http、Https、MySQL 存储 Apache 用户信息）</a></li></ul></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if(!isMobile)try{var plugin=new ReadmorePlugin;plugin.init({id:"readmore-container",blogId:"96641-5333172926158-056",name:"全栈技术驿站",qrcode:"https://www.techgrow.cn/img/wx_mp_qr.png",keyword:"Tech",lockToc:"yes",type:"hexo",random:"0.9",interval:"30",expires:"365",height:"auto"})}catch(e){console.warn("readmore plugin occurred error: "+e.name+" | "+e.message)}</script></div><footer class="post-footer"><div class="reward-container"><div>坚持原创技术分享，您的支持将鼓励我继续创作！</div> <button> 赞赏</button><div class="post-reward"><div> <img src="/img/pay_wx.png" alt="Clay 微信"> <span>微信</span></div><div> <img src="/img/pay_zfb.png" alt="Clay 支付宝"> <span>支付宝</span></div></div></div><div class="post-copyright"><ul><li class="post-copyright-author"> <strong>本文作者：</strong> Clay</li><li class="post-copyright-link"> <strong>本文链接：</strong> <a href="https://www.techgrow.cn/posts/1b3fbf25.html" title="Debian 安装 Apache 与 Subversion">https://www.techgrow.cn/posts/1b3fbf25.html</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class="contactme"><div class="social-list"><div class="social-item"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">欢迎加入微信群</span><br> <img src="/img/wx-group-qr-technology.png"></div></div></div><div class="post-tags"><a href="/tags/Debian/" rel="tag"><i class="fa fa-tag"></i> Debian</a></div><div class="post-nav"><div class="post-nav-item"><a href="/posts/bd0f3a17.html" rel="prev" title="Jenkins 入门教程之三 Jenkins 与 SVN 持续集成实战"><i class="fa fa-chevron-left"></i> Jenkins 入门教程之三 Jenkins 与 SVN 持续集成实战</a></div><div class="post-nav-item"> <a href="/posts/c76f5f00.html" rel="next" title="Docker 之十五 Docker 私有仓库搭建与使用实战">Docker 之十五 Docker 私有仓库搭建与使用实战<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> Copyright &copy; 2018 – <span itemprop="copyrightYear">2023</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Clay</span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i></span> <span>站点总字数：</span> <span title="站点总字数">817k</span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i></span> <span>站点阅读时长 &asymp;</span> <span title="站点阅读时长">12:23</span></span></div><div id="site-runtime"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i></span><span id="runtime"></span></div><script language="javascript">function isPC(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=0;n<t.length;n++)if(0<e.indexOf(t[n]))return!1;return!0}function siteTime(e,t){window.setTimeout("siteTime(openOnPC, start)",1e3);var n=36e5,o=24*n;t=new Date("2018-12-27 08:00:00");var i=new Date,r=(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i-t),a=Math.floor(r/31536e6),s=Math.floor(r/o-365*a),d=Math.floor((r-(365*a+s)*o)/n),l=Math.floor((r-(365*a+s)*o-d*n)/6e4),u=Math.floor((r-(365*a+s)*o-d*n-6e4*l)/1e3);document.getElementById("runtime").innerHTML="Powered by Hexo & Docker | "+a+" 年 "+s+" 日 "+d+" 小时 "+l+" 分钟 "+u+" 秒 "}var showOnMobile=!1,openOnPC=isPC(),start=new Date;siteTime(openOnPC,start),openOnPC||showOnMobile||(document.getElementById("site-runtime").style.display="none")</script><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span><span class="post-meta-item" id="busuanzi_container_site_pv"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="beian"> <span><img src="/img/gonganbeian.png" alt></span> <span><a href="https://beian.miit.gov.cn/" rel="external nofollow" target="_blank">粤ICP备19024664号</a></span></div></div></footer><script size="200" alpha="0.5" zindex="-1" src="/lib/ribbon.js/dist/ribbon.min.js"></script><script src="/lib/animejs/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/lib/@next-theme/pjax/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script><script src="/lib/medium-zoom/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script><script src="/lib/lozad/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script><script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"/lib/pdfobject/pdfobject.min.js","integrity":"sha256-tu9j5pBilBQrWSDePOOajCUdz6hWsid/lBNzK4KgEPM="},"url":"/lib/pdf/web/viewer.html"}</script><script src="/js/third-party/tags/pdf.js"></script><script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"/lib/mermaid/dist/mermaid.min.js","integrity":"sha256-ZfzwelSToHk5YAcr9wbXAmWgyn9Jyq08fSLrLhZE89w="}}</script><script src="/js/third-party/tags/mermaid.js"></script><script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://unpkg.com/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script><script>
var options = {
  bottom: '64px',
  right: '30px',
  left: 'unset',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#282828',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: '🌓',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script><script src="https://unpkg.com/qiniu-js@3.3.1/dist/qiniu.min.js"></script><script>
    var qiniu_domain = "https://qiniu.techgrow.cn";
    var qiniu_token_url = "https://open.techgrow.cn/app/api/qiniu/token/upload";
    var qiniu_debug = "true" === "false";

    // date format
    Date.prototype.format = function (fmt) {
      var o = {
        "M+": this.getMonth() + 1,
        "d+": this.getDate(),
        "h+": this.getHours(),
        "m+": this.getMinutes(),
        "s+": this.getSeconds(),
        "q+": Math.floor((this.getMonth() + 3) / 3),
        "S": this.getMilliseconds()
      };
      if (/(y+)/.test(fmt)) {
        fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
      }
      for (var k in o) {
        if (new RegExp("(" + k + ")").test(fmt)) {
          fmt = fmt.replace(
            RegExp.$1,
            (RegExp.$1.length == 1)
              ? (o[k])
              : (("00" + o[k]).substr(("" + o[k]).length))
          );
        }
      }
      return fmt;
    }

    // generate uuid
    function uuid() {
      var s = [];
      var hexDigits = "0123456789abcdef";
      for (var i = 0; i < 36; i++) {
        s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);
      }
      s[14] = "4";
      s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);
      s[8] = s[13] = s[18] = s[23] = "-";
      var uuid = s.join("");
      return uuid;
    }

    // sync get request
    function syncGet(url) {
      var xhr = null;
      if (window.XMLHttpRequest) {
        xhr = new XMLHttpRequest();
      } else {
        xhr = new ActiveXObject("Microsoft.XMLHTTP");
      }
      xhr.open('GET', url, false);
      xhr.send();
      return xhr;
    }

    // get upload file path
    function getUploadFilePath() {
      var now = new Date();
      var name = uuid().replace(/-/g, "");
      var nowStr = now.format("/yyyy/MM/dd/");
      return "uploads" + nowStr + name;
    }

    // get qiniu upload token
    function getUploadToken() {
      try {
        var xhr = syncGet(qiniu_token_url);
        var responseStatus = xhr.status;
        var responseJson = JSON.parse(xhr.responseText);
        if (responseStatus === 200) {
          return responseJson.data;
        } else if (responseStatus === 403) {
          alert(responseJson.msg || "图片上传失败，无法获取UploadToken，非法请求来源！");
        } else if (responseStatus === 429) {
          alert(responseJson.msg || "图片上传失败，无法获取UploadToken，上传过于频繁！");
        } else if (responseStatus === 500) {
          alert(responseJson.msg || "图片上传失败，无法获取UploadToken，系统内部出错！");
        } else {
          alert("图片上传失败，无法获取UploadToken，未知Http响应状态码！");
        }
      } catch (err) {
        if (qiniu_debug) {
          console.error(err);
        }
        alert("图片上传失败，无法获取UploadToken，未知错误！");
      }
      return null;
    }

    // qiniu upload image
    async function qiniuUploadImage(file) {
      var image_path = null;
      await uploadImage(file).then(function onFulfilled(res) {
        image_path = res;
      }).catch(function onRejected(err) {
        if (qiniu_debug) {
          console.error(err);
        }
      });
      return image_path;
    }

    // upload image
    function uploadImage(file) {
      return new Promise((resolve, reject) => {
        var config = null;
        var putExtra = null;
        var token = getUploadToken();
        var key = getUploadFilePath();
        // upload init
        var observable = qiniu.upload(file, key, token, putExtra, config);
        // upload start
        observable.subscribe({
          next(res) {
            // upload progress
          },
          error(err) {
            // upload falied
            reject("falied to upload image for qiniu: " + err.name);
          },
          complete(res) {
            // upload successed
            resolve(qiniu_domain + "/" + key);
          }
        });
      });
    }
  </script><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-CN","enable":true,"serverURL":"https://waline.techgrow.cn:9360","cssUrl":"https://unpkg.com/@waline/client@2.5.1/dist/waline.css","commentCount":true,"pageview":false,"copyright":false,"allowUploadImage":true,"libUrl":"https://unpkg.com/@waline/client@2.5.1/dist/waline.js","locale":{"placeholder":"支持匿名评论啦，若希望及时收到博主的反馈，建议登录评论或者在上方的邮箱输入框留下邮箱地址哦 (๑•̀ㅂ•́)و✧"},"dark":"body.darkmode--activated","emoji":["https://unpkg.com/@waline/emojis@1.0.1/weibo"],"meta":["nick","mail","link"],"login":"enable","pageSize":10,"qiniuDebug":false,"qiniuDomain":"https://qiniu.techgrow.cn","qiniuTokenUrl":"https://open.techgrow.cn/app/api/qiniu/token/upload","el":"#waline","comment":true,"path":"/posts/1b3fbf25.html"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@2.5.1/dist/waline.css"><script>
document.addEventListener('page:loaded', () => {
  if (!CONFIG.waline.allowUploadImage) {
    CONFIG.waline.imageUploader = false;
  }
  else if (CONFIG.waline.qiniuDomain && CONFIG.waline.qiniuTokenUrl) {
    CONFIG.waline.imageUploader = qiniuUploadImage;
  } else {
   CONFIG.waline.imageUploader = true;
  }
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script><div class="comments" id="waline-comments" style="display:none"></div><script>function isMobile(){var i=navigator.userAgent.toLowerCase(),e="ipad"==i.match(/ipad/i),a="iphone os"==i.match(/iphone os/i),o="midp"==i.match(/midp/i),n="rv:1.2.3.4"==i.match(/rv:1.2.3.4/i),r="ucweb"==i.match(/ucweb/i),c="android"==i.match(/android/i),l="windows ce"==i.match(/windows ce/i),d="windows mobile"==i.match(/windows mobile/i);return!!(e||a||o||n||r||c||l||d)}var openOnMobile=isMobile(),showOnMobile=!1,aplayerEnable=!0;jQuery(document).ready(function(){aplayerEnable&&(openOnMobile&&!showOnMobile||jQuery("#aplayer").css("display","block"))}),jQuery(window).on("load",function(){aplayerEnable&&jQuery(".aplayer\\-icon.aplayer\\-icon\\-lrc").trigger("click")})</script></body></html>