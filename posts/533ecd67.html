<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.0"><link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic%7CRoboto+Slab:300,300italic,400,400italic,700,700italic%7CRoboto+Mono:300,300italic,400,400italic,700,700italic&amp;display=swap&amp;subset=latin,latin-ext"><link rel="stylesheet" href="/lib/@fortawesome/fontawesome-free/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"><link rel="stylesheet" href="/lib/animate.css/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="/lib/pace-js/themes/blue/pace-theme-minimal.css"><script src="/lib/pace-js/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script><script class="next-config" data-name="main" type="application/json">{"hostname":"www.techgrow.cn","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.17.0","exturl":false,"sidebar":{"position":"left","width":300,"display":"always","padding":18,"offset":12},"copycode":{"enable":true,"style":"flat"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script><meta name="description" content="日常编程开发最佳实践总结。"><meta property="og:type" content="article"><meta property="og:title" content="日常编程开发技巧之一"><meta property="og:url" content="https://www.techgrow.cn/posts/533ecd67.html"><meta property="og:site_name" content="Clay 的技术空间"><meta property="og:description" content="日常编程开发最佳实践总结。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2018-12-27T13:33:22.000Z"><meta property="article:modified_time" content="2020-01-02T11:56:41.000Z"><meta property="article:author" content="Clay"><meta property="article:tag" content="Linux"><meta property="article:tag" content="开发随笔"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.techgrow.cn/posts/533ecd67.html"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://www.techgrow.cn/posts/533ecd67.html","path":"posts/533ecd67.html","title":"日常编程开发技巧之一"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>日常编程开发技巧之一 | Clay 的技术空间</title><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-135294383-1"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-135294383-1","only_pageview":false}</script><script src="/js/third-party/analytics/google-analytics.js"></script><script class="next-config" data-name="baidu_analytics" type="application/json">"84c09b30349a65573c5c642ff336969b"</script><script src="/js/third-party/analytics/baidu-analytics.js"></script><link rel="dns-prefetch" href="https://waline.techgrow.cn:9360"><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><style>.admonition{margin:1.5625em 0;padding:.6rem;overflow:hidden;font-size:.64rem;page-break-inside:avoid;border-left:.3rem solid #42b983;border-radius:.3rem;box-shadow:0 .1rem .4rem rgba(0,0,0,.05),0 0 .05rem rgba(0,0,0,.1);background-color:#fafafa}p.admonition-title{position:relative;margin:-.6rem -.6rem .8em -.6rem!important;padding:.4rem .6rem .4rem 2.5rem;font-weight:700;background-color:rgba(66,185,131,.1)}.admonition-title::before{position:absolute;top:.9rem;left:1rem;width:12px;height:12px;background-color:#42b983;border-radius:50%;content:' '}.info>.admonition-title,.todo>.admonition-title{background-color:rgba(0,184,212,.1)}.attention>.admonition-title,.caution>.admonition-title,.warning>.admonition-title{background-color:rgba(255,145,0,.1)}.error>.admonition-title,.fail>.admonition-title,.failure>.admonition-title,.missing>.admonition-title{background-color:rgba(255,82,82,.1)}.admonition.info,.admonition.todo{border-color:#00b8d4}.admonition.attention,.admonition.caution,.admonition.warning{border-color:#ff9100}.admonition.error,.admonition.fail,.admonition.failure,.admonition.missing{border-color:#ff5252}.info>.admonition-title::before,.todo>.admonition-title::before{background-color:#00b8d4;border-radius:50%}.attention>.admonition-title::before,.caution>.admonition-title::before,.warning>.admonition-title::before{background-color:#ff9100;border-radius:50%}.error>.admonition-title::before,.fail>.admonition-title::before,.failure>.admonition-title::before,.missing>.admonition-title::before{background-color:#ff5252;border-radius:50%}.admonition>:last-child{margin-bottom:0!important}</style><link rel="alternate" href="/atom.xml" title="Clay 的技术空间" type="application/atom+xml"><style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head><body itemscope="" itemtype="http://schema.org/WebPage" class="use-motion"><script src="/lib/jquery/dist/jquery.min.js"></script><script data-pjax="">!function(){var t=window.location.host;if(-1==t.indexOf("127.0.0.1")&&-1==t.indexOf("localhost")){var o=document.createElement("script"),e=window.location.protocol.split(":")[0];o.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(o,n)}}()</script><link rel="stylesheet" href="/lib/aplayer/dist/APlayer.min.css"><div id="aplayer" style="display:none"></div><script src="/lib/aplayer/dist/APlayer.min.js"></script><script src="/lib/aplayer/dist/color-thief.js"></script><script src="/lib/aplayer-init.js"></script><script src="https://res.wx.qq.com/open/js/jweixin-1.4.0.js"></script><script>function getTitle(){var t=jQuery("meta[property='og:title']");return t?t.attr("content"):""}function getDesc(){var t=jQuery("meta[property='og:description']");return t?t.attr("content"):""}function randomString(t){for(var e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=e.length,i="",r=0;r<t;++r)i+=e.charAt(Math.floor(Math.random()*n));return i}function initWx(t){wx.config({debug:!1,appId:t.appId,nonceStr:t.nonceStr,signature:t.signature,timestamp:t.timestamp,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ"]}),wx.ready(function(){wx.onMenuShareTimeline({title:t.title,link:t.link,imgUrl:t.imgUrl,success:function(){}}),wx.onMenuShareAppMessage({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl,type:"link",dataUrl:"",success:function(){}}),wx.onMenuShareQQ({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl,success:function(){},cancel:function(){}})}),wx.error(function(t){})}jQuery(function(){var e=getDesc(),n=getTitle(),i=randomString(16),r=(new Date).getTime(),a=window.location.href,t="https://open.techgrow.cn/app/api/wechat/js/signature?url="+a+"&noncestr="+i+"&timestamp="+r;jQuery.getJSON(t,function(t){initWx({desc:e,title:n,link:a,nonceStr:i,timestamp:r,signature:t.data,appId:"wx1fcf69355af43d41",imgUrl:"https://www.techgrow.cn/img/wx_share.jpg"})})})</script><div style="display:none"><img src="https://www.techgrow.cn/img/wx_share.jpg" alt=""></div><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Clay 的技术空间</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">用进废退 | 艺不压身</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="搜索" role="button"></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-search"><a href="/search" rel="section"><i class="fa fa-search fa-fw"></i>搜索</a></li><li class="menu-item menu-item-links"><a href="/links" rel="section"><i class="fas fa-link fa-fw"></i>友链</a></li><li class="menu-item menu-item-readingnotes"><a href="https://www.techgrow.cn/reading/" rel="section"><i class="fa fa-book-open-reader fa-fw"></i>读书笔记</a></li><li class="menu-item menu-item-commentmanage"><a href="https://waline.techgrow.cn:9360/ui/login?lng=zh-cn" rel="external nofollow" target="_blank"><i class="fa fa-comment fa-fw"></i>评论管理</a></li></ul></nav></header><aside class="sidebar"><div class="sidebar-inner sidebar-overview-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope="" itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Clay" src="/img/head.jpg"></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <span class="site-state-item-count">457</span> <span class="site-state-item-name">文章</span></div><div class="site-state-item site-state-tags"> <span class="site-state-item-count">44</span> <span class="site-state-item-name">标签</span></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/rqh656418510" title="GitHub → https://github.com/rqh656418510" rel="external nofollow" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:rong656418510@gmail.com" title="E-Mail → mailto:rong656418510@gmail.com" rel="external nofollow" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span><span class="links-of-author-item"><a href="/atom.xml" title="RSS → /atom.xml" rel="noopener me"><i class="fa fa-rss fa-fw"></i> RSS</a></span><span class="links-of-author-item"><a href="/sitemap.xml" title="SiteMap → /sitemap.xml" rel="noopener me"><i class="fa fa-sitemap fa-fw"></i> SiteMap</a></span></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope="" itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.techgrow.cn/posts/533ecd67.html"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/img/head.jpg"><meta itemprop="name" content="Clay"></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="Clay 的技术空间"><meta itemprop="description" content="专注于 Java、前端、移动端、微服务、分布式系统、数据库、系统架构、人工智能、大数据、云计算、物联网、虚拟化学习的技术博客。"></span><span hidden="" itemprop="post" itemscope="" itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="日常编程开发技巧之一 | Clay 的技术空间"><meta itemprop="description" content="日常编程开发最佳实践总结。"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> 日常编程开发技巧之一</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-12-27 21:33:22" itemprop="dateCreated datePublished" datetime="2018-12-27T21:33:22+08:00">2018-12-27</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2020-01-02 19:56:41" itemprop="dateModified" datetime="2020-01-02T19:56:41+08:00">2020-01-02</time></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv"><span class="post-meta-item-icon"><i class="far fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">评论数：</span><a title="waline" href="/posts/533ecd67.html#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/posts/533ecd67.html" itemprop="commentCount"></span></a></span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>441</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">阅读时长 ≈</span> <span>1 分钟</span></span></div></div></header><div class="post-body post-container" itemprop="articleBody" id="readmore-container"><blockquote><p><strong>Linux 发行版</strong></p></blockquote><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Arch系：ArchLinux/Antergos/Manjaro</span><br><span class="line">Redhat系：CentOS/Fedora/Mageia/openSUSE</span><br><span class="line">Debian系：Debian/Ubuntu/Kali/Kubuntu/LinuxMint/Deepin/UbuntuKylin</span><br><span class="line"></span><br><span class="line">Linux排行榜与Linux实时资讯站点：https://distrowatch.com/</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Google 搜索引擎指定搜索的语言范围</strong></p></blockquote><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">默认： 全球各种语言的搜索结果</span><br><span class="line">英文： &amp;lr=lang_en</span><br><span class="line">日文： &amp;lr=lang_ja</span><br><span class="line">中文： &amp;lr=lang_zh-CN</span><br><span class="line">中文（含台湾）： &amp;lr=lang_zh-CN%7Clang_zh-TW</span><br><span class="line"></span><br><span class="line">举例只搜索中文相关的Java内容：</span><br><span class="line">https://www.google.com/search?lr=lang_zh-CN&amp;q=Java</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>SSH 客户端通过 Socker5 代理连接到 Linux 目标服务器</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下面Socker5代理服务器的IP和端口是127.0.0.1和1080，Linux目标服务器的IP/域名是192.168.1.1，其中Socker5代理服务可以是SS/SSR、Tor...</span></span><br><span class="line"><span class="keyword">$ ssh</span><span class="params"> -o</span> ProxyCommand=<span class="string">'nc -x 127.0.0.1:1080 %h %p'</span> root@192.168.1.1</span><br></pre></td></tr></tbody></table></figure><span id="more"></span><blockquote><p><strong>Linux 解压文件</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解压.rar后缀的文件</span></span><br><span class="line"><span class="keyword">$ unrar</span> x xxx.rar</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解压.rar后缀的文件，若文件存在则直接覆盖</span></span><br><span class="line"><span class="keyword">$ unrar</span> x<span class="params"> -o</span>+ xxx.rar</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定目录深度，解压目录下的所有RAR文件</span></span><br><span class="line"><span class="keyword">$ find</span><span class="params"> -maxdepth</span> 1<span class="params"> -name</span> <span class="string">'*.rar'</span> | xargs<span class="params"> -i</span> unrar x {}</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解决unzip解压文件后，出现中文文件名乱码的问题</span></span><br><span class="line"><span class="keyword">$ unzip</span><span class="params"> -O</span> CP936 xxx.zip</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过upzip解压文件到指定的目录，前提是指定的目录必须存在</span></span><br><span class="line"><span class="keyword">$ unzip</span><span class="params"> -d</span> /usr/<span class="built_in">local</span> gradle-5.4.1-bin.zip</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定目录深度，解压目录下的所有ZIP文件</span></span><br><span class="line"><span class="keyword">$ find</span><span class="params"> -maxdepth</span> 1<span class="params"> -name</span> <span class="string">"*.zip"</span> | xargs<span class="params"> -i</span> unzip<span class="params"> -O</span> CP936 {}</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定解压目录，前提是指定的目录必须存在</span></span><br><span class="line"><span class="keyword">$ tar</span><span class="params"> -xvf</span> apache-maven-2.6.tar.gz<span class="params"> -C</span> /home/www/apache-maven-2.6</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解压.7z后缀的文件（不保持目录结构）</span></span><br><span class="line"><span class="keyword">$ 7za</span> e data.7z</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解压.7z后缀的文件（保持目录结构）</span></span><br><span class="line"><span class="keyword">$ 7za</span> x data.7z</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Linux 强制删除查找到的文件</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 强制删除当前目录下文件名以downloading结尾的所有文件</span></span><br><span class="line"><span class="keyword">$ find</span> .<span class="params"> -name</span> <span class="string">"*downloading"</span> | xargs rm<span class="params"> -rf</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者使用-I指定一个替换字符串{}，这个字符串在xargs扩展时会被替换掉，当-I与xargs结合使用，每一个参数命令都会被执行一次</span></span><br><span class="line"><span class="keyword">$ find</span> .<span class="params"> -name</span> <span class="string">"*downloading"</span> | xargs<span class="params"> -I</span> {} rm<span class="params"> -rf</span> {}</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Linux 文件统计</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 统计当前目录下文件（指定后缀）的总个数</span></span><br><span class="line"><span class="keyword">$ find</span> .<span class="params"> -name</span> <span class="string">"*.html"</span> | wc<span class="params"> -l</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 统计当前目录下每个文件（指定后缀）的总行数</span></span><br><span class="line"><span class="keyword">$ find</span> .<span class="params"> -name</span> <span class="string">"*.html"</span> | xargs wc<span class="params"> -l</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 统计当前目录下每个文件（指定后缀）的总字数</span></span><br><span class="line"><span class="keyword">$ find</span> .<span class="params"> -name</span> <span class="string">"*.html"</span> | xargs wc<span class="params"> -w</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 统计当前目录下每个文件（指定后缀）的总字节数</span></span><br><span class="line"><span class="keyword">$ find</span> .<span class="params"> -name</span> <span class="string">"*.html"</span> | xargs wc<span class="params"> -c</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 不加任何参数的wc会统计文件的总行数、总字数、总字节数</span></span><br><span class="line"><span class="keyword">$ find</span> .<span class="params"> -name</span> <span class="string">"*.html"</span> | xargs wc</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>解决 Linux 的 tree 命令不能正确显示中文的问题</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加-N参数</span></span><br><span class="line"><span class="keyword">$ tree</span><span class="params"> -N</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Linux 校验文件的哈希值</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 基于MD5加密算法，获取文件的哈希值</span></span><br><span class="line"><span class="keyword">$ md5sum</span> tomcat8.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者将待校验文件的正确MD5哈希值写入到指定的文件，然后通过“md5sum -c”命令输出MD5哈希值比对的结果</span></span><br><span class="line"><span class="keyword">$ vim</span> tomcat8.md5</span><br><span class="line">83aca9b98564ba4064aa0acad7360ceb  tomcat8.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出文件的MD5校验结果</span></span><br><span class="line"><span class="keyword">$ md5sum</span><span class="params"> -c</span> tomcat8.md5</span><br><span class="line">tomcat8.tar.gz: OK</span><br><span class="line"></span><br><span class="line"><span class="comment"># 基于SHA1加密算法，获取文件的哈希值</span></span><br><span class="line"><span class="keyword">$ sha1sum</span> tomcat8.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># 同上，也可以使用“sha1sum -c”命令进行SHA1哈希值的比对</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Git 强制更新并覆盖本地仓库与工作区的文件，即本地强制同步远程仓库的所有文件</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">$ git</span> fetch<span class="params"> --all</span> &amp;&amp; git reset<span class="params"> --hard</span> origin/master &amp;&amp; git pull</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>PM2 服务相关操作命令</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动某个应用</span></span><br><span class="line"><span class="keyword">$ sudo</span> pm2 start api_server</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭某个应用</span></span><br><span class="line"><span class="keyword">$ sudo</span> pm2 stop api_server</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看某个应用的运行状态</span></span><br><span class="line"><span class="keyword">$ sudo</span> pm2 show api_server</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启用PM2开机自启动</span></span><br><span class="line"><span class="keyword">$ sudo</span> systemctl <span class="built_in">enable</span> pm2-root</span><br><span class="line"></span><br><span class="line"><span class="comment"># 禁用PM2开机自启动</span></span><br><span class="line"><span class="keyword">$ sudo</span> systemctl <span class="built_in">disable</span> pm2-root</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Centos7 防火墙配置</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 切换至Root用户</span></span><br><span class="line"><span class="keyword">$ su</span> - root</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看防火墙运行状态</span></span><br><span class="line"><span class="keyword"># firewall</span>-cmd<span class="params"> --state</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看防火墙运行状态</span></span><br><span class="line"><span class="keyword"># systemctl</span> status firewalld</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭防火墙</span></span><br><span class="line"><span class="keyword"># systemctl</span> stop firewalld</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启用防火墙</span></span><br><span class="line"><span class="keyword"># systemctl</span> start firewalld</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置防火墙永久开放某个端口</span></span><br><span class="line"><span class="keyword"># firewall</span>-cmd<span class="params"> --zone</span>=public<span class="params"> --permanent</span><span class="params"> --add</span>-port=8080/tcp</span><br><span class="line"><span class="keyword"># firewall</span>-cmd<span class="params"> --zone</span>=public<span class="params"> --permanent</span><span class="params"> --add</span>-port=8080/udp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置防火墙关闭开放某个端口</span></span><br><span class="line"><span class="keyword"># firewall</span>-cmd<span class="params"> --zone</span>=public<span class="params"> --permanent</span><span class="params"> --remove</span>-port=8000/tcp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 保存防火墙配置</span></span><br><span class="line"><span class="keyword"># firewall</span>-cmd<span class="params"> --reload</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看防火墙已开放的端口</span></span><br><span class="line"><span class="keyword"># firewall</span>-cmd<span class="params"> --list</span>-ports</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看防火墙已开放的服务</span></span><br><span class="line"><span class="keyword"># firewall</span>-cmd<span class="params"> --list</span>-services</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>查看 Linux 系统的发行版本</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以下方法中，至少有一种方法适用于Redhat、SuSE、Debian系的Linux发行版</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方法一（在不同Linux发行版中，lsb_release命令不一定都存在）</span></span><br><span class="line"><span class="keyword">$ lsb_release</span><span class="params"> -a</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方法二（xxx为发行版名称，例如os-release、centos-release）</span></span><br><span class="line"><span class="keyword">$ cat</span> /etc/xxx-release</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方法三</span></span><br><span class="line"><span class="keyword">$ cat</span> /etc/issue</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Linux 查看端口占用的情况</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看端口占用，且显示进程ID（推荐）</span></span><br><span class="line"><span class="keyword"># netstat</span><span class="params"> -anp</span>|grep 80</span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者（不显示进程ID）</span></span><br><span class="line"><span class="keyword"># netstat</span><span class="params"> -aon</span>|grep 80</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Debian/Ubuntu 防火墙配置</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看防火墙现有规则</span></span><br><span class="line"><span class="keyword"># ufw</span> status</span><br><span class="line"></span><br><span class="line"><span class="comment"># 开启防火墙</span></span><br><span class="line"><span class="keyword"># ufw</span> <span class="built_in">enable</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭防火墙</span></span><br><span class="line"><span class="keyword"># ufw</span> <span class="built_in">disable</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 开放指定的tcp、udp端口</span></span><br><span class="line"><span class="keyword"># ufw</span> allow 22/tcp</span><br><span class="line"><span class="keyword"># ufw</span> allow 22/udp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 同时开放tcp与udp端口</span></span><br><span class="line"><span class="keyword"># ufw</span> allow 22</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除开放22端口的规则</span></span><br><span class="line"><span class="keyword"># ufw</span> delete allow 22</span><br><span class="line"></span><br><span class="line"><span class="comment"># 拒绝指定的tcp、udp端口</span></span><br><span class="line"><span class="keyword"># allow</span>/deny 20/tcp</span><br><span class="line"><span class="keyword"># allow</span>/deny 20/udp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 保存防火墙配置</span></span><br><span class="line"><span class="keyword"># ufw</span> reload</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Git 设置代理</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下面的http://127.0.0.1:8118是代理服务器的访问地址，也可以是本地代理工具的访问地址</span></span><br><span class="line"><span class="keyword">$ git</span> config<span class="params"> --global</span> http.proxy http://127.0.0.1:8118</span><br><span class="line"><span class="keyword">$ git</span> config<span class="params"> --global</span> https.proxy http://127.0.0.1:8118</span><br><span class="line"><span class="keyword">$ git</span> config<span class="params"> --global</span> http.sslverify <span class="literal">false</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>YUM 设置代理</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法一</span></span><br><span class="line"><span class="keyword"># vim</span> /etc/yum.conf</span><br><span class="line">proxy=http://127.0.0.1:8118</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方法二</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 临时添加环境变量</span></span><br><span class="line"><span class="keyword"># export</span> http_proxy=http://127.0.0.1:8118</span><br><span class="line"><span class="keyword"># export</span> https_proxy=http://127.0.0.1:8118</span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试代理</span></span><br><span class="line"><span class="keyword"># curl</span><span class="params"> -I</span> www.google.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># 移除环境变量</span></span><br><span class="line"><span class="keyword"># unset</span> http_proxy</span><br><span class="line"><span class="keyword"># unset</span> https_proxy</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Eclipse 常用快捷键</strong></p></blockquote><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">alt + /：代码补全</span><br><span class="line">ctrl + d：删除当前行</span><br><span class="line">ctrl + h：打开搜索界面</span><br><span class="line">ctrl + w：关闭当前Tab页</span><br><span class="line">crtl + t：显示类的继承关系</span><br><span class="line">ctrl + f：当前查找/当前替换</span><br><span class="line">ctrl + shift + x：转换为大写</span><br><span class="line">ctrl + shift + y：转换为小写</span><br><span class="line">crtl + q：返回到最近编辑的地方</span><br><span class="line">ctrl + shift + f：格式化代码</span><br><span class="line">ctrl + o：查看当前类的属性、方法</span><br><span class="line">ctrl + l：定位到当前文件的某一行</span><br><span class="line">ctrl + shift + o：快速生成导入包</span><br><span class="line">ctrl + o：查看当前类所有的方法、属性</span><br><span class="line">ctrl + f1：快速显示错误代码的Fix方案</span><br><span class="line">alt + shift + r：重命名方法名、属性名</span><br><span class="line">f3：快速定位光标位置的某个类、方法、属性</span><br><span class="line">ctrl + shift + w：关闭打开的所有Tab页</span><br><span class="line">ctrl + shift + g：查找类、方法、属性被引用的情况</span><br><span class="line">alt + shift + w：快速定位当前文件所在项目中的路径</span><br><span class="line">ctrl + shift + t：全局查找Java类文件，可以使用通配符</span><br><span class="line">ctrl + shift + r：全局查找文件（包括Java类文件），可以使用通配符</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>IntelliJ IDEA 常用快捷键</strong></p></blockquote><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">alt + /：代码补全</span><br><span class="line">ctrl + f：当前查找</span><br><span class="line">ctrl + x：删除当前行</span><br><span class="line">ctrl + f4：关闭当前Tab页</span><br><span class="line">crtl + h：显示类的继承关系</span><br><span class="line">alt + shift + f：收藏代码</span><br><span class="line">ctrl + r：当前查找/当前替换</span><br><span class="line">ctrl + alt + l：格式化代码</span><br><span class="line">ctrl + shift + u：大小写转换</span><br><span class="line">ctrl + e：查看最近打开过的文件</span><br><span class="line">ctrl + alt + o：快速生成导入包</span><br><span class="line">alt + left：返回到上一个编辑的页面</span><br><span class="line">alt + right：进入到下一个编辑的页面</span><br><span class="line">ctrl + shift + v：选择要粘贴的内容</span><br><span class="line">crtl + shift + r：全局查找/全局替换</span><br><span class="line">alt + enter：万能解错/生成返回值变量</span><br><span class="line">ctrl + alt + h：查看方法被引用的情况</span><br><span class="line">shift + f6：更改文件名、方法名、属性名</span><br><span class="line">ctrl + f12：查看当前类所有的方法、属性</span><br><span class="line">ctrl + alt + u：在当前Tab页显示类的继承结构图</span><br><span class="line">ctrl + shift+i --&gt; ctrl + enter：查看Java源码</span><br><span class="line">ctrl + shift + ”+/-”：展开全部代码、折叠全部代码</span><br><span class="line">ctrl + alt + shift + u：在新的Tab页显示类的继承结构图</span><br><span class="line">ctrl + n：全局搜索普通文件与Java类文件，若需要搜粟包括Jar包里面的内容，需要勾选“include non-project classes”选项</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Centos7 重启 IBUS 输入法</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword"># ibus</span>-daemon<span class="params"> -r</span><span class="params"> -d</span><span class="params"> -x</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Centos7 时间同步</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 由于Centos7默认使用chronyd来同步时间，如果需要安装其他时间同步服务（ntpd），则需要禁用chronyd</span></span><br><span class="line"><span class="keyword"># systemctl</span> <span class="built_in">disable</span> chronyd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装ntp服务</span></span><br><span class="line"><span class="keyword"># yum</span> install ntp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用ntp手动同步时间</span></span><br><span class="line"><span class="keyword"># ntpdate</span> pool.ntp.org</span><br><span class="line"></span><br><span class="line"><span class="comment"># 开机启动ntp服务</span></span><br><span class="line"><span class="keyword"># systemctl</span> <span class="built_in">enable</span> ntpd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动ntp服务</span></span><br><span class="line"><span class="keyword"># systemctl</span> start ntpd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看ntp服务的运行状态</span></span><br><span class="line"><span class="keyword"># systemctl</span> status ntpd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置亚洲时区</span></span><br><span class="line"><span class="keyword"># timedatectl</span> <span class="built_in">set</span>-timezone Asia/Shanghai</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启用ntp同步</span></span><br><span class="line"><span class="keyword"># timedatectl</span> <span class="built_in">set</span>-ntp yes</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看当前系统时间、时间同步状态</span></span><br><span class="line"><span class="keyword"># timedatectl</span> status</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看时间同步服务器列表</span></span><br><span class="line"><span class="keyword"># ntpq</span><span class="params"> -p</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>JVM 设置代理</strong></p></blockquote><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 不支持Socket代理，只支持Http代理</span><br><span class="line"></span><br><span class="line">-Dhttp.proxyPort=8118</span><br><span class="line">-Dhttp.proxyHost=127.0.0.1</span><br><span class="line">-Dhttps.proxyPort=8118</span><br><span class="line">-Dhttps.proxyHost=127.0.0.1</span><br><span class="line">-Dhttp.nonProxyHosts="localhost|127.0.0.1|*.aliyun.com"</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Centos7 调节屏幕亮度</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装xgamma</span></span><br><span class="line"><span class="keyword"># yum</span> install xgamma</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调节调度，其中 0.1 &lt; n &lt; 10.0</span></span><br><span class="line"><span class="keyword"># xgamma</span><span class="params"> -gamma</span> n</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>解决 Centos 的 Qt 桌面应用程序无法正常运行的问题</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 具体表现为应用的界面无法正常显示（白屏 + 界面过度拉伸），一般是Qt对高DPI显示器的配置出了问题</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加环境变量</span></span><br><span class="line"><span class="keyword"># vim</span> /etc/profile</span><br><span class="line"><span class="built_in">export</span> QT_AUTO_SCREEN_SCALE_FACTOR=0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使环境变量生效</span></span><br><span class="line"><span class="keyword"># source</span> /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果应用是在ZSH Shell环境下使用命令启动，则需要在ZSH的配置文件中添加环境变量（区分不同的Linux用户）</span></span><br><span class="line"><span class="keyword"># vim</span> ~/.zshrc</span><br><span class="line"><span class="built_in">export</span> QT_AUTO_SCREEN_SCALE_FACTOR=0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使ZSH配置文件生效（区分不同的Linux用户）</span></span><br><span class="line"><span class="keyword"># source</span> ~/.zshrc</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Centos7 的应用快捷方式指定环境变量</strong></p></blockquote><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"># 配置示例，在快捷方式文件里指定环境变量：QT_AUTO_SCREEN_SCALE_FACTOR=0</span><br><span class="line"></span><br><span class="line"># 方法一</span><br><span class="line">[Desktop Entry]</span><br><span class="line">Version=1.0</span><br><span class="line">Name=Redis Desktop Manager</span><br><span class="line">Comment=Redis Desktop Manager</span><br><span class="line">Type=Application</span><br><span class="line">Categories=Development;</span><br><span class="line">Exec=env QT_AUTO_SCREEN_SCALE_FACTOR=0 /snap/bin/redis-desktop-manager.rdm %U</span><br><span class="line">Terminal=false</span><br><span class="line">StartupNotify=true</span><br><span class="line">Icon=/var/lib/snapd/snap/redis-desktop-manager/current/usr/share/pixmaps/rdm.png</span><br><span class="line"></span><br><span class="line"># 方法二</span><br><span class="line">[Desktop Entry]</span><br><span class="line">Version=1.0</span><br><span class="line">Name=Redis Desktop Manager</span><br><span class="line">Comment=Redis Desktop Manager</span><br><span class="line">Type=Application</span><br><span class="line">Categories=Development;</span><br><span class="line">Exec=bash -c "export QT_AUTO_SCREEN_SCALE_FACTOR=0 &amp;&amp; /usr/bin/vlc --started-from-file %U"</span><br><span class="line">Terminal=false</span><br><span class="line">StartupNotify=true</span><br><span class="line">Icon=/var/lib/snapd/snap/redis-desktop-manager/current/usr/share/pixmaps/rdm.png</span><br><span class="line"></span><br><span class="line"># 参考博客</span><br><span class="line"># https://askubuntu.com/questions/144968/set-variable-in-desktop-file</span><br><span class="line"># https://askubuntu.com/questions/542152/desktop-file-with-bashrc-environment</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Centos7 的应用快捷方式使用 Root 权限启动</strong></p></blockquote><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 以下方法使用了gksu-polkit，目前存在无法通过UI界面关闭应用的Bug（即点击界面上的关闭按钮，应用进程不会被杀死）</span><br><span class="line"></span><br><span class="line">[Desktop Entry]</span><br><span class="line">Version=4.6.2</span><br><span class="line">Encoding = UTF-8</span><br><span class="line">Type=Application</span><br><span class="line">Name=eclipse-neon</span><br><span class="line">Icon=/usr/local/eclipse-neon/icon.xpm</span><br><span class="line">Exec=gksu-polkit /usr/local/eclipse-neon/eclipse</span><br><span class="line">Comment=JEE IDE</span><br><span class="line">Categories=Development;IDE;</span><br><span class="line">Terminal=false</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Centos7 快捷方式的位置</strong></p></blockquote><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 全局的应用程序快捷方式</span><br><span class="line">/usr/share/applications/</span><br><span class="line">/usr/local/share/applications/</span><br><span class="line"></span><br><span class="line"># 特定用户的应用程序快捷方式</span><br><span class="line">~/.local/share/applications/</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Linux 磁盘分区的空间不足</strong></p></blockquote><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1. 可以尝试使用Gparted等工具进行分区扩容，但不建议这么做，因为容易破坏硬盘的分区表，导致数据丢失或者造成系统无法正常启动。</span><br><span class="line"></span><br><span class="line">2. 建议将分区内（磁盘空间不足）体积较大的目录移动到其他分区（磁盘空间充足），然后在分区内（磁盘空间不足）创建软链接或者使用"mount --bind"的方法，指向新目录所在的路径。</span><br><span class="line"></span><br><span class="line">3. 假设其他分区也没有充足的磁盘空间，那么此时应该新增硬盘并挂载到系统中，然后通过上面介绍的方法将分区内（磁盘空间不足）体积较大的目录移动到新硬盘的分区即可。</span><br><span class="line"></span><br><span class="line">提示：</span><br><span class="line">1) 切记并非所有应用都支持创建软链接（ln -s）的方法，因为创建软链接后有可能会导致部分应用无法正常运行（例如snapd），建议统一使用"mount --bind"</span><br><span class="line">2) 假设通过Gparted工具进行分区扩容，扩容之后系统可以正常启动，磁盘分区的容量也确实增加了，但这一切都不能说明扩容操作真的成功了。因为这类操作可能会留下其他后患，例如扩容后使用"再生龙"备份硬盘为镜像文件时，会出现“无法保存分区”的错误信息。</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>Docker 配置代理</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 此方法适用于Debian/Ubuntu/CentOS系统，修改配置后会持续生效，其中的配置将覆盖docker.service中的选项</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建存放配置文件的目录</span></span><br><span class="line"><span class="keyword"># mkdir</span><span class="params"> -p</span> /etc/systemd/system/docker.service.d</span><br><span class="line"></span><br><span class="line"><span class="comment"># 新增代理配置文件</span></span><br><span class="line"><span class="keyword"># vim</span> /etc/systemd/system/docker.service.d/http-proxy.conf</span><br><span class="line">[Service]</span><br><span class="line">Environment=<span class="string">"HTTP_PROXY=http://192.168.1.122:1080"</span> <span class="string">"HTTPS_PROXY=http://192.168.1.122:1080"</span> <span class="string">"NO_PROXY=localhost,127.0.0.1,mirrors.aliyun.com"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 重载配置</span></span><br><span class="line"><span class="keyword"># systemctl</span> daemon-reload</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启Docker服务</span></span><br><span class="line"><span class="keyword"># systemctl</span> restart docker</span><br><span class="line"></span><br><span class="line"><span class="comment"># 若取消代理，只需删除代理配置文件，并重载配置和重启Docker服务即可</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>CURL 命令使用</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 跳过Https证书验证（-k）</span></span><br><span class="line"><span class="keyword"># curl</span><span class="params"> -k</span> https://example.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># 允许跟随重定向（-L）</span></span><br><span class="line"><span class="keyword"># curl</span><span class="params"> -I</span><span class="params"> -L</span> http://example.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定请求方式（-X）</span></span><br><span class="line"><span class="keyword"># curl</span><span class="params"> -X</span> GET http://example.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定用户名密码（-u，注意密码会记录在Bash的历史记录中）</span></span><br><span class="line"><span class="keyword"># curl</span><span class="params"> -u</span> username:password http://example.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定来源（--referer）</span></span><br><span class="line"><span class="keyword"># curl</span><span class="params"> -v</span><span class="params"> -I</span><span class="params"> --referer</span> http://<span class="built_in">source</span>.com htttp://example.com</span><br></pre></td></tr></tbody></table></figure><div id="readmore-expansion" class="pjax"></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script data-pjax="" src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script data-pjax="">var isMobile=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),allowMobile=!1;if(!isMobile||isMobile&&allowMobile)try{var plugin=new ReadmorePlugin;plugin.init({type:"hexo",id:"readmore-container",name:"全栈技术驿站",blogId:"96641-5333172926158-056",qrcode:"https://www.techgrow.cn/img/wx_mp_qr.png",keyword:"Tech",random:"1",height:"auto",expires:"365",lockToc:"yes",interval:"30",baseUrl:"",execute:"yes"})}catch(e){console.warn("readmore plugin occurred error: "+e.name+" | "+e.message)}</script></div><footer class="post-footer"><div class="reward-container"><div>支持一根棒棒糖！</div> <button> 赞赏</button><div class="post-reward"><div> <img src="/img/pay_wx.png" alt="Clay 微信"> <span>微信</span></div><div> <img src="/img/pay_zfb.png" alt="Clay 支付宝"> <span>支付宝</span></div></div></div><div class="post-copyright"><ul><li class="post-copyright-author"> <strong>本文作者：</strong> Clay</li><li class="post-copyright-link"> <strong>本文链接：</strong> <a href="https://www.techgrow.cn/posts/533ecd67.html" title="日常编程开发技巧之一">https://www.techgrow.cn/posts/533ecd67.html</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class="contactme"><div class="social-list"><div class="social-item"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">欢迎添加博主微信，请备注 "博客"，届时会邀请您加入微信群</span><br> <img src="/img/wx_account_qr.png"></div></div></div><div class="post-tags"><a href="/tags/Linux/" rel="tag"><i class="fa fa-tag"></i> Linux</a><a href="/tags/%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94/" rel="tag"><i class="fa fa-tag"></i> 开发随笔</a></div><div class="post-nav"><div class="post-nav-item"><a href="/posts/fc2b1bbb.html" rel="prev" title="Hexo 博客搭建日志"><i class="fa fa-chevron-left"></i> Hexo 博客搭建日志</a></div><div class="post-nav-item"> <a href="/posts/d8e8dbb.html" rel="next" title="Git 之二 - 显示日志、恢复文件、比较文件">Git 之二 - 显示日志、恢复文件、比较文件<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> Copyright © 2018 – <span itemprop="copyrightYear">2023</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Clay</span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i></span> <span>站点总字数：</span> <span title="站点总字数">929k</span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i></span> <span>站点阅读时长 ≈</span> <span title="站点阅读时长">14:04</span></span></div><div id="site-runtime"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i></span><span id="runtime"></span></div><script language="javascript">function isPC(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=0;n<t.length;n++)if(0<e.indexOf(t[n]))return!1;return!0}function siteTime(e,t){window.setTimeout("siteTime(openOnPC, start)",1e3);var n=36e5,o=24*n;t=new Date("2018-12-27 08:00:00");var i=new Date,r=(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i-t),a=Math.floor(r/31536e6),s=Math.floor(r/o-365*a),d=Math.floor((r-(365*a+s)*o)/n),l=Math.floor((r-(365*a+s)*o-d*n)/6e4),u=Math.floor((r-(365*a+s)*o-d*n-6e4*l)/1e3);document.getElementById("runtime").innerHTML="Powered by Hexo & Docker | "+a+" 年 "+s+" 日 "+d+" 小时 "+l+" 分钟 "+u+" 秒 "}var showOnMobile=!1,openOnPC=isPC(),start=new Date;siteTime(openOnPC,start),openOnPC||showOnMobile||(document.getElementById("site-runtime").style.display="none")</script><div class="beian"> <span><img src="/img/gonganbeian.png" alt=""></span> <span><a href="https://beian.miit.gov.cn/" rel="external nofollow" target="_blank">粤 ICP 备 19024664 号</a></span> <span>|&nbsp;</span> <span><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=44011302004035" rel="external nofollow" target="_blank">粤公网安备 44011302004035 号</a></span></div><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span><span class="post-meta-item" id="busuanzi_container_site_pv"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div> <a href="https://github.com/rqh656418510" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="external nofollow" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script size="200" alpha="0.5" zindex="-1" src="/lib/ribbon.js/dist/ribbon.min.js"></script><script src="/lib/animejs/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/lib/@next-theme/pjax/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script><script src="/lib/medium-zoom/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script><script src="/lib/lozad/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script><script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"/lib/pdfobject/pdfobject.min.js","integrity":"sha256-N6JtCNwaYm6kizuG92UtOOXamRHPwu+V1yF10g3bu/c="},"url":"/lib/pdf/web/viewer.html"}</script><script src="/js/third-party/tags/pdf.js"></script><script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"/lib/mermaid/dist/mermaid.min.js","integrity":"sha256-e0o3JYsdjqKajf9eOe22FhioYSz9WofRY4dLKo3F6do="}}</script><script src="/js/third-party/tags/mermaid.js"></script><script src="/js/third-party/pace.js"></script><script data-pjax="" async="" src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://www.techgrow.cn/lib/darkmode-js.min.js"></script><script>
var options = {
  bottom: '64px',
  right: '30px',
  left: 'unset',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#282828',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: '🌓',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script><script src="https://unpkg.com/qiniu-js@3.3.1/dist/qiniu.min.js"></script><script>
    var qiniu_domain = "https://qiniu.techgrow.cn";
    var qiniu_token_url = "https://open.techgrow.cn/app/api/qiniu/token/upload";
    var qiniu_debug = "true" === "false";

    // date format
    Date.prototype.format = function (fmt) {
      var o = {
        "M+": this.getMonth() + 1,
        "d+": this.getDate(),
        "h+": this.getHours(),
        "m+": this.getMinutes(),
        "s+": this.getSeconds(),
        "q+": Math.floor((this.getMonth() + 3) / 3),
        "S": this.getMilliseconds()
      };
      if (/(y+)/.test(fmt)) {
        fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
      }
      for (var k in o) {
        if (new RegExp("(" + k + ")").test(fmt)) {
          fmt = fmt.replace(
            RegExp.$1,
            (RegExp.$1.length == 1)
              ? (o[k])
              : (("00" + o[k]).substr(("" + o[k]).length))
          );
        }
      }
      return fmt;
    }

    // generate uuid
    function uuid() {
      var s = [];
      var hexDigits = "0123456789abcdef";
      for (var i = 0; i < 36; i++) {
        s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);
      }
      s[14] = "4";
      s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);
      s[8] = s[13] = s[18] = s[23] = "-";
      var uuid = s.join("");
      return uuid;
    }

    // sync get request
    function syncGet(url) {
      var xhr = null;
      if (window.XMLHttpRequest) {
        xhr = new XMLHttpRequest();
      } else {
        xhr = new ActiveXObject("Microsoft.XMLHTTP");
      }
      xhr.open('GET', url, false);
      xhr.send();
      return xhr;
    }

    // get upload file path
    function getUploadFilePath() {
      var now = new Date();
      var name = uuid().replace(/-/g, "");
      var nowStr = now.format("/yyyy/MM/dd/");
      return "uploads" + nowStr + name;
    }

    // get qiniu upload token
    function getUploadToken() {
      try {
        var xhr = syncGet(qiniu_token_url);
        var responseStatus = xhr.status;
        var responseJson = JSON.parse(xhr.responseText);
        if (responseStatus === 200) {
          return responseJson.data;
        } else if (responseStatus === 403) {
          alert(responseJson.msg || "图片上传失败，无法获取UploadToken，非法请求来源！");
        } else if (responseStatus === 429) {
          alert(responseJson.msg || "图片上传失败，无法获取UploadToken，上传过于频繁！");
        } else if (responseStatus === 500) {
          alert(responseJson.msg || "图片上传失败，无法获取UploadToken，系统内部出错！");
        } else {
          alert("图片上传失败，无法获取UploadToken，未知Http响应状态码！");
        }
      } catch (err) {
        if (qiniu_debug) {
          console.error(err);
        }
        alert("图片上传失败，无法获取UploadToken，未知错误！");
      }
      return null;
    }

    // qiniu upload image
    async function qiniuUploadImage(file) {
      var image_path = null;
      await uploadImage(file).then(function onFulfilled(res) {
        image_path = res;
      }).catch(function onRejected(err) {
        if (qiniu_debug) {
          console.error(err);
        }
      });
      return image_path;
    }

    // upload image
    function uploadImage(file) {
      return new Promise((resolve, reject) => {
        var config = null;
        var putExtra = null;
        var token = getUploadToken();
        var key = getUploadFilePath();
        // upload init
        var observable = qiniu.upload(file, key, token, putExtra, config);
        // upload start
        observable.subscribe({
          next(res) {
            // upload progress
          },
          error(err) {
            // upload falied
            reject("falied to upload image for qiniu: " + err.name);
          },
          complete(res) {
            // upload successed
            resolve(qiniu_domain + "/" + key);
          }
        });
      });
    }
  </script><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-CN","enable":true,"serverURL":"https://waline.techgrow.cn:9360","cssUrl":"https://unpkg.com/@waline/client@2.5.1/dist/waline.css","commentCount":true,"pageview":false,"copyright":false,"allowUploadImage":true,"libUrl":"https://unpkg.com/@waline/client@2.5.1/dist/waline.js","locale":{"placeholder":"支持匿名评论啦，若希望及时收到博主的反馈，建议登录评论或者在上方的邮箱输入框留下邮箱地址哦 (๑•̀ㅂ•́)و✧"},"dark":"body.darkmode--activated","emoji":["https://unpkg.com/@waline/emojis@1.0.1/weibo"],"meta":["nick","mail","link"],"login":"enable","pageSize":10,"qiniuDebug":false,"qiniuDomain":"https://qiniu.techgrow.cn","qiniuTokenUrl":"https://open.techgrow.cn/app/api/qiniu/token/upload","el":"#waline","comment":true,"path":"/posts/533ecd67.html"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@2.5.1/dist/waline.css"><script>
document.addEventListener('page:loaded', () => {
  if (!CONFIG.waline.allowUploadImage) {
    CONFIG.waline.imageUploader = false;
  }
  else if (CONFIG.waline.qiniuDomain && CONFIG.waline.qiniuTokenUrl) {
    CONFIG.waline.imageUploader = qiniuUploadImage;
  } else {
   CONFIG.waline.imageUploader = true;
  }
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script><div class="comments" id="waline-comments" style="display:none"></div><script>function isMobile(){var i=navigator.userAgent.toLowerCase(),e="ipad"==i.match(/ipad/i),a="iphone os"==i.match(/iphone os/i),o="midp"==i.match(/midp/i),n="rv:1.2.3.4"==i.match(/rv:1.2.3.4/i),r="ucweb"==i.match(/ucweb/i),c="android"==i.match(/android/i),l="windows ce"==i.match(/windows ce/i),d="windows mobile"==i.match(/windows mobile/i);return!!(e||a||o||n||r||c||l||d)}var openOnMobile=isMobile(),showOnMobile=!1,aplayerEnable=!0;jQuery(document).ready(function(){aplayerEnable&&(openOnMobile&&!showOnMobile||jQuery("#aplayer").css("display","block"))}),jQuery(window).on("load",function(){aplayerEnable&&jQuery(".aplayer\\-icon.aplayer\\-icon\\-lrc").trigger("click")})</script></body></html>