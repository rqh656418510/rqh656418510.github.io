<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.0"><link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic%7CRoboto+Slab:300,300italic,400,400italic,700,700italic%7CRoboto+Mono:300,300italic,400,400italic,700,700italic&amp;display=swap&amp;subset=latin,latin-ext"><link rel="stylesheet" href="/lib/@fortawesome/fontawesome-free/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous"><link rel="stylesheet" href="/lib/animate.css/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="/lib/pace-js/themes/blue/pace-theme-minimal.css"><script src="/lib/pace-js/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script><script class="next-config" data-name="main" type="application/json">{"hostname":"www.techgrow.cn","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"always","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"flat"},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script><meta name="description" content="本文主要介绍 C 语言的语法，包括顺序程序与分支结构程序设计的使用。"><meta property="og:type" content="article"><meta property="og:title" content="C 语言语法之二程序结构设计"><meta property="og:url" content="https://www.techgrow.cn/posts/b27b9a6a.html"><meta property="og:site_name" content="Clay 的技术空间"><meta property="og:description" content="本文主要介绍 C 语言的语法，包括顺序程序与分支结构程序设计的使用。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.techgrow.cn/asset/2020/03/c-data-format.png"><meta property="og:image" content="https://www.techgrow.cn/asset/2020/03/c-luoji-symbol.png"><meta property="og:image" content="https://www.techgrow.cn/asset/2020/03/c-if.png"><meta property="article:published_time" content="2020-03-26T12:53:49.000Z"><meta property="article:modified_time" content="2020-03-27T13:46:49.000Z"><meta property="article:author" content="Clay"><meta property="article:tag" content="C语言"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://www.techgrow.cn/asset/2020/03/c-data-format.png"><link rel="canonical" href="https://www.techgrow.cn/posts/b27b9a6a.html"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://www.techgrow.cn/posts/b27b9a6a.html","path":"posts/b27b9a6a.html","title":"C 语言语法之二程序结构设计"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>C 语言语法之二程序结构设计 | Clay 的技术空间</title><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-135294383-1"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-135294383-1","only_pageview":false,"measure_protocol_api_secret":null}</script><script src="/js/third-party/analytics/google-analytics.js"></script><script class="next-config" data-name="baidu_analytics" type="application/json">"84c09b30349a65573c5c642ff336969b"</script><script src="/js/third-party/analytics/baidu-analytics.js"></script><link rel="dns-prefetch" href="https://waline.techgrow.cn"><link rel="stylesheet" type="text/css" href="/css/injector/main.css"><link rel="preload" as="style" href="/css/injector/light.css"><link rel="preload" as="style" href="/css/injector/dark.css"><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><style>.admonition{margin:1.5625em 0;padding:.6rem;overflow:hidden;font-size:.64rem;page-break-inside:avoid;border-left:.3rem solid #42b983;border-radius:.3rem;box-shadow:0 .1rem .4rem rgba(0,0,0,.05),0 0 .05rem rgba(0,0,0,.1);background-color:#fafafa}p.admonition-title{position:relative;margin:-.6rem -.6rem .8em -.6rem!important;padding:.4rem .6rem .4rem 2.5rem;font-weight:700;background-color:rgba(66,185,131,.1)}.admonition-title::before{position:absolute;top:.9rem;left:1rem;width:12px;height:12px;background-color:#42b983;border-radius:50%;content:' '}.info>.admonition-title,.todo>.admonition-title{background-color:rgba(0,184,212,.1)}.attention>.admonition-title,.caution>.admonition-title,.warning>.admonition-title{background-color:rgba(255,145,0,.1)}.error>.admonition-title,.fail>.admonition-title,.failure>.admonition-title,.missing>.admonition-title{background-color:rgba(255,82,82,.1)}.admonition.info,.admonition.todo{border-color:#00b8d4}.admonition.attention,.admonition.caution,.admonition.warning{border-color:#ff9100}.admonition.error,.admonition.fail,.admonition.failure,.admonition.missing{border-color:#ff5252}.info>.admonition-title::before,.todo>.admonition-title::before{background-color:#00b8d4;border-radius:50%}.attention>.admonition-title::before,.caution>.admonition-title::before,.warning>.admonition-title::before{background-color:#ff9100;border-radius:50%}.error>.admonition-title::before,.fail>.admonition-title::before,.failure>.admonition-title::before,.missing>.admonition-title::before{background-color:#ff5252;border-radius:50%}.admonition>:last-child{margin-bottom:0!important}</style><link rel="alternate" href="/atom.xml" title="Clay 的技术空间" type="application/atom+xml"><style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head><body itemscope="" itemtype="http://schema.org/WebPage" class="use-motion"><script src="/lib/jquery/dist/jquery.min.js"></script><script data-pjax="">!function(){var t=window.location.host;if(-1==t.indexOf("127.0.0.1")&&-1==t.indexOf("localhost")){var o=document.createElement("script"),e=window.location.protocol.split(":")[0];o.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(o,n)}}()</script><link rel="stylesheet" href="/lib/aplayer/dist/APlayer.min.css"><div id="aplayer" style="display:none"></div><script src="/lib/aplayer/dist/APlayer.min.js"></script><script src="/lib/aplayer/dist/color-thief.js"></script><script src="/lib/aplayer-init.js"></script><script src="https://res.wx.qq.com/open/js/jweixin-1.4.0.js"></script><script>function getTitle(){var t=jQuery("meta[property='og:title']");return t?t.attr("content"):""}function getDesc(){var t=jQuery("meta[property='og:description']");return t?t.attr("content"):""}function randomString(t){for(var e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=e.length,i="",r=0;r<t;++r)i+=e.charAt(Math.floor(Math.random()*n));return i}function initWx(t){wx.config({debug:!1,appId:t.appId,nonceStr:t.nonceStr,signature:t.signature,timestamp:t.timestamp,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ"]}),wx.ready(function(){wx.onMenuShareTimeline({title:t.title,link:t.link,imgUrl:t.imgUrl,success:function(){}}),wx.onMenuShareAppMessage({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl,type:"link",dataUrl:"",success:function(){}}),wx.onMenuShareQQ({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl,success:function(){},cancel:function(){}})}),wx.error(function(t){})}jQuery(function(){var e=getDesc(),n=getTitle(),i=randomString(16),r=(new Date).getTime(),a=window.location.href,t="https://open.techgrow.cn/app/api/wechat/js/signature?url="+a+"&noncestr="+i+"&timestamp="+r;jQuery.getJSON(t,function(t){initWx({desc:e,title:n,link:a,nonceStr:i,timestamp:r,signature:t.data,appId:"wx1fcf69355af43d41",imgUrl:"https://www.techgrow.cn/img/wx_share.jpg"})})})</script><div style="display:none"><img src="https://www.techgrow.cn/img/wx_share.jpg" alt=""></div><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Clay 的技术空间</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">用进废退 | 艺不压身</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="搜索" role="button"></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-search"><a href="/search" rel="section"><i class="fa fa-search fa-fw"></i>搜索</a></li><li class="menu-item menu-item-links"><a href="/links" rel="section"><i class="fas fa-link fa-fw"></i>友链</a></li><li class="menu-item menu-item-readingnotes"><a href="https://www.techgrow.cn/reading/" rel="section"><i class="fa fa-book-open-reader fa-fw"></i>读书笔记</a></li><li class="menu-item menu-item-commentmanage"><a href="https://waline.techgrow.cn/" rel="external nofollow" target="_blank"><i class="fa fa-comment fa-fw"></i>评论管理</a></li></ul></nav></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%A7%E7%BA%B2"><span class="nav-text">大纲</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B5%8B%E5%80%BC%E8%AF%AD%E5%8F%A5"><span class="nav-text">赋值语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#putchar-%E5%87%BD%E6%95%B0%E4%B8%8E-getchar-%E5%87%BD%E6%95%B0"><span class="nav-text">putchar 函数与 getchar 函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#putch-%E5%87%BD%E6%95%B0%E4%B8%8E-getch-%E5%87%BD%E6%95%B0"><span class="nav-text">putch 函数与 getch 函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#printf-%E5%87%BD%E6%95%B0%EF%BC%88%E6%A0%BC%E5%BC%8F%E8%BE%93%E5%87%BA%E5%87%BD%E6%95%B0%EF%BC%89"><span class="nav-text">printf 函数（格式输出函数）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#scanf-%E5%87%BD%E6%95%B0%EF%BC%88%E6%A0%BC%E5%BC%8F%E8%BE%93%E5%85%A5%E5%87%BD%E6%95%B0%EF%BC%89"><span class="nav-text">scanf 函数（格式输入函数）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6%E5%8F%8A%E5%85%B6%E4%BC%98%E5%85%88%E7%BA%A7"><span class="nav-text">关系运算符及其优先级</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B3%E7%B3%BB%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">关系表达式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">逻辑表达式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#if-%E8%AF%AD%E5%8F%A5"><span class="nav-text">if 语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-if-%E8%AF%AD%E5%8F%A5%E5%BA%94%E6%B3%A8%E6%84%8F%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-text">使用 if 语句应注意的问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">条件运算符与条件表达式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#switch-%E8%AF%AD%E5%8F%A5"><span class="nav-text">switch 语句</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope="" itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Clay" src="/img/head.jpg"></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <span class="site-state-item-count">609</span> <span class="site-state-item-name">文章</span></div><div class="site-state-item site-state-tags"> <span class="site-state-item-count">53</span> <span class="site-state-item-name">标签</span></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/rqh656418510" title="GitHub → https://github.com/rqh656418510" rel="external nofollow" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:rong656418510@gmail.com" title="E-Mail → mailto:rong656418510@gmail.com" rel="external nofollow" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span><span class="links-of-author-item"><a href="/atom.xml" title="RSS → /atom.xml" rel="noopener me"><i class="fa fa-rss fa-fw"></i> RSS</a></span><span class="links-of-author-item"><a href="/sitemap.xml" title="SiteMap → /sitemap.xml" rel="noopener me"><i class="fa fa-sitemap fa-fw"></i> SiteMap</a></span></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope="" itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.techgrow.cn/posts/b27b9a6a.html"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/img/head.jpg"><meta itemprop="name" content="Clay"></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="Clay 的技术空间"><meta itemprop="description" content="专注于 Java 后端、分布式、微服务、云原生、数据库、系统架构、大数据、云计算、虚拟化、人工智能学习的技术博客。"></span><span hidden="" itemprop="post" itemscope="" itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="C 语言语法之二程序结构设计 | Clay 的技术空间"><meta itemprop="description" content="本文主要介绍 C 语言的语法，包括顺序程序与分支结构程序设计的使用。"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> C 语言语法之二程序结构设计</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-03-26 20:53:49" itemprop="dateCreated datePublished" datetime="2020-03-26T20:53:49+08:00">2020-03-26</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2020-03-27 21:46:49" itemprop="dateModified" datetime="2020-03-27T21:46:49+08:00">2020-03-27</time></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv"><span class="post-meta-item-icon"><i class="far fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">评论数：</span><a title="waline" href="/posts/b27b9a6a.html#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/posts/b27b9a6a.html" itemprop="commentCount"></span></a></span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>3.7k</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">阅读时长 ≈</span> <span>3 分钟</span></span></div></div></header><div class="post-body post-container" itemprop="articleBody" id="readmore-container"><h2 id="大纲"><a href="#大纲" class="headerlink" title="大纲"></a>大纲</h2><ul><li><a href="/posts/168c8788.html">C 语言语法之一数据类型与运算符</a></li><li><a href="/posts/b27b9a6a.html">C 语言语法之二程序结构设计</a></li><li><a href="/posts/e2f81b63.html">C 语言语法之三循环控制结构</a></li><li><a href="/posts/7f62c448.html">C 语言语法之四数组数据结构</a></li></ul><h2 id="赋值语句"><a href="#赋值语句" class="headerlink" title="赋值语句"></a>赋值语句</h2><ol><li>注意在变量声明中给变量赋初值和赋值语句的区别，给变量赋初值是变量声明的一部分，赋初值后的变量与其后的其它同类变量之间仍必须用逗号间隔，而赋值语句则必须用分号结尾，例如：<code>int a=5,b,c;</code></li><li>在变量声明中，不允许连续给多个变量赋初值，而赋值语句则允许连续赋值，如 <code>int a=b=c=5;</code> 声明是错误的，正确的写法必须是：<code>int a=5,b=5,c=5;</code></li><li>注意赋值表达式和赋值语句的区别，赋值表达式是一种表达式，它可以出现在任何允许表达式出现的地方，而赋值语句则不能，如 <code>if((x=y+5)&gt;0) z=x;</code> 语句是合法的，<code>if((x=y+5;)&gt;0) z=x;</code> 语句是非法的，因为 <code>x=y+5;</code> 是语句，不能出现在表达式中</li></ol><h2 id="putchar-函数与-getchar-函数"><a href="#putchar-函数与-getchar-函数" class="headerlink" title="putchar 函数与 getchar 函数"></a>putchar 函数与 getchar 函数</h2><ol><li>使用 putchar 和 getchar 函数前，都必须要用文件包含命令 <code>#include &lt;stdio.h&gt;</code> 或 <code>#include “stdio.h”</code></li><li>putchar 函数是字符输出函数，功能是在显示器上输出单个字符，其一般形式为：putchar (字符变量)，如 <code>putchar('A');</code></li><li>getchar 函数的功能是从键盘上输入一个字符，其一般形式为：getchar ()，通常把输入的字符赋予一个字符变量来构成赋值语句，如：<code>char c = getchar();</code></li></ol><h2 id="putch-函数与-getch-函数"><a href="#putch-函数与-getch-函数" class="headerlink" title="putch 函数与 getch 函数"></a>putch 函数与 getch 函数</h2><ol><li>getch 函数是一个不回显函数，当用户按下某个字符时，函数自动读取，无需按回车；有的 C 语言命令行程序会用到此函数做游戏，但是这个函数并非标准函数，要注意不同平台的移植性</li><li> Windows 系统使用 putch 和 getch 函数，需要引入 ‘conio.h’ 头文件；在使用 getch 函数之前要调用 <code>initscr()</code>，结束时要调用 <code>endwin()</code>，否则会出现不输入字符这个函数也会有返回值的情况</li><li>在不同的系统平台，输入回车，getch 函数将返回不同数值，而 getchar 函数统一返回十进制数 10 (即 <code>\n</code>)</li><li>Linux 系统不存在 <code>conio.h</code> 头文件，但可以使用 <code>curses</code> 库替代；若在编译的时候不通过，gcc 编译命令需要添加 <code>-l curses</code> 参数来引入 <code>curses</code> 库。Linux 系统下只能使用 getch 函数，而 putch 函数不能使用，因为 <code>curses</code> 库里没有 putch 函数</li></ol><span id="more"></span><h2 id="printf-函数（格式输出函数）"><a href="#printf-函数（格式输出函数）" class="headerlink" title="printf 函数（格式输出函数）"></a>printf 函数（格式输出函数）</h2><ol><li>printf 函数称为格式输出函数，其关键字最末一个字母 f 即为 “格式”(format) 之意。其功能是按用户指定的格式，把指定的数据显示到显示器屏幕上。该函数是一个标准库函数，它的函数原型在头文件 <code>stdio.h</code> 中，但作为一个特例，不要求在使用 printf 函数之前必须包含 <code>stdio.h</code> 文件，其调用的一般形式为：printf (“格式控制字符串”，输出表列)</li><li> 其中格式控制字符串用于指定输出格式，格式控制串可由格式字符串和非格式字符串两种组成。格式字符串是以 <code>%</code> 开头的字符串，在 <code>%</code> 后面跟有各种格式字符，以说明输出数据的类型、形式、长度、小数位数等，如：<code>%c</code> 表示按字符型输出，<code>%d</code> 表示按十进制整型输出，<code>%f</code> 表示按小数形式输出单精度实数<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">i. 类型：具体类型如下表所示</span><br><span class="line">ii. 长度：长度格式符为h、l两种，h表示按短整型量输出，l表示按长整型量输出</span><br><span class="line">iii. 输出最小宽度：用十进制整数来表示输出的最少位数，若实际位数多于定义的宽度，则按实际位数输出，若实际位数少于定义的宽度则补以空格或0</span><br><span class="line">iiii. 输出精度：精度格式符以`.`开头，后面跟十进制整数，本项的意义是如果输出数字，则表示小数的位数；如果输出的是字符，则表示输出字符的个数；若实际位数大于所定义的精度数，则截去超过的部分</span><br></pre></td></tr></tbody></table></figure></li></ol><p><img data-src="../../../asset/2020/03/c-data-format.png" alt="c-data-format"></p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/<span class="built_in">printf</span>函数使用例子/</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">15</span>;</span><br><span class="line"><span class="keyword">char</span> d = <span class="string">'p'</span>;</span><br><span class="line"><span class="keyword">int</span> x = <span class="number">88</span>, y = <span class="number">89</span>;</span><br><span class="line"><span class="keyword">float</span> b = <span class="number">123.1234567</span>;</span><br><span class="line"><span class="keyword">double</span> c = <span class="number">12345678.1234567</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%c,%c\n"</span>,x,y);                           <span class="comment">// &gt;&gt; X, Y</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"a=%d,%5d,%o,%x\n"</span>,a,a,a,a);              <span class="comment">// &gt;&gt; a=15,   15,17,f</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"b=%f,%lf,%5.4lf,%e\n"</span>,b,b,b,b);          <span class="comment">// &gt;&gt; b=123.123459,123.123459,123.1235,1.231235e+02</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"c=%lf,%f,%8.4lf\n"</span>,c,c,c);               <span class="comment">// &gt;&gt; c=12345678.123457,12345678.123457,12345678.1235</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"d=%c,%8c\n"</span>,d,d);                        <span class="comment">// &gt;&gt; d=p,       p</span></span><br></pre></td></tr></tbody></table></figure><h2 id="scanf-函数（格式输入函数）"><a href="#scanf-函数（格式输入函数）" class="headerlink" title="scanf 函数（格式输入函数）"></a>scanf 函数（格式输入函数）</h2><ol><li>scanf 函数称为格式输入函数，即按用户指定的格式从键盘上把数据输入到指定的变量之中。该函数是一个标准库函数，它的函数原型在头文件 <code>stdio.h</code> 中，与 printf 函数相同，C 语言也允许在使用 scanf 函数之前不必包含 <code>stdio.h</code> 文件。scanf 函数的一般形式为：scanf (“格式控制字符串”，地址表列)，其中格式控制字符串的作用与 printf 函数相同，如：<code>int a,b; scanf("%d%d",&amp;a,&amp;b);</code>，但不能显示非格式字符串，也就是不能显示提示字符串。地址表列中给出各变量的地址，地址是由地址运算符 <code>&amp;</code> 后跟变量名组成，例如：&amp;a、 &amp;b 分别表示变量 a 和变量 b 的地址</li><li>格式控制字符串的一般形式为：%[*][输入数据宽度][长度] 类型，其中有方括号 [ ] 的项为任选项，各项的意义如下：<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">i. *符号：用以表示该输入项读入后不赋予相应的变量，即跳过该输入值，例如: scanf("%d %*d %d", &amp;a, &amp;b)，当输入为：1 2 3 时，将把1赋予a，2被跳过，3赋予b</span><br><span class="line">i. 宽度：用十进制整数指定输入的宽度(即字符数)，例如：scanf("%5d", &amp;a)，当输入为：12345678，只把12345赋予变量a，其余部分被截去；又如：scanf("%4d%4d", &amp;a, &amp;b)，当输入为：12345678，将把1234赋予a，而把5678赋予b</span><br><span class="line">iii. 长度：格式符为l和h，h表示输入短整型数据，l表示输入长整型数据（如%ld） 和双精度浮点数（如%lf）</span><br><span class="line">iiii. 类型：表示输入数据的类型，其格式符和意义和printf函数相同，如：d表示输入十进制整数</span><br></pre></td></tr></tbody></table></figure></li><li>使用 scanf 函数必须注意以下几点：<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">i. 若输入的数据与输出的类型不一致时，虽然编译能够通过，但输出结果可能不正确</span><br><span class="line">ii. scanf函数中没有精度控制，如：scanf("%5.2f", &amp;a) 是非法的，不能企图用此语句输入小数为2位的实数</span><br><span class="line">iii. scanf中要求给出变量地址，如给出变量名则会出错，如 scanf("%d", a) 是非法的，应改为 scanf("%d", &amp;a) 才是合法的</span><br><span class="line">iiii. 在输入多个数值数据时，若格式控制串中没有非格式字符作为输入数据之间的间隔，则可用空格、TAB或回车作间隔；C编译器在碰到空格、TAB、回车或非法数据（如对“%d”输入“12A”，A即为非法数据）时，即认为数据输入结束</span><br><span class="line">iiiii. 如果格式控制串中有非格式字符，则输入时也要输入该非格式字符，例如：scanf("%d,%d,%d", &amp;a, &amp;b, &amp;c)，其中用非格式符“,”作间隔符，则输入数据应为：5,6,7，又如：scanf("a=%d,b=%d,c=%d", &amp;a, &amp;b, &amp;c)，则输入数据应为：a=5,b=6,c=7</span><br><span class="line">iiiiii. 在输入字符数据时，若格式控制串中无非格式字符，则认为所有输入的字符均为有效字符，如：scanf("%c%c%c", &amp;a, &amp;b, &amp;c)，当输入为：d e f，则把'd'赋予a，' '赋予b，'e'赋予c，只有当输入为：def 时，才能把'd'赋于a，'e'赋予b，'f'赋予c。如果在格式控制中加入空格作为间隔，如：scanf("%c %c %c", &amp;a, &amp;b, &amp;c)，则输入时各数据之间可加空格，a、b、c也将会被赋予正确的值</span><br></pre></td></tr></tbody></table></figure></li></ol><h2 id="关系运算符及其优先级"><a href="#关系运算符及其优先级" class="headerlink" title="关系运算符及其优先级"></a>关系运算符及其优先级</h2><p>关系运算符都是双目运算符，其结合性均为左结合，分别是 &lt;、&lt;=、&gt;、&gt;=、==、!=。关系运算符的优先级低于算术运算符，高于赋值运算符。在六个关系运算符中，前四个 &lt;、&lt;=、&gt;、&gt;= 的优先级相同，且高于 ==、!= 的优先级、而 ==、!= 的优先级相同。</p><h2 id="关系表达式"><a href="#关系表达式" class="headerlink" title="关系表达式"></a>关系表达式</h2><ol><li>关系表达式的一般形式为：表达式 关系运算符 表达式，例如：<code>a+b &gt; c-d</code>、<code>x &gt; 3/2</code>、<code>-i-5*j == k+1</code>。由于表达式也可以又是关系表达式，因此也允许出现嵌套的情况，例如：<code>a &gt; (b&gt;c)</code>、<code>a != (c==d)</code></li><li>关系表达式的值是” 真” 和 “假”，分别使用 “1” 和 “0” 表示，例如：<code>5 &gt; 0</code> 的值为 “真”，即为 1，又如：<code>(a=3) &gt; (b=5)</code> 由于 3 &gt; 5 不成立，故其值为” 假”，即为 0</li></ol><blockquote><p>逻辑运算符及其优先级</p></blockquote><ol><li>C 语言中提供了三种逻辑运算符：&amp;&amp;（与运算）、||（或运算）、!（非运算），其中与运算符 <code>&amp;&amp;</code> 和或运算符 <code>||</code> 均为双目运算符，具有左结合性。非运算符 <code>!</code> 为单目运算符，具有右结合性。三种逻辑运算符的优先级是如下图（最高处的运算符级别最高）</li><li>逻辑运算的值也分为 “真” 和 “假” 两种，用 “1” 和 “0 ” 来表示。其求值规则如下，与运算符 <code>&amp;&amp;</code>： 参与运算的两个量都为真时，结果才为真，否则为假，例如：<code>5&gt;0 &amp;&amp; 4&gt;2</code>，由于 5&gt;0 为真，4&gt;2 也为真，相与的结果也为真。或运算符 <code>||</code>： 参与运算的两个量只要有一个为真，结果就为真，两个量都为假时，结果为假，例如：<code>5&gt;0 || 5&gt;8</code> 由于 5&gt;0 为真，相或的结果也就为真。非运算符 <code>!</code>： 参与运算量为真时，结果为假，参与运算量为假时，结果为真，例如：<code>!(5&gt;0)</code> 的结果为假</li></ol><p><img data-src="../../../asset/2020/03/c-luoji-symbol.png" alt="c-luoji-symbol"></p><h2 id="逻辑表达式"><a href="#逻辑表达式" class="headerlink" title="逻辑表达式"></a>逻辑表达式</h2><ol><li>逻辑表达式的一般形式为：表达式 逻辑运算符 表达式，其中的表达式可以又是逻辑表达式，从而组成了嵌套的情形。例如：<code>(a &amp;&amp; b) &amp;&amp; c</code>，根据逻辑运算符的左结合性，也可写为：<code>a &amp;&amp; b &amp;&amp; c</code></li></ol><h2 id="if-语句"><a href="#if-语句" class="headerlink" title="if 语句"></a>if 语句</h2><p>if 语句可以构成分支结构，它根据给定的条件进行判断，以决定执行某个分支程序段，C 语言的 if 语句有三种基本形式：</p><ol><li>第一种形式为：if (表达式) 语句，其语义是：如果表达式的值为真，则执行其后的语句，否则不执行该语句</li><li>第二种形式为: if-else</li><li> 第三种形式为：if-else-if，前两种形式的 if 语句一般都用于两个分支以下的情况，当有多个分支选择时，可采用 if-else-if 语句<br><img data-src="../../../asset/2020/03/c-if.png" alt="c-if"></li></ol><h2 id="使用-if-语句应注意的问题"><a href="#使用-if-语句应注意的问题" class="headerlink" title="使用 if 语句应注意的问题"></a>使用 if 语句应注意的问题</h2><ol><li>为了避免这种二义性，C 语言规定，else 总是与它前面最近的 if 配对</li><li>在 if 语句中，条件判断表达式必须用括号括起来，在语句之后必须加分号</li><li>在 if 语句的三种形式中，所有的语句应为单个语句，如果要想在满足条件时执行一组（多个）语句，则必须把这一组语句用 <code>{}</code> 括起来组成一个复合语句，但是在 <code>}</code> 之后不能再加分号</li><li>在三种形式的 if 语句中，在 if 关键字之后均为表达式，该表达式通常是逻辑表达式或关系表达式，但也可以是其它表达式，如赋值表达式等，甚至也可以是一个变量。例如：<code>if(a=5) 语句</code>、<code>if(b) 语句</code> 都是合法的，只要表达式的值为非 0，即为 “真”</li></ol><h2 id="条件运算符与条件表达式"><a href="#条件运算符与条件表达式" class="headerlink" title="条件运算符与条件表达式"></a>条件运算符与条件表达式</h2><ol><li>条件运算符为 <code>?</code> 和 <code>:</code>，它是一个三目运算符，即有三个参与运算的量。由条件运算符组成条件表达式的一般形式为：表达式 1? 表达式 2: 表达式 3，其求值规则为：如果表达式 1 的值为真，则以表达式 2 的值作为条件表达式的值，否则以表达式 3 的值作为整个条件表达式的值</li><li>条件表达式通常用于赋值语句之中，例如条件语句：<code>if(a&gt;b) max=a; else max=b;</code>，可用条件表达式改写为 <code>max=(a&gt;b)?a:b;</code>，执行该语句的语义是：如 a&gt;b 为真，则把 a 赋予 max，否则把 b 赋予 max</li><li> 条件运算符的运算优先级低于关系运算符和算术运算符，但高于赋值符，因此 <code>max=(a&gt;b)?a:b</code> 可以去掉括号而写为 <code>max=a&gt;b?a:b</code>。条件运算符？和：是一对运算符，不能分开单独使用，其结合方向是自右至左</li></ol><h2 id="switch-语句"><a href="#switch-语句" class="headerlink" title="switch 语句"></a>switch 语句</h2><ol><li>C 语言还提供了另一种用于多分支选择的 switch 语句，其一般形式为：</li></ol><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">switch(表达式){</span><br><span class="line">    case 常量表达式: 语句1;</span><br><span class="line">    case 常量表达式: 语句2;</span><br><span class="line">    ...</span><br><span class="line">    case 常量表达式: 语句n;</span><br><span class="line">    default: 语句n+1;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ol start="2"><li>其语义是计算表达式的值，并逐个与其后的常量表达式值相比较，当表达式的值与某个常量表达式的值相等时，则执行其后的语句，然后不再进行判断，继续执行后面所有 case、default 后的语句（没有使用 break 关键字的时候）</li><li>在使用 switch 语句时还应注意以下几点：</li></ol><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">i. default子句可以省略不用</span><br><span class="line">ii. 在case后的各常量表达式的值不能相同，否则会出现错误</span><br><span class="line">iii. 在case后，允许有多个语句，可以不用{}括起来，但建议使用{}括起来</span><br><span class="line">iiii. 各case和default子句的先后顺序可以变动，而不会影响程序执行结果</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><div id="readmore-expansion" class="pjax"></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script data-pjax="" src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script data-pjax="">var isMobile=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),allowMobile=!1;if(!isMobile||isMobile&&allowMobile)try{var plugin=new ReadmorePlugin;plugin.init({type:"hexo",id:"readmore-container",name:"全栈技术驿站",blogId:"96641-5333172926158-056",qrcode:"https://www.techgrow.cn/img/wx_mp_qr.png",keyword:"Tech",random:"1",height:"auto",expires:"365",lockToc:"yes",interval:"30",baseUrl:"",execute:"yes",tocSelector:""})}catch(e){console.warn("readmore plugin occurred error: "+e.name+" | "+e.message)}</script></div><footer class="post-footer"><div class="reward-container"><div>支持一根棒棒糖！</div> <button> 赞赏</button><div class="post-reward"><div> <img src="/img/pay_wx.png" alt="Clay 微信"> <span>微信</span></div><div> <img src="/img/pay_zfb.png" alt="Clay 支付宝"> <span>支付宝</span></div></div></div><div class="post-copyright"><ul><li class="post-copyright-author"> <strong>本文作者：</strong> Clay</li><li class="post-copyright-link"> <strong>本文链接：</strong> <a href="https://www.techgrow.cn/posts/b27b9a6a.html" title="C 语言语法之二程序结构设计">https://www.techgrow.cn/posts/b27b9a6a.html</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class="contactme"><div class="social-list"><div class="social-item"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">欢迎添加博主微信，请备注 "博客"，届时会邀请您加入百人微信群</span><br> <img src="/img/wx_account_qr.png"></div></div></div><div class="post-tags"><a href="/tags/C%E8%AF%AD%E8%A8%80/" rel="tag"><i class="fa fa-tag"></i> C语言</a></div><div class="post-nav"><div class="post-nav-item"><a href="/posts/e728f445.html" rel="prev" title="Spring Boot Admin 集成钉钉群机器人报警通知"><i class="fa fa-angle-left"></i> Spring Boot Admin 集成钉钉群机器人报警通知</a></div><div class="post-nav-item"> <a href="/posts/1b7c9c6f.html" rel="next" title="Docker 安装 Privoxy 代理服务">Docker 安装 Privoxy 代理服务<i class="fa fa-angle-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> Copyright © 2018 – <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Clay</span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i></span> <span>站点总字数：</span> <span title="站点总字数">1.5m</span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i></span> <span>站点阅读时长 ≈</span> <span title="站点阅读时长">22:09</span></span></div><div id="site-runtime"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i></span><span id="runtime"></span></div><script language="javascript">function isPC(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=0;n<t.length;n++)if(0<e.indexOf(t[n]))return!1;return!0}function siteTime(e,t){window.setTimeout("siteTime(openOnPC, start)",1e3);var n=36e5,o=24*n;t=new Date("2018-12-27 08:00:00");var i=new Date,r=(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i-t),a=Math.floor(r/31536e6),s=Math.floor(r/o-365*a),d=Math.floor((r-(365*a+s)*o)/n),l=Math.floor((r-(365*a+s)*o-d*n)/6e4),u=Math.floor((r-(365*a+s)*o-d*n-6e4*l)/1e3);document.getElementById("runtime").innerHTML="Powered by Hexo & Docker | "+a+" 年 "+s+" 日 "+d+" 小时 "+l+" 分钟 "+u+" 秒 "}var showOnMobile=!1,openOnPC=isPC(),start=new Date;siteTime(openOnPC,start),openOnPC||showOnMobile||(document.getElementById("site-runtime").style.display="none")</script><div class="beian"> <span><img src="/img/gonganbeian.png" alt=""></span> <span><a href="https://beian.miit.gov.cn/" rel="external nofollow" target="_blank">粤 ICP 备 19024664 号</a></span> <span>|&nbsp;</span> <span><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=44011302004035" rel="external nofollow" target="_blank">粤公网安备 44011302004035 号</a></span></div><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span><span class="post-meta-item" id="busuanzi_container_site_pv"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><div class="sidebar-dimmer"></div> <a href="https://github.com/rqh656418510" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="external nofollow" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script size="200" alpha="0.5" zindex="-1" src="/lib/ribbon.js/dist/ribbon.min.js"></script><script src="/lib/animejs/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/lib/@next-theme/pjax/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script><script src="/lib/medium-zoom/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script><script src="/lib/lozad/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script><script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"/lib/pdfobject/pdfobject.min.js","integrity":"sha256-JJZNsid68vnh3/zyj0lY9BN5ynxVX/12XgOa1TlaYN0="},"url":"/lib/pdf/web/viewer.html"}</script><script src="/js/third-party/tags/pdf.js"></script><script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"/lib/mermaid/dist/mermaid.min.js","integrity":"sha256-stuqcu2FrjYCXDOytWFA5SoUE/r3nkp6gTglzNSlavU="}}</script><script src="/js/third-party/tags/mermaid.js"></script><script src="/js/third-party/pace.js"></script><script data-pjax="" async="" src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://www.techgrow.cn/lib/darkmode/darkmode@1.5.7.min.js"></script><script>
var options = {
  bottom: '64px',
  right: '30px',
  left: 'unset',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#282828',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: '🌓',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script><script src="https://www.techgrow.cn/lib/qiniu/qiniu@3.3.1.min.js"></script><script>
    var qiniu_domain = "https://oss.techgrow.cn";
    var qiniu_token_url = "https://open.techgrow.cn/app/api/qiniu/token/upload";
    var qiniu_debug = "true" === "false";

    // date format
    Date.prototype.format = function (fmt) {
      var o = {
        "M+": this.getMonth() + 1,
        "d+": this.getDate(),
        "h+": this.getHours(),
        "m+": this.getMinutes(),
        "s+": this.getSeconds(),
        "q+": Math.floor((this.getMonth() + 3) / 3),
        "S": this.getMilliseconds()
      };
      if (/(y+)/.test(fmt)) {
        fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
      }
      for (var k in o) {
        if (new RegExp("(" + k + ")").test(fmt)) {
          fmt = fmt.replace(
            RegExp.$1,
            (RegExp.$1.length == 1)
              ? (o[k])
              : (("00" + o[k]).substr(("" + o[k]).length))
          );
        }
      }
      return fmt;
    }

    // generate uuid
    function uuid() {
      var s = [];
      var hexDigits = "0123456789abcdef";
      for (var i = 0; i < 36; i++) {
        s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);
      }
      s[14] = "4";
      s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);
      s[8] = s[13] = s[18] = s[23] = "-";
      var uuid = s.join("");
      return uuid;
    }

    // sync get request
    function syncGet(url) {
      var xhr = null;
      if (window.XMLHttpRequest) {
        xhr = new XMLHttpRequest();
      } else {
        xhr = new ActiveXObject("Microsoft.XMLHTTP");
      }
      xhr.open('GET', url, false);
      xhr.send();
      return xhr;
    }

    // get upload file path
    function getUploadFilePath() {
      var now = new Date();
      var name = uuid().replace(/-/g, "");
      var nowStr = now.format("/yyyy/MM/dd/");
      return "uploads" + nowStr + name;
    }

    // get qiniu upload token
    function getUploadToken() {
      try {
        var xhr = syncGet(qiniu_token_url);
        var responseStatus = xhr.status;
        var responseJson = JSON.parse(xhr.responseText);
        if (responseStatus === 200) {
          return responseJson.data;
        } else if (responseStatus === 403) {
          alert(responseJson.msg || "图片上传失败，无法获取UploadToken，非法请求来源！");
        } else if (responseStatus === 429) {
          alert(responseJson.msg || "图片上传失败，无法获取UploadToken，上传过于频繁！");
        } else if (responseStatus === 500) {
          alert(responseJson.msg || "图片上传失败，无法获取UploadToken，系统内部出错！");
        } else {
          alert("图片上传失败，无法获取UploadToken，未知Http响应状态码！");
        }
      } catch (err) {
        if (qiniu_debug) {
          console.error(err);
        }
        alert("图片上传失败，无法获取UploadToken，未知错误！");
      }
      return null;
    }

    // qiniu upload image
    async function qiniuUploadImage(file) {
      var image_path = null;
      await uploadImage(file).then(function onFulfilled(res) {
        image_path = res;
      }).catch(function onRejected(err) {
        if (qiniu_debug) {
          console.error(err);
        }
      });
      return image_path;
    }

    // upload image
    function uploadImage(file) {
      return new Promise((resolve, reject) => {
        var config = null;
        var putExtra = null;
        var token = getUploadToken();
        var key = getUploadFilePath();
        // upload init
        var observable = qiniu.upload(file, key, token, putExtra, config);
        // upload start
        observable.subscribe({
          next(res) {
            // upload progress
          },
          error(err) {
            // upload falied
            reject("falied to upload image for qiniu: " + err.name);
          },
          complete(res) {
            // upload successed
            resolve(qiniu_domain + "/" + key);
          }
        });
      });
    }
  </script><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-CN","enable":true,"serverURL":"https://waline.techgrow.cn","cssUrl":"https://www.techgrow.cn/lib/@waline/client/client@2.5.1.min.css","commentCount":true,"pageview":false,"copyright":false,"allowUploadImage":true,"libUrl":"https://www.techgrow.cn/lib/@waline/client/client@2.5.1.min.js","locale":{"placeholder":"支持匿名评论啦，若希望及时收到博主的反馈，建议登录评论或者在上方的邮箱输入框留下邮箱地址哦 (๑•̀ㅂ•́)و✧"},"dark":"body.darkmode--activated","emoji":["https://www.techgrow.cn/lib/@waline/emojis/1.0.1/weibo"],"meta":["nick","mail","link"],"login":"enable","pageSize":10,"qiniuDebug":false,"qiniuDomain":"https://oss.techgrow.cn","qiniuTokenUrl":"https://open.techgrow.cn/app/api/qiniu/token/upload","qiniuLibUrl":"https://www.techgrow.cn/lib/qiniu/qiniu@3.3.1.min.js","el":"#waline","comment":true,"path":"/posts/b27b9a6a.html"}</script><link rel="stylesheet" href="https://www.techgrow.cn/lib/@waline/client/client@2.5.1.min.css"><script>
document.addEventListener('page:loaded', () => {
  if (!CONFIG.waline.allowUploadImage) {
    CONFIG.waline.imageUploader = false;
  }
  else if (CONFIG.waline.qiniuDomain && CONFIG.waline.qiniuTokenUrl) {
    CONFIG.waline.imageUploader = qiniuUploadImage;
  } else {
   CONFIG.waline.imageUploader = true;
  }
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script><div class="moon-menu"><div class="moon-menu-items"><div id="moon-menu-item-back2bottom" class="moon-menu-item"><i class="fas fa-chevron-down"></i></div><div id="moon-menu-item-back2top" class="moon-menu-item"><i class="fas fa-chevron-up"></i></div></div><div class="moon-menu-button"><svg class="moon-menu-bg"><circle class="moon-menu-cricle" cx="50%" cy="50%" r="44%"></circle><circle class="moon-menu-border" cx="50%" cy="50%" r="48%"></circle></svg><div class="moon-menu-content"><div class="moon-menu-icon"><i class="fas fa-ellipsis-v"></i></div><div class="moon-menu-text"></div></div></div></div><script src="/js/injector.js"></script><div class="comments" id="waline-comments" style="display:none"></div><script>function isMobile(){var i=navigator.userAgent.toLowerCase(),e="ipad"==i.match(/ipad/i),a="iphone os"==i.match(/iphone os/i),o="midp"==i.match(/midp/i),n="rv:1.2.3.4"==i.match(/rv:1.2.3.4/i),r="ucweb"==i.match(/ucweb/i),c="android"==i.match(/android/i),l="windows ce"==i.match(/windows ce/i),d="windows mobile"==i.match(/windows mobile/i);return!!(e||a||o||n||r||c||l||d)}var openOnMobile=isMobile(),showOnMobile=!1,aplayerEnable=!0;jQuery(document).ready(function(){aplayerEnable&&(openOnMobile&&!showOnMobile||jQuery("#aplayer").css("display","block"))}),jQuery(window).on("load",function(){aplayerEnable&&jQuery(".aplayer\\-icon.aplayer\\-icon\\-lrc").trigger("click")})</script></body></html>