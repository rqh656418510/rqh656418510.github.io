<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.0"><link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic%7CRoboto+Slab:300,300italic,400,400italic,700,700italic%7CRoboto+Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/@fortawesome/fontawesome-free/css/all.min.css" integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin="anonymous"><link rel="stylesheet" href="/lib/animate.css/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"www.techgrow.cn","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.13.0","exturl":false,"sidebar":{"position":"left","width":300,"display":"always","padding":18,"offset":12},"copycode":{"enable":true,"style":"flat"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script><meta name="description" content="专注于 Java、前端、移动端、微服务、分布式系统、数据库、系统架构、人工智能、大数据、云计算、物联网、虚拟化学习的技术博客。"><meta property="og:type" content="website"><meta property="og:title" content="Clay 的技术博客"><meta property="og:url" content="https://www.techgrow.cn/page/23/index.html"><meta property="og:site_name" content="Clay 的技术博客"><meta property="og:description" content="专注于 Java、前端、移动端、微服务、分布式系统、数据库、系统架构、人工智能、大数据、云计算、物联网、虚拟化学习的技术博客。"><meta property="og:locale" content="zh_CN"><meta property="article:author" content="Clay"><meta property="article:tag" content="Java"><meta property="article:tag" content="微服务"><meta property="article:tag" content="分布式系统"><meta property="article:tag" content="系统架构"><meta property="article:tag" content="大数据"><meta property="article:tag" content="人工智能"><meta property="article:tag" content="物联网"><meta property="article:tag" content="虚拟化"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.techgrow.cn/page/23/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/23/index.html","title":""}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Clay 的技术博客</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-135294383-1"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-135294383-1","only_pageview":false}</script><script src="/js/third-party/analytics/google-analytics.js"></script><script class="next-config" data-name="baidu_analytics" type="application/json">"84c09b30349a65573c5c642ff336969b"</script><script src="/js/third-party/analytics/baidu-analytics.js"></script><link rel="dns-prefetch" href="https://waline.techgrow.cn:9360"><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><style>.admonition{margin:1.5625em 0;padding:.6rem;overflow:hidden;font-size:.64rem;page-break-inside:avoid;border-left:.3rem solid #42b983;border-radius:.3rem;box-shadow:0 .1rem .4rem rgba(0,0,0,.05),0 0 .05rem rgba(0,0,0,.1);background-color:#fafafa}p.admonition-title{position:relative;margin:-.6rem -.6rem .8em -.6rem!important;padding:.4rem .6rem .4rem 2.5rem;font-weight:700;background-color:rgba(66,185,131,.1)}.admonition-title::before{position:absolute;top:.9rem;left:1rem;width:12px;height:12px;background-color:#42b983;border-radius:50%;content:' '}.info>.admonition-title,.todo>.admonition-title{background-color:rgba(0,184,212,.1)}.attention>.admonition-title,.caution>.admonition-title,.warning>.admonition-title{background-color:rgba(255,145,0,.1)}.error>.admonition-title,.fail>.admonition-title,.failure>.admonition-title,.missing>.admonition-title{background-color:rgba(255,82,82,.1)}.admonition.info,.admonition.todo{border-color:#00b8d4}.admonition.attention,.admonition.caution,.admonition.warning{border-color:#ff9100}.admonition.error,.admonition.fail,.admonition.failure,.admonition.missing{border-color:#ff5252}.info>.admonition-title::before,.todo>.admonition-title::before{background-color:#00b8d4;border-radius:50%}.attention>.admonition-title::before,.caution>.admonition-title::before,.warning>.admonition-title::before{background-color:#ff9100;border-radius:50%}.error>.admonition-title::before,.fail>.admonition-title::before,.failure>.admonition-title::before,.missing>.admonition-title::before{background-color:#ff5252;border-radius:50%}.admonition>:last-child{margin-bottom:0!important}</style><link rel="alternate" href="/atom.xml" title="Clay 的技术博客" type="application/atom+xml"><style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><script src="/lib/jquery/dist/jquery.min.js"></script><script data-pjax>!function(){var t=window.location.host;if(-1==t.indexOf("127.0.0.1")&&-1==t.indexOf("localhost")){var o=document.createElement("script"),e=window.location.protocol.split(":")[0];o.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(o,n)}}()</script><link rel="stylesheet" href="/lib/aplayer/dist/APlayer.min.css"><div id="aplayer" style="display:none"></div><script src="/lib/aplayer/dist/APlayer.min.js"></script><script src="/lib/aplayer/dist/color-thief.js"></script><script src="/lib/aplayer-init.js"></script><script src="https://res.wx.qq.com/open/js/jweixin-1.4.0.js"></script><script>function getTitle(){var t=jQuery("meta[property='og:title']");return t?t.attr("content"):""}function getDesc(){var t=jQuery("meta[property='og:description']");return t?t.attr("content"):""}function randomString(t){for(var e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=e.length,i="",r=0;r<t;++r)i+=e.charAt(Math.floor(Math.random()*n));return i}function initWx(t){wx.config({debug:!1,appId:t.appId,nonceStr:t.nonceStr,signature:t.signature,timestamp:t.timestamp,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ"]}),wx.ready(function(){wx.onMenuShareTimeline({title:t.title,link:t.link,imgUrl:t.imgUrl,success:function(){}}),wx.onMenuShareAppMessage({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl,type:"link",dataUrl:"",success:function(){}}),wx.onMenuShareQQ({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl,success:function(){},cancel:function(){}})}),wx.error(function(t){})}jQuery(function(){var e=getDesc(),n=getTitle(),i=randomString(16),r=(new Date).getTime(),a=window.location.href,t="https://open.techgrow.cn/app/api/wechat/js/signature?url="+a+"&noncestr="+i+"&timestamp="+r;jQuery.getJSON(t,function(t){initWx({desc:e,title:n,link:a,nonceStr:i,timestamp:r,signature:t.data,appId:"wx1fcf69355af43d41",imgUrl:"https://www.techgrow.cn/img/wx_share.jpg"})})})</script><div style="display:none"><img src="https://www.techgrow.cn/img/wx_share.jpg" alt></div><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Clay 的技术博客</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">用进废退 | 艺不压身</p></div><div class="site-nav-right"><div class="toggle popup-trigger"></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-search"><a href="/search" rel="section"><i class="fa fa-search fa-fw"></i>搜索</a></li><li class="menu-item menu-item-links"><a href="/links" rel="section"><i class="fas fa-link fa-fw"></i>友链</a></li><li class="menu-item menu-item-openplatform"><a href="https://open.techgrow.cn/" rel="external nofollow" target="_blank"><i class="fa fa-toolbox fa-fw"></i>开放平台</a></li><li class="menu-item menu-item-readingnotes"><a href="https://docs.techgrow.cn/notes/" rel="external nofollow" target="_blank"><i class="fa fa-book-open-reader fa-fw"></i>读书笔记</a></li><li class="menu-item menu-item-commentmanage"><a href="https://waline.techgrow.cn:9360/ui/login?lng=zh-cn" rel="external nofollow" target="_blank"><i class="fa fa-comment fa-fw"></i>评论管理</a></li></ul></nav></div><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-overview-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Clay" src="/img/head.jpg"></div><div class="site-state-wrap site-overview-item animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <span class="site-state-item-count">409</span> <span class="site-state-item-name">文章</span></div><div class="site-state-item site-state-tags"> <span class="site-state-item-count">42</span> <span class="site-state-item-name">标签</span></div></nav></div><div class="links-of-author site-overview-item animated"><span class="links-of-author-item"><a href="https://github.com/rqh656418510" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;rqh656418510" rel="external nofollow" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:rong656418510@gmail.com" title="E-Mail → mailto:rong656418510@gmail.com" rel="external nofollow" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span><span class="links-of-author-item"><a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-rss fa-fw"></i> RSS</a></span><span class="links-of-author-item"><a href="/sitemap.xml" title="SiteMap → &#x2F;sitemap.xml"><i class="fa fa-sitemap fa-fw"></i> SiteMap</a></span></div></div></div></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div> <a href="https://github.com/rqh656418510" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="external nofollow" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"/></svg></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner index posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang><link itemprop="mainEntityOfPage" href="https://www.techgrow.cn/posts/d1859c90.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/img/head.jpg"><meta itemprop="name" content="Clay"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Clay 的技术博客"><meta itemprop="description" content="专注于 Java、前端、移动端、微服务、分布式系统、数据库、系统架构、人工智能、大数据、云计算、物联网、虚拟化学习的技术博客。"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content=" | Clay 的技术博客"><meta itemprop="description" content></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> <a href="/posts/d1859c90.html" class="post-title-link" itemprop="url">Docker 之十三资源隔离与资源限制介绍</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-01-23 21:01:30" itemprop="dateCreated datePublished" datetime="2019-01-23T21:01:30+08:00">2019-01-23</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-12-13 19:53:01" itemprop="dateModified" datetime="2021-12-13T19:53:01+08:00">2021-12-13</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">评论数：</span><a title="waline" href="/posts/d1859c90.html#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/posts/d1859c90.html" itemprop="commentCount"></span></a></span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>2.2k</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span>2 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><blockquote><p><strong>虚拟机与容器底层实现的对比</strong></p></blockquote><p><img data-src="../../../asset/2019/01/vm-vs-docker.png" alt="vm-vs-docker"></p><p>虚拟机与容器的底层实现原理是不同的，正如上图片的对比。虚拟机实现资源隔离的方法是利用一个独立的 Guest OS，并利用 Hypervisor 虚拟化 CPU、内存、IO 设备等实现的。例如，为了虚拟化内存，Hypervisor 会创建一个 shadow page table，正常情况下，一个 page table 可以用来实现从虚拟内存到物理内存的翻译。相比虚拟机实现资源和环境隔离的方案，Docker 就显得简练很多，它不像虚拟机一样重新加载一个操作系统内核，引导、加载操作系统内核是一个比较耗时而又消耗资源的过程，Docker 是利用 Linux 内核特性（LXC）实现的隔离，运行容器的速度几乎等同于直接启动进程。</p><div class="post-button"> <a class="btn" href="/posts/d1859c90.html#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang><link itemprop="mainEntityOfPage" href="https://www.techgrow.cn/posts/44bda657.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/img/head.jpg"><meta itemprop="name" content="Clay"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Clay 的技术博客"><meta itemprop="description" content="专注于 Java、前端、移动端、微服务、分布式系统、数据库、系统架构、人工智能、大数据、云计算、物联网、虚拟化学习的技术博客。"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content=" | Clay 的技术博客"><meta itemprop="description" content></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> <a href="/posts/44bda657.html" class="post-title-link" itemprop="url">Jenkins 入门教程之二 Jenkins 与 SVN 搭建 CI-CD 环境</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-01-23 20:51:23" itemprop="dateCreated datePublished" datetime="2019-01-23T20:51:23+08:00">2019-01-23</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2019-07-21 22:13:53" itemprop="dateModified" datetime="2019-07-21T22:13:53+08:00">2019-07-21</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">评论数：</span><a title="waline" href="/posts/44bda657.html#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/posts/44bda657.html" itemprop="commentCount"></span></a></span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>1.4k</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><blockquote><p><strong>前言</strong></p></blockquote><p>本教程实战演示基于 SVN + Jenkins + Maven + JDK + Docker 搭建 CI/CD 环境，其中 SVN 基于 Debian 镜像手动安装，而 Jenkins、Maven、JDK 则基于 Tomcat 镜像手动安装。如果仅为了快速体验使用 Jenkins 的功能，可以直接 Pull <a target="_blank" rel="external nofollow" href="https://github.com/jenkinsci/docker/blob/master/README.md">Jenkins 官方的 Docker 镜像</a>，然后创建并启动 Docker 容器来体验 Jenkins 相关功能，此时可忽略下面教程中的大部分操作步骤。</p><blockquote><p><strong>Docker 环境安装与配置</strong></p></blockquote><ul><li>站内教程：<a href="/posts/57bca56f.html">Docker 介绍与安装</a></li></ul><blockquote><p><strong>基于 Docker 搭建 SVN 服务器</strong></p></blockquote><ul><li>站内教程：<a href="/posts/1b3fbf25.html">通过 Apache、Subversion 搭建 SVN 服务器，实现使用 HTTP/SVN 协议访问 SVN 仓库</a></li></ul><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 拉取Debian镜像</span></span><br><span class="line"><span class="keyword"># docker</span> pull debian</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建并启动容器，80是Apache端口，3690是Subversion端口，/var/lib/svn是所有SVN仓库的父目录</span></span><br><span class="line"><span class="keyword"># docker</span> run<span class="params"> -it</span><span class="params"> -p</span> 9126:80<span class="params"> -p</span> 4690:3690<span class="params"> --name</span> svn-httpd \<span class="params"></span></span><br><span class="line"><span class="params">         -v</span> /container/svn-server:/var/lib/svn \<span class="params"></span></span><br><span class="line"><span class="params">         -d</span> debian</span><br><span class="line"></span><br><span class="line"><span class="comment"># 连接容器</span></span><br><span class="line"><span class="keyword"># docker</span> <span class="built_in">exec</span><span class="params"> -it</span> svn-httpd /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改系统时间</span></span><br><span class="line"><span class="keyword"># ln</span><span class="params"> -sf</span> /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参考上面给出的本站教程，使用Apache、Subversion搭建SVN服务器</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 断开容器连接，不停止运行容器</span></span><br><span class="line"><span class="keyword"># ctrl</span> + p + q</span><br><span class="line"></span><br><span class="line"><span class="comment"># 最后如果Subversion容器能正常工作，建议执行commit操作生成Docker备份镜像</span></span><br><span class="line"><span class="keyword"># docker</span> commit<span class="params"> -a</span> <span class="string">"clay@gmail.com"</span><span class="params"> -m</span> <span class="string">"commit jenkins-svn-httpd image"</span> svn-httpd clay/jenkins-svn-httpd:1.0</span><br></pre></td></tr></tbody></table></figure><div class="post-button"> <a class="btn" href="/posts/44bda657.html#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang><link itemprop="mainEntityOfPage" href="https://www.techgrow.cn/posts/dbce0754.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/img/head.jpg"><meta itemprop="name" content="Clay"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Clay 的技术博客"><meta itemprop="description" content="专注于 Java、前端、移动端、微服务、分布式系统、数据库、系统架构、人工智能、大数据、云计算、物联网、虚拟化学习的技术博客。"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content=" | Clay 的技术博客"><meta itemprop="description" content></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> <a href="/posts/dbce0754.html" class="post-title-link" itemprop="url">Jenkins 入门教程之一 Jenkins 介绍</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-01-23 09:25:30" itemprop="dateCreated datePublished" datetime="2019-01-23T09:25:30+08:00">2019-01-23</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2019-07-21 22:13:53" itemprop="dateModified" datetime="2019-07-21T22:13:53+08:00">2019-07-21</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">评论数：</span><a title="waline" href="/posts/dbce0754.html#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/posts/dbce0754.html" itemprop="commentCount"></span></a></span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>1.2k</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><blockquote><p><strong>Jenkins 相关站点</strong></p></blockquote><ul><li><a target="_blank" rel="external nofollow" href="https://jenkins.io/">Jenkins 官网</a></li><li><a target="_blank" rel="external nofollow" href="https://jenkins.io/doc">Jenkins 官方文档</a></li><li><a target="_blank" rel="external nofollow" href="https://github.com/jenkinsci/docker/blob/master/README.md">官方 Jenkins Docker 镜像的使用说明文档</a></li></ul><blockquote><p><strong>Jenkins 与 Hundson 介绍</strong></p></blockquote><p>Jenkins 与 Hundson 是目前最流行的持续集成及自动化部署工具，基于 Java 语言开发，二者师出同门。2009 年甲骨文收购了 Sun 公司并继承了 Hudson 代码库。在 2011 年年初，甲骨文和开源社区之间的关系破裂，该项目被分成两个独立的项目 Jenkins 和 Hundson。其中 Jenkins 的团队由大部分原始开发人员组成，Hudson 则由甲骨文公司继续管理，所以二者是非常相似的产品。Jenkins 可以整合 Subversion、Git、GitHub 等，而 Husband 同样也可以。其他优秀的持续集成工具还有 Strider、GitLab CI、TeamCity（JetBrains）、Travis CI、Codeship、Codefresh 等。</p><blockquote><p><strong>持续集成介绍</strong></p></blockquote><ul><li>问题：各个小组分别负责各个具体模块开发，本模块独立测试虽然能够通过，但是上线前夕将所有模块整合到一起集成测试却发现存在很多问题，想要解决就需要把很多代码返工重写而且仍然有可能有问题，但现在时间很可能不够了。那怎么做会好一些呢？</li><li>概念：Continuous Integration（CI）持续集成指开发人员提交了新代码之后，立刻进行构建、自动化测试。根据测试结果，确定所有模块的代码是否能正确地集成在一起；如果失败，开发团队就要停下手中的工作立即修复它。Martin Fowler 说过：” 持续集成并不能消除 Bug，而是让它们非常容易发现和改正。”</li><li> 关注点：持续集成的关注点在于尽早发现项目整体运行存在的问题，并尽早解决。</li></ul><div class="post-button"> <a class="btn" href="/posts/dbce0754.html#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang><link itemprop="mainEntityOfPage" href="https://www.techgrow.cn/posts/91f8692e.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/img/head.jpg"><meta itemprop="name" content="Clay"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Clay 的技术博客"><meta itemprop="description" content="专注于 Java、前端、移动端、微服务、分布式系统、数据库、系统架构、人工智能、大数据、云计算、物联网、虚拟化学习的技术博客。"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content=" | Clay 的技术博客"><meta itemprop="description" content></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> <a href="/posts/91f8692e.html" class="post-title-link" itemprop="url">Docker 之十二可视化管理工具介绍</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-01-23 08:40:30" itemprop="dateCreated datePublished" datetime="2019-01-23T08:40:30+08:00">2019-01-23</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-12-13 19:53:01" itemprop="dateModified" datetime="2021-12-13T19:53:01+08:00">2021-12-13</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">评论数：</span><a title="waline" href="/posts/91f8692e.html#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/posts/91f8692e.html" itemprop="commentCount"></span></a></span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>43</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><div id="readmore-container"><blockquote><p><strong>主流的 Docker 可视化管理工具</strong></p></blockquote><p>docker ui、shipyard、portainer</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if(!isMobile)try{var plugin=new ReadmorePlugin;plugin.init({id:"readmore-container",blogId:"96641-5333172926158-056",name:"全栈技术驿站",qrcode:"https://www.techgrow.cn/img/wx_mp_qr.png",keyword:"Tech",lockToc:"yes",type:"hexo",random:"0.9",interval:"30",expires:"365",height:"auto"})}catch(e){console.warn("readmore plugin occurred error: "+e.name+" | "+e.message)}</script></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang><link itemprop="mainEntityOfPage" href="https://www.techgrow.cn/posts/8496a43e.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/img/head.jpg"><meta itemprop="name" content="Clay"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Clay 的技术博客"><meta itemprop="description" content="专注于 Java、前端、移动端、微服务、分布式系统、数据库、系统架构、人工智能、大数据、云计算、物联网、虚拟化学习的技术博客。"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content=" | Clay 的技术博客"><meta itemprop="description" content></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> <a href="/posts/8496a43e.html" class="post-title-link" itemprop="url">Docker 之十一实战 Push 镜像到阿里云镜像仓库</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-01-22 18:25:30" itemprop="dateCreated datePublished" datetime="2019-01-22T18:25:30+08:00">2019-01-22</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-12-13 19:53:01" itemprop="dateModified" datetime="2021-12-13T19:53:01+08:00">2021-12-13</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">评论数：</span><a title="waline" href="/posts/8496a43e.html#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/posts/8496a43e.html" itemprop="commentCount"></span></a></span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>54</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><blockquote><p><strong>设置 Registry 登录密码</strong></p></blockquote><p><img data-src="../../../asset/2019/01/docker-push-aliyun-0.png" alt="docker-push-aliyun-0"></p><div class="post-button"> <a class="btn" href="/posts/8496a43e.html#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang><link itemprop="mainEntityOfPage" href="https://www.techgrow.cn/posts/f13cae46.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/img/head.jpg"><meta itemprop="name" content="Clay"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Clay 的技术博客"><meta itemprop="description" content="专注于 Java、前端、移动端、微服务、分布式系统、数据库、系统架构、人工智能、大数据、云计算、物联网、虚拟化学习的技术博客。"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content=" | Clay 的技术博客"><meta itemprop="description" content></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> <a href="/posts/f13cae46.html" class="post-title-link" itemprop="url">Docker 之十实战使用 Docker 官方的 Redis 镜像</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-01-21 10:39:25" itemprop="dateCreated datePublished" datetime="2019-01-21T10:39:25+08:00">2019-01-21</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">评论数：</span><a title="waline" href="/posts/f13cae46.html#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/posts/f13cae46.html" itemprop="commentCount"></span></a></span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>84</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><blockquote><p><strong>Docker 官方 Redis 镜像的使用说明文档</strong></p></blockquote><ul><li><a target="_blank" rel="external nofollow" href="https://hub.docker.com/_/redis">https://hub.docker.com/_/redis</a></li></ul><blockquote><p><strong>使用 Docker 官方的 Redis 镜像</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 搜索所有可用的Redis镜像</span></span><br><span class="line"><span class="keyword"># docker</span> search redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载Docker官方提供的Redis5.0镜像（基于Debian-Stretch）</span></span><br><span class="line"><span class="keyword"># docker</span> pull redis:5.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建并启动（以后台方式）Redis容器，同时挂载Redis的数据文件目录和启用AOF</span></span><br><span class="line"><span class="keyword"># docker</span> run<span class="params"> -p</span> 6379:6379<span class="params"> --name</span> redis5.0 \<span class="params"></span></span><br><span class="line"><span class="params">         -v</span> /container/redis5.0/data:/data \<span class="params"></span></span><br><span class="line"><span class="params">         -d</span> redis:5.0 redis-server<span class="params"> --appendonly</span> yes</span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者指定Redis的配置文件目录来启动Redis容器</span></span><br><span class="line"><span class="keyword"># docker</span> run<span class="params"> -p</span> 6379:6379<span class="params"> --name</span> redis5.0 \<span class="params"></span></span><br><span class="line"><span class="params">         -v</span> /container/redis5.0/conf/redis.conf:/usr/<span class="built_in">local</span>/etc/redis/redis.conf \<span class="params"></span></span><br><span class="line"><span class="params">         -v</span> /container/redis5.0/data:/data \<span class="params"></span></span><br><span class="line"><span class="params">         -d</span> redis:5.0 redis-server /usr/<span class="built_in">local</span>/etc/redis/redis.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># 注意：</span></span><br><span class="line"><span class="comment"># 上面的/container/redis5.0/conf/redis.conf是Redis的配置文件目录（非配置文件本身），应该在此目录下预先添加Reids真正的配置文件redis.conf，然后再启动Redis容器</span></span><br><span class="line"><span class="comment"># 如果指定Reids配置文件目录来启动Redis容器，那配置文件redis.conf里应该注释掉"bind"相关配置项</span></span><br><span class="line"><span class="comment"># 指定Redis的配置文件目录来启动Redis容器，并添加Redis的配置文件，最终宿主机共享目录的目录结构如下：</span></span><br><span class="line">/container</span><br><span class="line">└── redis5.0</span><br><span class="line">    ├── conf</span><br><span class="line">    │&nbsp;&nbsp; └── redis.conf</span><br><span class="line">    │&nbsp;&nbsp;     └── redis.conf</span><br><span class="line">    └── data</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看当前所有正在运行的容器</span></span><br><span class="line"><span class="keyword"># docker</span> ps<span class="params"> -a</span></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                               NAMES</span><br><span class="line">dbe17690112d        redis:5.0           <span class="string">"docker-entrypoint.s…"</span>   3 minutes ago       Up 3 minutes        0.0.0.0:6379-&gt;6379/tcp              redis5.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 连接到Docker容器，连接之后如果想断开连接，在容器内的终端直接执行"exit"命令即可，连接断开后容器不会停止运行</span></span><br><span class="line"><span class="keyword"># docker</span> <span class="built_in">exec</span><span class="params"> -it</span> redis5.0 /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在容器内，连接到Redis服务器</span></span><br><span class="line"><span class="keyword"># redis</span>-cli<span class="params"> -p</span> 6379</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提示：Reids相关文件目录说明</span></span><br><span class="line"><span class="comment"># 默认数据文件目录：/data</span></span><br><span class="line"><span class="comment"># 默认安装目录：/usr/local/bin/</span></span><br><span class="line"><span class="comment"># 默认日志文件：在配置文件redis.conf中指定</span></span><br><span class="line"><span class="comment"># 默认配置文件：启动Redis容器的时候，如果不指定Redis的配置文件目录，则容器内使用默认参数启动Redis服务（即此时不存在默认的Reids配置文件）</span></span><br></pre></td></tr></tbody></table></figure><div class="post-button"> <a class="btn" href="/posts/f13cae46.html#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang><link itemprop="mainEntityOfPage" href="https://www.techgrow.cn/posts/8605ce00.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/img/head.jpg"><meta itemprop="name" content="Clay"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Clay 的技术博客"><meta itemprop="description" content="专注于 Java、前端、移动端、微服务、分布式系统、数据库、系统架构、人工智能、大数据、云计算、物联网、虚拟化学习的技术博客。"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content=" | Clay 的技术博客"><meta itemprop="description" content></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> <a href="/posts/8605ce00.html" class="post-title-link" itemprop="url">Docker 之九实战使用 Docker 官方的 MySQL 镜像</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-01-20 10:39:25" itemprop="dateCreated datePublished" datetime="2019-01-20T10:39:25+08:00">2019-01-20</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2023-01-10 10:39:25" itemprop="dateModified" datetime="2023-01-10T10:39:25+08:00">2023-01-10</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">评论数：</span><a title="waline" href="/posts/8605ce00.html#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/posts/8605ce00.html" itemprop="commentCount"></span></a></span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>658</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><div id="readmore-container"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li><a target="_blank" rel="external nofollow" href="https://hub.docker.com/_/mysql">Docker - MySQL 官方文档</a></li></ul><h2 id="拉取-MySQL-镜像"><a href="#拉取-MySQL-镜像" class="headerlink" title="拉取 MySQL 镜像"></a>拉取 MySQL 镜像</h2><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 搜索所有可用的MySQL镜像</span></span><br><span class="line"><span class="comment"># docker search mysql</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 拉取Docker官方提供的MySQL5.7镜像（基于Debian-Stretch）</span></span><br><span class="line"><span class="comment"># docker pull mysql:5.7</span></span><br></pre></td></tr></tbody></table></figure><h2 id="启动-MySQL-容器"><a href="#启动-MySQL-容器" class="headerlink" title="启动 MySQL 容器"></a>启动 MySQL 容器</h2><h3 id="Docker-启动容器"><a href="#Docker-启动容器" class="headerlink" title="Docker 启动容器"></a>Docker 启动容器</h3><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建并启动（以后台方式）MySQL容器，同时挂载MySQL的数据文件目录</span></span><br><span class="line"><span class="comment"># docker run -p 3308:3306 --name mysql5.7 \</span></span><br><span class="line">         -v /container/mysql5.7/data:/var/lib/mysql \</span><br><span class="line">         -e MYSQL_ROOT_PASSWORD=123456 \</span><br><span class="line">         -e TZ=Asia/Shanghai \</span><br><span class="line">         -d mysql:5.7</span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者挂载MySQL的配置文件目录、数据文件目录、日志文件目录</span></span><br><span class="line"><span class="comment"># docker run -p 3308:3306 --name mysql5.7 \</span></span><br><span class="line">         -v /container/mysql5.7/conf:/etc/mysql/conf.d \</span><br><span class="line">         -v /container/mysql5.7/data:/var/lib/mysql \</span><br><span class="line">         -v /container/mysql5.7/logs:/var/<span class="built_in">log</span>/mysql \</span><br><span class="line">         -e MYSQL_ROOT_PASSWORD=123456 \</span><br><span class="line">         -e TZ=Asia/Shanghai \</span><br><span class="line">         -d mysql:5.7</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看当前所有正在运行的容器</span></span><br><span class="line"><span class="comment"># docker ps -a</span></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                               NAMES</span><br><span class="line">7485feae5c64        mysql:5.7           <span class="string">"docker-entrypoint.s…"</span>   7 seconds ago       Up 5 seconds        33060/tcp, 0.0.0.0:3308-&gt;3306/tcp   mysql5.7</span><br><span class="line"></span><br><span class="line"><span class="comment"># 连接到Docker容器，连接之后如果想断开连接，在容器内的终端直接执行"exit"命令即可，连接断开后容器不会停止运行</span></span><br><span class="line"><span class="comment"># docker exec -it mysql5.7 /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># MySQL相关文件目录说明：</span></span><br><span class="line"><span class="comment"># 默认的日志文件目录：/var/log/mysql</span></span><br><span class="line"><span class="comment"># 默认的数据文件目录：/var/lib/mysql</span></span><br><span class="line"><span class="comment"># 默认的配置文件路径：/etc/mysql/my.cnf</span></span><br><span class="line"><span class="comment"># 值得一提的是，默认的配置文件 /etc/mysql/my.cnf 会分别加载 /etc/mysql/conf.d 和 /etc/mysql/mysql.conf.d 目录下的自定义配置文件</span></span><br></pre></td></tr></tbody></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>-e TZ=Asia/Shanghai</code></td><td>设置系统时区</td></tr><tr><td><code>-e MYSQL_ROOT_PASSWORD=123456</code></td><td>设置数据库密码</td></tr></tbody></table><h3 id="Docker-Compose-启动容器"><a href="#Docker-Compose-启动容器" class="headerlink" title="Docker-Compose 启动容器"></a>Docker-Compose 启动容器</h3><ul><li><code>docker-compose.yml</code> 配置文件的内容</li></ul><figure class="highlight yml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">"3.5"</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">mysql:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql:5.7</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">mall-mysql</span></span><br><span class="line">    <span class="attr">privileged:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">TZ:</span> <span class="string">'Asia/Shanghai'</span></span><br><span class="line">      <span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="number">123456</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">3308</span><span class="string">:3306</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">'/container/mysql5.7/conf:/etc/mysql/conf.d'</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">'/container/mysql5.7/data:/var/lib/mysql'</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">'/container/mysql5.7/logs:/var/log/mysql'</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">--default-authentication-plugin=mysql_native_password</span></span><br></pre></td></tr></tbody></table></figure><ul><li>启动 MySQL 容器</li></ul><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 后台启动容器</span></span><br><span class="line"><span class="comment"># docker-compose up -d</span></span><br></pre></td></tr></tbody></table></figure><h2 id="验证-MySQL-服务器"><a href="#验证-MySQL-服务器" class="headerlink" title="验证 MySQL 服务器"></a>验证 MySQL 服务器</h2><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在容器内执行登录MySQL服务器的命令</span></span><br><span class="line"><span class="comment"># docker exec -it mysql5.7 mysql -h localhost -u root -p</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建数据库</span></span><br><span class="line">mysql&gt; create database bbs default character <span class="built_in">set</span> utf8;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建表</span></span><br><span class="line">mysql&gt; create table bbs.user(id  bigint(20) not null auto_increment primary key, name varchar(25) not null) engine=innodb auto_increment=3 default charset=utf8;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 插入表数据</span></span><br><span class="line">mysql&gt; insert into bbs.user(name) values(<span class="string">"peter"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询表数据</span></span><br><span class="line">mysql&gt; select * from bbs.user;</span><br><span class="line">+----+-------+</span><br><span class="line">| id | name  |</span><br><span class="line">+----+-------+</span><br><span class="line">|  3 | peter |</span><br><span class="line">+----+-------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 退出登录</span></span><br><span class="line">mysql&gt; <span class="built_in">exit</span></span><br></pre></td></tr></tbody></table></figure><h2 id="开启-MySQL-远程访问"><a href="#开启-MySQL-远程访问" class="headerlink" title="开启 MySQL 远程访问"></a>开启 MySQL 远程访问</h2><p>开启 MySQL 远程访问的权限，这里仅供演示，出于数据库安全考虑，强烈不建议开启 <code>root</code> 用户的远程访问权限，尤其是生产环境。</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在容器内执行登录MySQL服务器的命令</span></span><br><span class="line"><span class="comment"># docker exec -it mysql5.7 mysql -h localhost -u root -p</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 切换数据库</span></span><br><span class="line">mysql&gt; use mysql;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 用户授权</span></span><br><span class="line">mysql&gt; grant all privileges  on *.* to root@<span class="string">'%'</span> identified by <span class="string">"123456"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 更新授权信息</span></span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 退出登录</span></span><br><span class="line">mysql&gt; <span class="built_in">exit</span></span><br></pre></td></tr></tbody></table></figure><p>如果以后想在宿主机上或者外部通过 MySQL 客户端连接到 Docker 容器内的 MySQL 服务器，使用以下命令即可。其中 <code>192.168.1.198</code> 是 Docker 容器所在宿主机的 IP，<code>3308</code> 是宿主机的 MySQL 映射端口。</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -h 192.168.1.198 -u root -P 3308 -p</span><br></pre></td></tr></tbody></table></figure><p>完成 MySQL 授权后，如果外部依然无法连接 Docker 容器内的 MySQL 服务器，务必检查宿主机的防火墙是否开放了 MySQL 的映射端口（如上面的 <code>3308</code> 端口）。</p><h2 id="备份-MySQL-数据库"><a href="#备份-MySQL-数据库" class="headerlink" title="备份 MySQL 数据库"></a>备份 MySQL 数据库</h2><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 备份MySQL所有数据库的数据</span></span><br><span class="line"><span class="comment"># docker exec mysql5.7 sh -c 'exec mysqldump --all-databases -uroot -p"123456"'&gt; ~/all-databases.sql</span></span><br></pre></td></tr></tbody></table></figure><h2 id="查看-MySQL-的日志信息"><a href="#查看-MySQL-的日志信息" class="headerlink" title="查看 MySQL 的日志信息"></a>查看 MySQL 的日志信息</h2><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 显示所有日志信息</span></span><br><span class="line"><span class="comment"># docker logs mysql5.7</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 跟踪显示日志信息</span></span><br><span class="line"><span class="comment"># docker logs -f --tail 20 mysql5.7</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者进入 MySQL 容器内的日志目录 /var/log/mysql，进一步分析日志信息</span></span><br></pre></td></tr></tbody></table></figure><h2 id="更改-MySQL-的最大连接数"><a href="#更改-MySQL-的最大连接数" class="headerlink" title="更改 MySQL 的最大连接数"></a>更改 MySQL 的最大连接数</h2><table><thead><tr><th>参数</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td> max_connections</td><td>151</td><td> 数据库的最大连接数</td></tr><tr><td> max_user_connections</td><td></td><td> 单用户的最大连接数</td></tr></tbody></table><h3 id="临时更改生效"><a href="#临时更改生效" class="headerlink" title="临时更改生效"></a>临时更改生效</h3><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在容器内执行登录MySQL服务器的命令</span></span><br><span class="line"><span class="comment"># docker exec -it mysql5.7 mysql -h localhost -u root -p</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 临时更改最大连接数（重启后失效）</span></span><br><span class="line">mysql&gt; <span class="built_in">set</span> GLOBAL max_connections=16384;</span><br><span class="line">mysql&gt; <span class="built_in">set</span> GLOBAL max_user_connections=2000;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 退出登录</span></span><br><span class="line">mysql&gt; <span class="built_in">exit</span></span><br></pre></td></tr></tbody></table></figure><h3 id="永久更改生效"><a href="#永久更改生效" class="headerlink" title="永久更改生效"></a>永久更改生效</h3><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 连接到Docker容器，连接之后如果想断开连接，在容器内的终端直接执行"exit"命令即可，连接断开后容器不会停止运行</span></span><br><span class="line"><span class="comment"># docker exec -it mysql5.7 /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 更改配置文件，在末尾添加两行内容</span></span><br><span class="line"><span class="comment"># vim /etc/mysql/mysql.conf.d/mysqld.cnf </span></span><br><span class="line">max_connections=16384</span><br><span class="line">max_user_connections=2000</span><br></pre></td></tr></tbody></table></figure><h3 id="验证更改结果"><a href="#验证更改结果" class="headerlink" title="验证更改结果"></a>验证更改结果</h3><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在容器内执行登录MySQL服务器的命令</span></span><br><span class="line"><span class="comment"># docker exec -it mysql5.7 mysql -h localhost -u root -p</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看最大连接数</span></span><br><span class="line">mysql&gt; show variables like <span class="string">'max_connections'</span>;</span><br><span class="line">mysql&gt; show variables like <span class="string">"max_user_connections"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 退出登录</span></span><br><span class="line">mysql&gt; <span class="built_in">exit</span></span><br></pre></td></tr></tbody></table></figure><div class="admonition note"><p class="admonition-title">提示</p><p>若 MySQL 的最大连接数更改后无法生效，则建议进一步更改 Linux 系统的最大打开文件描述符数，具体可以参考 <a href="/posts/88a10b.html">这篇文章</a>。</p></div><h2 id="更改系统的镜像源"><a href="#更改系统的镜像源" class="headerlink" title="更改系统的镜像源"></a>更改系统的镜像源</h2><p>若希望更改系统的镜像源，可以按照以下步骤进行操作，适用于 Debian 9（Stretch）。</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 连接到Docker容器，连接之后如果想断开连接，在容器内的终端直接执行"exit"命令即可，连接断开后容器不会停止运行</span></span><br><span class="line"><span class="comment"># docker exec -it mysql5.7 /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用阿里云镜像站</span></span><br><span class="line"><span class="comment"># cp /etc/apt/sources.list /etc/apt/backup.sources.list</span></span><br><span class="line"><span class="comment"># echo "deb http://mirrors.aliyun.com/debian/ stretch main non-free contrib" &gt; /etc/apt/sources.list</span></span><br><span class="line"><span class="comment"># echo "deb http://mirrors.aliyun.com/debian-security stretch/updates main" &gt;&gt; /etc/apt/sources.list</span></span><br><span class="line"><span class="comment"># echo "deb http://mirrors.aliyun.com/debian/ stretch-updates main non-free contrib" &gt;&gt; /etc/apt/sources.list</span></span><br><span class="line"><span class="comment"># echo "deb http://mirrors.aliyun.com/debian/ stretch-backports main non-free contrib" &gt;&gt; /etc/apt/sources.list</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 更新软件索引</span></span><br><span class="line"><span class="comment"># apt-get update</span></span><br></pre></td></tr></tbody></table></figure></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if(!isMobile)try{var plugin=new ReadmorePlugin;plugin.init({id:"readmore-container",blogId:"96641-5333172926158-056",name:"全栈技术驿站",qrcode:"https://www.techgrow.cn/img/wx_mp_qr.png",keyword:"Tech",lockToc:"yes",type:"hexo",random:"0.9",interval:"30",expires:"365",height:"auto"})}catch(e){console.warn("readmore plugin occurred error: "+e.name+" | "+e.message)}</script></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang><link itemprop="mainEntityOfPage" href="https://www.techgrow.cn/posts/79ba4cd.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/img/head.jpg"><meta itemprop="name" content="Clay"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Clay 的技术博客"><meta itemprop="description" content="专注于 Java、前端、移动端、微服务、分布式系统、数据库、系统架构、人工智能、大数据、云计算、物联网、虚拟化学习的技术博客。"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content=" | Clay 的技术博客"><meta itemprop="description" content></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> <a href="/posts/79ba4cd.html" class="post-title-link" itemprop="url">Docker 之八实战构建 Tomcat 服务器的 Docker 镜像</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-01-19 17:12:34" itemprop="dateCreated datePublished" datetime="2019-01-19T17:12:34+08:00">2019-01-19</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-12-13 19:53:01" itemprop="dateModified" datetime="2021-12-13T19:53:01+08:00">2021-12-13</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">评论数：</span><a title="waline" href="/posts/79ba4cd.html#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/posts/79ba4cd.html" itemprop="commentCount"></span></a></span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>204</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><blockquote><p><strong>实战内容介绍</strong></p></blockquote><p>编写 Dockerfile 文件，指定终端登录后的默认路径，安装 vim、ifconfig、jdk、tomcat，并配置 jdk 与 tomcat 的环境变量，最后通过 Dockerfile 文件构建新的 Docker 镜像（基于 Centos）并运行。</p><blockquote><p><strong>目录结构介绍</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 后续所有操作都在/root/build-tomcat目录下进行</span></span><br><span class="line"><span class="keyword"># tree</span> /root/build-tomcat</span><br><span class="line">/root/build-tomcat</span><br><span class="line">├── apache-tomcat-7.0.77.tar.gz</span><br><span class="line">├── dockerfile-tomcat</span><br><span class="line">└── jdk1.8.0_201.tar.gz</span><br></pre></td></tr></tbody></table></figure><div class="post-button"> <a class="btn" href="/posts/79ba4cd.html#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang><link itemprop="mainEntityOfPage" href="https://www.techgrow.cn/posts/5233fd9d.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/img/head.jpg"><meta itemprop="name" content="Clay"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Clay 的技术博客"><meta itemprop="description" content="专注于 Java、前端、移动端、微服务、分布式系统、数据库、系统架构、人工智能、大数据、云计算、物联网、虚拟化学习的技术博客。"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content=" | Clay 的技术博客"><meta itemprop="description" content></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> <a href="/posts/5233fd9d.html" class="post-title-link" itemprop="url">SpringBoot 整合 Logback 日志框架</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-01-16 22:16:37" itemprop="dateCreated datePublished" datetime="2019-01-16T22:16:37+08:00">2019-01-16</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">评论数：</span><a title="waline" href="/posts/5233fd9d.html#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/posts/5233fd9d.html" itemprop="commentCount"></span></a></span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>2.2k</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span>2 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><blockquote><p><strong>前言</strong></p></blockquote><p>目前比较流行的日志框架有 Log4j、Logback 等，这两个框架的作者是同一个人，Logback 旨在作为流行的 Log4j 项目的后续版本，从而恢复 Log4j 离开的位置。另外&nbsp;SLF4J (Simple Logging Facade for Java)&nbsp;则是一个日志门面框架，提供了日志系统中常用的接口，Logback 和 Log4j 则对 SLF4J 进行了实现。本文将讲述如何在 Spring Boot 中应用 SLF4J + Logback 实现日志的记录。</p><blockquote><p><strong>引入依赖</strong></p></blockquote><p>Spring Boot 默认内置了 Logback 日志框架，一般只需在 Maven 中要引入 <code>spring-boot-starter-logging</code> 依赖。</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><div class="post-button"> <a class="btn" href="/posts/5233fd9d.html#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang><link itemprop="mainEntityOfPage" href="https://www.techgrow.cn/posts/988f02de.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/img/head.jpg"><meta itemprop="name" content="Clay"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Clay 的技术博客"><meta itemprop="description" content="专注于 Java、前端、移动端、微服务、分布式系统、数据库、系统架构、人工智能、大数据、云计算、物联网、虚拟化学习的技术博客。"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content=" | Clay 的技术博客"><meta itemprop="description" content></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> <a href="/posts/988f02de.html" class="post-title-link" itemprop="url">Centos7 使用 RPM 源安装 MySQL</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-01-15 21:25:21" itemprop="dateCreated datePublished" datetime="2019-01-15T21:25:21+08:00">2019-01-15</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-05-17 22:13:39" itemprop="dateModified" datetime="2021-05-17T22:13:39+08:00">2021-05-17</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">评论数：</span><a title="waline" href="/posts/988f02de.html#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/posts/988f02de.html" itemprop="commentCount"></span></a></span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>110</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><blockquote><p><strong>系统环境</strong></p></blockquote><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CentOS Linux release 7.6.1810 (Core)</span><br><span class="line">Linux centos7 3.10.0-957.5.1.el7.x86_64 #1 SMP Fri Feb 1 14:54:57 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>卸载 Mariadb</strong></p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查找mariadb模块</span></span><br><span class="line"><span class="keyword"># rpm</span><span class="params"> -qa</span> | grep mariadb</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除查找到的mariadb模块</span></span><br><span class="line"><span class="keyword"># rpm</span><span class="params"> -e</span><span class="params"> --nodeps</span> xxxx</span><br></pre></td></tr></tbody></table></figure><div class="post-button"> <a class="btn" href="/posts/988f02de.html#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><nav class="pagination"><a class="extend prev" rel="prev" href="/page/22/"><i class="fa fa-angle-left" aria-label="上一页"></i></a> <a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/22/">22</a><span class="page-number current">23</span><a class="page-number" href="/page/24/">24</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/">27</a><a class="extend next" rel="next" href="/page/24/"><i class="fa fa-angle-right" aria-label="下一页"></i></a></nav></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> Copyright &copy; 2018 – <span itemprop="copyrightYear">2023</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Clay</span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i></span> <span>站点总字数：</span> <span title="站点总字数">814k</span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i></span> <span>站点阅读时长 &asymp;</span> <span title="站点阅读时长">12:20</span></span></div><div id="site-runtime"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i></span><span id="runtime"></span></div><script language="javascript">function isPC(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=0;n<t.length;n++)if(0<e.indexOf(t[n]))return!1;return!0}function siteTime(e,t){window.setTimeout("siteTime(openOnPC, start)",1e3);var n=36e5,o=24*n;t=new Date("2018-12-27 08:00:00");var i=new Date,r=(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i-t),a=Math.floor(r/31536e6),s=Math.floor(r/o-365*a),d=Math.floor((r-(365*a+s)*o)/n),l=Math.floor((r-(365*a+s)*o-d*n)/6e4),u=Math.floor((r-(365*a+s)*o-d*n-6e4*l)/1e3);document.getElementById("runtime").innerHTML="Powered by Hexo & Docker | "+a+" 年 "+s+" 日 "+d+" 小时 "+l+" 分钟 "+u+" 秒 "}var showOnMobile=!1,openOnPC=isPC(),start=new Date;siteTime(openOnPC,start),openOnPC||showOnMobile||(document.getElementById("site-runtime").style.display="none")</script><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span><span class="post-meta-item" id="busuanzi_container_site_pv"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="beian"> <span><img src="/img/gonganbeian.png" alt></span> <span><a href="https://beian.miit.gov.cn/" rel="external nofollow" target="_blank">粤ICP备19024664号</a></span></div></div></footer><script size="200" alpha="0.5" zindex="-1" src="/lib/ribbon.js/dist/ribbon.min.js"></script><script src="/lib/animejs/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/lib/@next-theme/pjax/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script><script src="/lib/medium-zoom/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script><script src="/lib/lozad/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script><script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"/lib/pdfobject/pdfobject.min.js","integrity":"sha256-tu9j5pBilBQrWSDePOOajCUdz6hWsid/lBNzK4KgEPM="},"url":"/lib/pdf/web/viewer.html"}</script><script src="/js/third-party/tags/pdf.js"></script><script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"/lib/mermaid/dist/mermaid.min.js","integrity":"sha256-ZfzwelSToHk5YAcr9wbXAmWgyn9Jyq08fSLrLhZE89w="}}</script><script src="/js/third-party/tags/mermaid.js"></script><script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://unpkg.com/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script><script>
var options = {
  bottom: '64px',
  right: '30px',
  left: 'unset',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#282828',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: '🌓',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script><script src="https://unpkg.com/qiniu-js@3.3.1/dist/qiniu.min.js"></script><script>
    var qiniu_domain = "https://qiniu.techgrow.cn";
    var qiniu_token_url = "https://open.techgrow.cn/app/api/qiniu/token/upload";
    var qiniu_debug = "true" === "false";

    // date format
    Date.prototype.format = function (fmt) {
      var o = {
        "M+": this.getMonth() + 1,
        "d+": this.getDate(),
        "h+": this.getHours(),
        "m+": this.getMinutes(),
        "s+": this.getSeconds(),
        "q+": Math.floor((this.getMonth() + 3) / 3),
        "S": this.getMilliseconds()
      };
      if (/(y+)/.test(fmt)) {
        fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
      }
      for (var k in o) {
        if (new RegExp("(" + k + ")").test(fmt)) {
          fmt = fmt.replace(
            RegExp.$1,
            (RegExp.$1.length == 1)
              ? (o[k])
              : (("00" + o[k]).substr(("" + o[k]).length))
          );
        }
      }
      return fmt;
    }

    // generate uuid
    function uuid() {
      var s = [];
      var hexDigits = "0123456789abcdef";
      for (var i = 0; i < 36; i++) {
        s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);
      }
      s[14] = "4";
      s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);
      s[8] = s[13] = s[18] = s[23] = "-";
      var uuid = s.join("");
      return uuid;
    }

    // sync get request
    function syncGet(url) {
      var xhr = null;
      if (window.XMLHttpRequest) {
        xhr = new XMLHttpRequest();
      } else {
        xhr = new ActiveXObject("Microsoft.XMLHTTP");
      }
      xhr.open('GET', url, false);
      xhr.send();
      return xhr;
    }

    // get upload file path
    function getUploadFilePath() {
      var now = new Date();
      var name = uuid().replace(/-/g, "");
      var nowStr = now.format("/yyyy/MM/dd/");
      return "uploads" + nowStr + name;
    }

    // get qiniu upload token
    function getUploadToken() {
      try {
        var xhr = syncGet(qiniu_token_url);
        var responseStatus = xhr.status;
        var responseJson = JSON.parse(xhr.responseText);
        if (responseStatus === 200) {
          return responseJson.data;
        } else if (responseStatus === 403) {
          alert(responseJson.msg || "图片上传失败，无法获取UploadToken，非法请求来源！");
        } else if (responseStatus === 429) {
          alert(responseJson.msg || "图片上传失败，无法获取UploadToken，上传过于频繁！");
        } else if (responseStatus === 500) {
          alert(responseJson.msg || "图片上传失败，无法获取UploadToken，系统内部出错！");
        } else {
          alert("图片上传失败，无法获取UploadToken，未知Http响应状态码！");
        }
      } catch (err) {
        if (qiniu_debug) {
          console.error(err);
        }
        alert("图片上传失败，无法获取UploadToken，未知错误！");
      }
      return null;
    }

    // qiniu upload image
    async function qiniuUploadImage(file) {
      var image_path = null;
      await uploadImage(file).then(function onFulfilled(res) {
        image_path = res;
      }).catch(function onRejected(err) {
        if (qiniu_debug) {
          console.error(err);
        }
      });
      return image_path;
    }

    // upload image
    function uploadImage(file) {
      return new Promise((resolve, reject) => {
        var config = null;
        var putExtra = null;
        var token = getUploadToken();
        var key = getUploadFilePath();
        // upload init
        var observable = qiniu.upload(file, key, token, putExtra, config);
        // upload start
        observable.subscribe({
          next(res) {
            // upload progress
          },
          error(err) {
            // upload falied
            reject("falied to upload image for qiniu: " + err.name);
          },
          complete(res) {
            // upload successed
            resolve(qiniu_domain + "/" + key);
          }
        });
      });
    }
  </script><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-CN","enable":true,"serverURL":"https://waline.techgrow.cn:9360","cssUrl":"https://unpkg.com/@waline/client@2.5.1/dist/waline.css","commentCount":true,"pageview":false,"copyright":false,"allowUploadImage":true,"libUrl":"https://unpkg.com/@waline/client@2.5.1/dist/waline.js","locale":{"placeholder":"支持匿名评论啦，若希望及时收到博主的反馈，建议登录评论或者在上方的邮箱输入框留下邮箱地址哦 (๑•̀ㅂ•́)و✧"},"dark":"body.darkmode--activated","emoji":["https://unpkg.com/@waline/emojis@1.0.1/weibo"],"meta":["nick","mail","link"],"login":"enable","pageSize":10,"qiniuDebug":false,"qiniuDomain":"https://qiniu.techgrow.cn","qiniuTokenUrl":"https://open.techgrow.cn/app/api/qiniu/token/upload","el":"#waline","comment":true,"path":"/page/23/"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@2.5.1/dist/waline.css"><script>
document.addEventListener('page:loaded', () => {
  if (!CONFIG.waline.allowUploadImage) {
    CONFIG.waline.imageUploader = false;
  }
  else if (CONFIG.waline.qiniuDomain && CONFIG.waline.qiniuTokenUrl) {
    CONFIG.waline.imageUploader = qiniuUploadImage;
  } else {
   CONFIG.waline.imageUploader = true;
  }
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script><div class="comments" id="waline-comments" style="display:none"></div><script>function isMobile(){var i=navigator.userAgent.toLowerCase(),e="ipad"==i.match(/ipad/i),a="iphone os"==i.match(/iphone os/i),o="midp"==i.match(/midp/i),n="rv:1.2.3.4"==i.match(/rv:1.2.3.4/i),r="ucweb"==i.match(/ucweb/i),c="android"==i.match(/android/i),l="windows ce"==i.match(/windows ce/i),d="windows mobile"==i.match(/windows mobile/i);return!!(e||a||o||n||r||c||l||d)}var openOnMobile=isMobile(),showOnMobile=!1,aplayerEnable=!0;jQuery(document).ready(function(){aplayerEnable&&(openOnMobile&&!showOnMobile||jQuery("#aplayer").css("display","block"))}),jQuery(window).on("load",function(){aplayerEnable&&jQuery(".aplayer\\-icon.aplayer\\-icon\\-lrc").trigger("click")})</script></body></html>